---
tags: ["Type/Reference"]
---
# 标签规范化自动化脚本使用说明

## 📋 脚本功能

`batch_add_domain_tags.py` 脚本可以自动为Markdown文件添加Domain/Type/Status标签。

## 🎯 核心特性

### 1. 智能Domain分类
根据文件路径自动判断并添加适当的Domain标签：
- **Professional**: 职业发展相关
- **Language**: 语言与移民相关
- **Cognitive**: 认知系统相关
- **Technology**: 技术栈、工具相关
- **AI**: AI、Prompt工程相关

### 2. 子Domain细分
自动识别并添加子标签：
- Technology → Git, Docker, API, Python等
- AI → Agent, PromptEngineering, LLM等
- Professional → CareerPlanning, Skill, SideHustle等

### 3. Type标签推断
根据文件名推断类型：
- Index → `Type/Index`
- Template → `Type/Template`
- Guide/Manual/Handbook → `Type/Reference`
- System/Protocol → `Type/System`
- Note/Diary/Journal → `Type/Note`
- Analysis/Report → `Type/Analysis`

### 4. 智能跳过
- 已有Domain标签的文件自动跳过
- 读取错误会记录但不中断处理

## 🚀 使用方法

### 方法1: 直接运行脚本（推荐）

1. **打开终端/CMD**

2. **进入脚本目录**
   ```bash
   cd "d:\迅雷下载\@同步文件\OneDrive\obsidianDoc\Scripts"
   ```

3. **运行脚本**
   ```bash
   python batch_add_domain_tags.py
   ```

### 方法2: 使用Python命令

```bash
python "d:\迅雷下载\@同步文件\OneDrive\obsidianDoc\Scripts\batch_add_domain_tags.py"
```

### 方法3: 在IDE中运行

1. 在VSCode中打开 `batch_add_domain_tags.py`
2. 按F5运行（需要安装Python扩展）

## 📊 输出示例

```
============================================================
标签规范化批量处理脚本
============================================================

🔍 扫描Markdown文件...
📊 找到 45 个需要处理的文件

🚀 开始处理...

  ✓ Git典型工作流及高阶操作.md - 添加标签: Domain/Technology, Domain/Technology/Git, Type/Reference...
  ✓ Dockerfile部署流程.md - 添加标签: Domain/Technology, Domain/Technology/Docker, Type/Reference...
  ✓ ...

============================================================
✅ 处理完成！
  成功: 43 个文件
  失败: 2 个文件
  总计: 45 个文件
============================================================
```

## 🔧 配置说明

如果需要修改分类规则，编辑脚本中的配置部分：

```python
# Domain分类规则
DOMAIN_RULES = {
    r"2\.Topics/01\.技术栈": "Domain/Technology",
    # ... 更多规则
}

# 子Domain规则
SUBDOMAIN_RULES = {
    r".*[Gg]it.*": "Domain/Technology/Git",
    # ... 更多规则
}
```

## ✅ 安全特性

1. **备份**: 脚本直接修改文件，建议先备份
2. **跳过已有标签文件**: 不会重复处理已规范化的文件
3. **错误处理**: 单个文件失败不影响其他文件处理
4. **UTF-8编码**: 支持中文文件名和内容

## 📝 注意事项

1. **Git版本控制**: 建议在运行脚本前提交当前更改
   ```bash
   git add .
   git commit -m "批量添加标签前备份"
   ```

2. **验证结果**: 运行后检查Git diff
   ```bash
   git diff
   ```

3. **撤销更改**: 如果不满意，可以回滚
   ```bash
   git checkout -- .
   ```

## 🎯 执行后验证

### 方法1: 使用Dataview查询
```dataview
LIST
FROM [[ ]]
WHERE contains(tags, "Domain/")
```

### 方法2: 检查特定Domain
```dataview
TABLE file.link
FROM [[ ]]
WHERE contains(tags, "Domain/AI")
```

### 方法3: 查找未处理文件
```dataview
LIST
FROM [[ ]]
WHERE !contains(tags, "Domain/")
```

## 🐛 故障排除

### 问题1: 找不到Python
**解决**:
- Windows: 安装Python 3.8+
- 验证: `python --version`

### 问题2: 权限错误
**解决**:
- 以管理员身份运行
- 检查文件是否被其他程序占用

### 问题3: 编码错误
**解决**:
- 脚本已设置UTF-8编码
- 如果仍有问题，检查文件是否包含特殊字符

## 📈 预期结果

运行后，所有未规范化的Markdown文件将获得：
- ✅ 至少一个Domain标签（如：Domain/AI）
- ✅ 至少一个Type标签（如：Type/Reference）
- ✅ 可能的Status标签（如：Status/Review）

## 🔄 后续维护

运行完脚本后：
1. 使用Dataview验证结果
2. 手动检查边缘情况
3. 更新标签映射规则（如需要）
4. 定期运行脚本保持一致性

---

**脚本版本**: v1.0
**更新日期**: 2026-01-24
**维护者**: Claude Code
