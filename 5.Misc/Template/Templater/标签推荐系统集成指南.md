# æ ‡ç­¾æ¨èç³»ç»Ÿé›†æˆæŒ‡å—

> å°†æ™ºèƒ½æ ‡ç­¾æ¨èç³»ç»Ÿæ•´åˆåˆ° Obsidian ç¬”è®°åˆ›å»ºå·¥ä½œæµ
> åˆ›å»ºæ—¶é—´: 2026-01-26
> ç›¸å…³: çŸ¥è¯†åº“ä¼˜åŒ–çº¿è·¯å›¾ P2-3 - é›†æˆåˆ°ç¬”è®°åˆ›å»ºæ¨¡æ¿

---

## ğŸ“‹ ç›®å½•

- [ç³»ç»Ÿæ¦‚è¿°](#ç³»ç»Ÿæ¦‚è¿°)
- [é›†æˆæ­¥éª¤](#é›†æˆæ­¥éª¤)
- [ç¬”è®°æ¨¡æ¿é…ç½®](#ç¬”è®°æ¨¡æ¿é…ç½®)
- [ä½¿ç”¨ç¤ºä¾‹](#ä½¿ç”¨ç¤ºä¾‹)
- [æ•…éšœæ’é™¤](#æ•…éšœæ’é™¤)

---

## ç³»ç»Ÿæ¦‚è¿°

### é›†æˆç›®æ ‡

å°†ç°æœ‰çš„ `tag_recommender.md` å’Œ `tag_recommender_rules.md` æ•´åˆåˆ°ç¬”è®°åˆ›å»ºæµç¨‹,å®ç°:

- **è‡ªåŠ¨æ¨è**: åˆ›å»ºç¬”è®°æ—¶è‡ªåŠ¨æ¨èæ ‡ç­¾
- **ä¸€é”®åº”ç”¨**: å¿«é€Ÿåº”ç”¨æ¨èæ ‡ç­¾
- **æ™ºèƒ½è°ƒæ•´**: åŸºäºç”¨æˆ·åé¦ˆä¼˜åŒ–æ¨è

### æ ¸å¿ƒç»„ä»¶

1. **æ ‡ç­¾æ¨èè§„åˆ™** (`tag_recommender_rules.md`): å®šä¹‰ç›®å½•æ˜ å°„å’Œå…³é”®è¯è§„åˆ™
2. **æ¨èå¼•æ“** (`tag_recommender.md`): Templater è„šæœ¬å®ç°æ¨èé€»è¾‘
3. **ç¬”è®°æ¨¡æ¿**: å„ç±»ç¬”è®°çš„åˆ›å»ºæ¨¡æ¿
4. **è´¨é‡è¯„åˆ†** (`æ ‡ç­¾è´¨é‡è¯„åˆ†æœºåˆ¶.md`): è¯„ä¼°æ ‡ç­¾è´¨é‡

---

## é›†æˆæ­¥éª¤

### æ­¥éª¤ 1: é…ç½® Templater æ’ä»¶

#### 1.1 å®‰è£… Templater

1. åœ¨ Obsidian ä¸­æ‰“å¼€è®¾ç½®
2. è¿›å…¥ **ç¤¾åŒºæ’ä»¶** å¸‚åœº
3. æœç´¢å¹¶å®‰è£… **Templater**
4. å¯ç”¨æ’ä»¶

#### 1.2 é…ç½® Templater

1. æ‰“å¼€ Templater æ’ä»¶è®¾ç½®
2. è®¾ç½® **æ¨¡æ¿æ–‡ä»¶å¤¹ä½ç½®**: `5.Misc/Template/Templater`
3. å¯ç”¨ **è‡ªåŠ¨è·³è½¬åˆ°å…‰æ ‡** é€‰é¡¹
4. é…ç½® **è§¦å‘å‘½ä»¤**: ä¾‹å¦‚ `tp`

#### 1.3 åˆ›å»ºæ¨¡æ¿æ–‡ä»¶å¤¹ç»“æ„

```
5.Misc/Template/Templater/
â”œâ”€â”€ tag_recommender.md              # æ ‡ç­¾æ¨èè„šæœ¬
â”œâ”€â”€ tag_recommender_rules.md        # æ¨èè§„åˆ™åº“
â”œâ”€â”€ æ ‡ç­¾æ¨èç³»ç»Ÿé›†æˆæŒ‡å—.md           # æœ¬æ–‡æ¡£
â””â”€â”€ templates/                      # å„ç±»ç¬”è®°æ¨¡æ¿
    â”œâ”€â”€ æ–°å»ºç¬”è®°æ¨¡æ¿.md
    â”œâ”€â”€ é¡¹ç›®ç¬”è®°æ¨¡æ¿.md
    â”œâ”€â”€ ä¸»é¢˜ç¬”è®°æ¨¡æ¿.md
    â””â”€â”€ ...
```

### æ­¥éª¤ 2: å‡†å¤‡æ ‡ç­¾æ¨èè„šæœ¬

#### 2.1 éªŒè¯æ–‡ä»¶å­˜åœ¨

ç¡®ä¿ä»¥ä¸‹æ–‡ä»¶å­˜åœ¨ä¸”æ­£ç¡®:

```bash
# æ£€æŸ¥æ–‡ä»¶
ls -la "5.Misc/Template/Templater/tag_recommender.md"
ls -la "5.Misc/Template/Templater/tag_recommender_rules.md"
```

#### 2.2 æµ‹è¯•æ¨èåŠŸèƒ½

åˆ›å»ºä¸€ä¸ªæµ‹è¯•ç¬”è®°éªŒè¯æ¨èæ˜¯å¦å·¥ä½œ:

```markdown
---
tags:
<%* tp.user.tag_recommender() %>
---
```

---

## ç¬”è®°æ¨¡æ¿é…ç½®

### é€šç”¨ç¬”è®°æ¨¡æ¿

åˆ›å»º `5.Misc/Template/Templater/templates/æ–°å»ºç¬”è®°æ¨¡æ¿.md`:

```markdown
---
<%*
// ============================================
// è‡ªåŠ¨æ ‡ç­¾æ¨è
// ============================================
// è°ƒç”¨æ ‡ç­¾æ¨èè„šæœ¬
const recommendedTags = tp.user.tag_recommender
  ? await tp.user.tag_recommender(tp)
  : [];

// æ ¼å¼åŒ–æ ‡ç­¾
const formattedTags = recommendedTags.map(tag => `  - ${tag}`).join('\n');
-%>
tags:
<%= formattedTags %>
created: <% tp.date.now("YYYY-MM-DD") %>
modified: <% tp.date.now("YYYY-MM-DD") %>
related: []
update: weekly
rating: 0
view-count: 0
---

# <% tp.file.title %>

> åˆ›å»ºæ—¶é—´: <% tp.date.now("YYYY-MM-DD HH:mm") %>

## ğŸ“ ç¬”è®°å†…å®¹

<!-- å¼€å§‹å†™ä½œ -->

## ğŸ”— ç›¸å…³é“¾æ¥

<%*
// æ¨èç›¸å…³ç¬”è®° (åŸºäºæ ‡ç­¾)
if (recommendedTags.length > 0) {
  const tag = recommendedTags[0];
  const relatedNotes = app.vault.getMarkdownFiles()
    .filter(file => {
      const cache = app.metadataCache.getFileCache(file);
      return cache?.tags?.some(t => t.tag === tag);
    })
    .slice(0, 5);

  if (relatedNotes.length > 0) {
-%>
### åŸºäº <%- tag %> çš„ç›¸å…³ç¬”è®°
<% relatedNotes.forEach(note => { -%>
- [[<%- note.path %>]]
<% }); -%>
<% }
} -%>

## ğŸ“š å‚è€ƒèµ„æ–™

---

## ğŸ’­ æ€è€ƒä¸é—®é¢˜

<%*
// è®°å½•æ€è€ƒè¦ç‚¹
-%>
-
-
-
```

### é¡¹ç›®ç¬”è®°æ¨¡æ¿

åˆ›å»º `5.Misc/Template/Templater/templates/é¡¹ç›®ç¬”è®°æ¨¡æ¿.md`:

```markdown
---
<%*
const recommendedTags = await tp.user.tag_recommender(tp);
const formattedTags = recommendedTags.map(tag => `  - ${tag}`).join('\n');
-%>
tags:
<%= formattedTags %>
created: <% tp.date.now("YYYY-MM-DD") %>
modified: <% tp.date.now("YYYY-MM-DD") %>
related: []
project: ""
status: TODO
priority: Medium
due: ""
---

# <% tp.file.title %>

> é¡¹ç›®: <% tp.system.clipboard() %>
> åˆ›å»ºæ—¶é—´: <% tp.date.now("YYYY-MM-DD HH:mm") %>

## ğŸ¯ é¡¹ç›®ç›®æ ‡

<%*
// ä»å‰ªè´´æ¿æˆ–è¾“å…¥è·å–é¡¹ç›®ç›®æ ‡
-%>

## ğŸ“‹ ä»»åŠ¡åˆ—è¡¨

```tasks
path includes <% tp.file.path() %>
not done
sort by priority
sort by due
```

## ğŸš§ å®æ–½è®¡åˆ’

1. [ ] ç¬¬ä¸€é˜¶æ®µ
2. [ ] ç¬¬äºŒé˜¶æ®µ
3. [ ] ç¬¬ä¸‰é˜¶æ®µ

## ğŸ“Š è¿›åº¦è·Ÿè¸ª

| é˜¶æ®µ | çŠ¶æ€ | å®Œæˆæ—¶é—´ | å¤‡æ³¨ |
|------|------|----------|------|
| é˜¶æ®µä¸€ | â³ | | |
| é˜¶æ®µäºŒ | â³ | | |
| é˜¶æ®µä¸‰ | â³ | | |

## ğŸ”— ç›¸å…³èµ„æº

<%*
// åŸºäºé¡¹ç›®ç±»å‹æ¨èèµ„æº
-%>
```

### ä¸»é¢˜ç¬”è®°æ¨¡æ¿

åˆ›å»º `5.Misc/Template/Templater/templates/ä¸»é¢˜ç¬”è®°æ¨¡æ¿.md`:

```markdown
---
<%*
const recommendedTags = await tp.user.tag_recommender(tp);
const formattedTags = recommendedTags.map(tag => `  - ${tag}`).join('\n');
-%>
tags:
<%= formattedTags %>
created: <% tp.date.now("YYYY-MM-DD") %>
modified: <% tp.date.now("YYYY-MM-DD") %>
related: []
domain: ""
complexity: Medium
status: Learning
---

# <% tp.file.title %>

> çŸ¥è¯†åŸŸ: <% tp.system.clipboard() %>
> åˆ›å»ºæ—¶é—´: <% tp.date.now("YYYY-MM-DD HH:mm") %>

## ğŸ¯ å­¦ä¹ ç›®æ ‡

<%*
// å®šä¹‰å­¦ä¹ ç›®æ ‡
-%>

## ğŸ“š æ ¸å¿ƒæ¦‚å¿µ

### æ¦‚å¿µ 1
**å®šä¹‰**:
**åº”ç”¨**:
**ç¤ºä¾‹**:

### æ¦‚å¿µ 2
**å®šä¹‰**:
**åº”ç”¨**:
**ç¤ºä¾‹**:

## ğŸ” æ·±åº¦ç†è§£

<%*
// è®°å½•æ·±åº¦æ€è€ƒ
-%>

## ğŸ’¡ å®è·µåº”ç”¨

<%*
// å®è·µæ¡ˆä¾‹
-%>

## ğŸ”— çŸ¥è¯†è¿æ¥

<%*
// åŸºäºæ ‡ç­¾æ¨èç›¸å…³ç¬”è®°
if (recommendedTags.length > 0) {
  const domainTag = recommendedTags.find(t => t.startsWith('#Domain/'));
  if (domainTag) {
    const relatedNotes = app.vault.getMarkdownFiles()
      .filter(file => {
        const cache = app.metadataCache.getFileCache(file);
        return cache?.tags?.some(t => t.tag === domainTag);
      })
      .slice(0, 5);

    if (relatedNotes.length > 0) {
-%>
### åŸºäº <%- domainTag %> çš„ç›¸å…³ç¬”è®°
<% relatedNotes.forEach(note => { -%>
- [[<%- note.path %>]]
<% }); -%>
<% }
  }
} -%>

## âœ… æ£€éªŒç†è§£

<%*
// è‡ªæµ‹é¢˜ç›®
-%>
1.
2.
3.

## ğŸ“ å­¦ä¹ ç¬”è®°

<%*
// å­¦ä¹ è¿‡ç¨‹ä¸­çš„ç¬”è®°
-%>
```

### å¿«é€Ÿç¬”è®°æ¨¡æ¿

åˆ›å»º `5.Misc/Template/Templater/templates/å¿«é€Ÿç¬”è®°æ¨¡æ¿.md`:

```markdown
---
<%*
const recommendedTags = await tp.user.tag_recommender(tp);
const formattedTags = recommendedTags.map(tag => `  - ${tag}`).join('\n');
-%>
tags:
<%= formattedTags %>
created: <% tp.date.now("YYYY-MM-DD HH:mm") %>
---

# <% tp.file.title %>

<%*
// å¿«é€Ÿè®°å½•,è‡ªåŠ¨æ·»åŠ æ—¶é—´æˆ³
-%>
ğŸ“… <% tp.date.now("YYYY-MM-DD HH:mm") %>

<% tp.file.cursor() %>

---
## ğŸ·ï¸ æ¨èæ ‡ç­¾
<% recommendedTags.forEach(tag => { -%>
<%- tag %>
<% }); -%>
```

---

## ä½¿ç”¨ç¤ºä¾‹

### ç¤ºä¾‹ 1: åˆ›å»ºæŠ€æœ¯ç¬”è®°

**åœºæ™¯**: åœ¨ `2.Topics/01.æŠ€æœ¯æ ˆ/Coding/` ä¸‹åˆ›å»º Python å­¦ä¹ ç¬”è®°

**æ­¥éª¤**:
1. åˆ›å»ºæ–°æ–‡ä»¶: `Pythonå¼‚æ­¥ç¼–ç¨‹.md`
2. é€‰æ‹© "ä¸»é¢˜ç¬”è®°æ¨¡æ¿"
3. Templater è‡ªåŠ¨æ‰§è¡Œ:
   - è¯†åˆ«ç›®å½• â†’ æ·»åŠ  `#Domain/Tech/Stack`
   - åˆ†æå†…å®¹ â†’ æ·»åŠ  `#Topic/Backend`, `#Topic/Python`
   - æ¨æ–­çŠ¶æ€ â†’ æ·»åŠ  `#Status/Learning`, `#Type/Note`
4. å¾—åˆ°æ¨èæ ‡ç­¾:
   ```yaml
   tags:
     - #Domain/Tech/Stack
     - #Topic/Backend
     - #Topic/Python
     - #Status/Learning
     - #Type/Note
   ```

### ç¤ºä¾‹ 2: åˆ›å»ºé¡¹ç›®ç¬”è®°

**åœºæ™¯**: åœ¨ `1.Projects/AIçŸ¥è¯†IPæ‰“é€ /` ä¸‹åˆ›å»ºæ–°é¡¹ç›®ä»»åŠ¡

**æ­¥éª¤**:
1. åˆ›å»ºæ–°æ–‡ä»¶: `è§†é¢‘åˆ¶ä½œæµç¨‹.md`
2. é€‰æ‹© "é¡¹ç›®ç¬”è®°æ¨¡æ¿"
3. Templater è‡ªåŠ¨æ‰§è¡Œ:
   - è¯†åˆ«ç›®å½• â†’ æ·»åŠ  `#Domain/AI/KnowledgeIP`
   - åˆ†ææ ‡é¢˜ â†’ æ·»åŠ  `#Topic/VideoProduction`
   - æ¨æ–­çŠ¶æ€ â†’ æ·»åŠ  `#Status/TODO`, `#Type/Task`
4. å¾—åˆ°æ¨èæ ‡ç­¾:
   ```yaml
   tags:
     - #Domain/AI/KnowledgeIP
     - #Topic/VideoProduction
     - #Status/TODO
     - #Type/Task
   ```

### ç¤ºä¾‹ 3: å¿«é€Ÿè®°å½•æƒ³æ³•

**åœºæ™¯**: åœ¨ `0.DailyNotes/` ä¸‹å¿«é€Ÿè®°å½•ä»Šå¤©çš„æƒ³æ³•

**æ­¥éª¤**:
1. ä½¿ç”¨å¿«æ·é”®è§¦å‘ "å¿«é€Ÿç¬”è®°æ¨¡æ¿"
2. è¾“å…¥æ ‡é¢˜
3. Templater è‡ªåŠ¨æ·»åŠ æ—¶é—´æˆ³å’Œæ¨èæ ‡ç­¾
4. ç›´æ¥å¼€å§‹å†™ä½œ,æ ‡ç­¾è‡ªåŠ¨å¡«å……

---

## é«˜çº§é…ç½®

### è‡ªå®šä¹‰æ¨èè§„åˆ™

ç¼–è¾‘ `tag_recommender_rules.md` æ·»åŠ è‡ªå®šä¹‰è§„åˆ™:

```javascript
<%*
// è‡ªå®šä¹‰å…³é”®è¯æ˜ å°„
const customKeywordMap = {
  'ä½ çš„å…³é”®è¯': ['#Topic/YourTopic'],
  'ç‰¹å®šæœ¯è¯­': ['#Domain/Specific/SubDomain']
};
// åˆå¹¶åˆ°ç°æœ‰è§„åˆ™
Object.assign(keywordTopicMap, customKeywordMap);
-%>
```

### ç›®å½•ç‰¹å®šè§„åˆ™

ä¸ºç‰¹å®šç›®å½•å®šä¹‰ç‰¹æ®Šè§„åˆ™:

```javascript
<%*
// æ£€æŸ¥ç‰¹å®šç›®å½•
if (dirPath.includes('ä½ çš„ç›®å½•')) {
  // æ·»åŠ ç‰¹æ®Šæ ‡ç­¾
  domainTags.push('#Domain/Special');
}
-%>
```

### ç”¨æˆ·åå¥½é…ç½®

åˆ›å»ºç”¨æˆ·é…ç½®æ–‡ä»¶ `tag_recommender_config.md`:

```markdown
---
default_tags:
  - #Type/Note
  - #Status/InProgress
exclude_directories:
  - .obsidian
  - .git
  - 4.Archives
tag_limits:
  min: 3
  max: 12
  ideal: 5
---
```

---

## çƒ­é”®é…ç½®

### è®¾ç½®å¿«æ·é”®

1. æ‰“å¼€ Obsidian **è®¾ç½®** â†’ **çƒ­é”®**
2. æœç´¢ **Templater: Create new note from template**
3. ä¸ºä¸åŒæ¨¡æ¿è®¾ç½®å¿«æ·é”®:
   - `Ctrl+Alt+N`: å¿«é€Ÿç¬”è®°
   - `Ctrl+Shift+N`: ä¸»é¢˜ç¬”è®°
   - `Ctrl+Alt+P`: é¡¹ç›®ç¬”è®°

### ä½¿ç”¨å‘½ä»¤é¢æ¿

1. æŒ‰ `Ctrl+P` æ‰“å¼€å‘½ä»¤é¢æ¿
2. è¾“å…¥ "Templater"
3. é€‰æ‹©è¦ä½¿ç”¨çš„æ¨¡æ¿

---

## æ•…éšœæ’é™¤

### é—®é¢˜ 1: æ ‡ç­¾æœªæ¨è

**ç—‡çŠ¶**: åˆ›å»ºç¬”è®°åæ ‡ç­¾ä¸ºç©ºæˆ–æ¨èä¸å‡†ç¡®

**è§£å†³æ–¹æ¡ˆ**:
1. æ£€æŸ¥ Templater æ˜¯å¦å¯ç”¨
2. æ£€æŸ¥æ¨¡æ¿è¯­æ³•æ˜¯å¦æ­£ç¡®
3. æŸ¥çœ‹ Templater æ§åˆ¶å°æ—¥å¿—
4. éªŒè¯ `tag_recommender.md` æ–‡ä»¶è·¯å¾„

### é—®é¢˜ 2: æ¨èæ ‡ç­¾ä¸å‡†ç¡®

**ç—‡çŠ¶**: æ¨èçš„æ ‡ç­¾ä¸å†…å®¹ä¸ç¬¦

**è§£å†³æ–¹æ¡ˆ**:
1. æ›´æ–° `tag_recommender_rules.md` ä¸­çš„å…³é”®è¯æ˜ å°„
2. æ·»åŠ æ›´å¤šç‰¹å®šé¢†åŸŸçš„è§„åˆ™
3. ä½¿ç”¨è´¨é‡è¯„åˆ†æœºåˆ¶è¯„ä¼°å’Œæ”¹è¿›

### é—®é¢˜ 3: æ€§èƒ½é—®é¢˜

**ç—‡çŠ¶**: åˆ›å»ºç¬”è®°æ—¶åŠ è½½ç¼“æ…¢

**è§£å†³æ–¹æ¡ˆ**:
1. ä¼˜åŒ–æ¨èè§„åˆ™,å‡å°‘å¤æ‚åº¦
2. ç¼“å­˜ç›®å½•æ ‡ç­¾æ˜ å°„
3. å¼‚æ­¥åŠ è½½æ¨èç»“æœ

### é—®é¢˜ 4: ä¸­æ–‡æ ‡ç­¾é—®é¢˜

**ç—‡çŠ¶**: ä¸­æ–‡æ ‡ç­¾æ˜¾ç¤ºå¼‚å¸¸

**è§£å†³æ–¹æ¡ˆ**:
1. ç¡®ä¿æ–‡ä»¶ä½¿ç”¨ UTF-8 ç¼–ç 
2. åœ¨ Templater è®¾ç½®ä¸­å¯ç”¨ UTF-8
3. é¿å…åœ¨æ ‡ç­¾ä¸­ä½¿ç”¨ç‰¹æ®Šå­—ç¬¦

---

## æœ€ä½³å®è·µ

### 1. å®šæœŸå®¡æŸ¥æ¨èè§„åˆ™

**æ¯æœˆæ£€æŸ¥**:
- æ˜¯å¦æœ‰æ–°çš„å…³é”®è¯éœ€è¦æ·»åŠ 
- æ˜¯å¦æœ‰è¿‡æ—¶çš„è§„åˆ™éœ€è¦åˆ é™¤
- æ¨èå‡†ç¡®ç‡æ˜¯å¦æå‡

### 2. æ”¶é›†ç”¨æˆ·åé¦ˆ

**åé¦ˆæœºåˆ¶**:
- è®°å½•ä¸å‡†ç¡®çš„æ¨è
- ç»Ÿè®¡æœ€å¸¸ç”¨çš„æ ‡ç­¾
- åˆ†ææ ‡ç­¾è´¨é‡è¯„åˆ†

### 3. æŒç»­ä¼˜åŒ–

**ä¼˜åŒ–æ–¹å‘**:
- æé«˜æ¨èå‡†ç¡®ç‡
- å‡å°‘æ¨èæ—¶é—´
- å¢åŠ ä¸ªæ€§åŒ–æ¨è

### 4. åŸ¹è®­ä¸æ–‡æ¡£

**çŸ¥è¯†ä¼ é€’**:
- ä¸ºå›¢é˜Ÿæä¾›ä½¿ç”¨åŸ¹è®­
- ç»´æŠ¤ä½¿ç”¨æ–‡æ¡£
- åˆ†äº«æœ€ä½³å®è·µ

---

## ç›¸å…³èµ„æº

### æ ¸å¿ƒæ–‡æ¡£
- [Atlas/BASE/æ ‡ç­¾è´¨é‡è¯„åˆ†æœºåˆ¶.md](../../Atlas/BASE/æ ‡ç­¾è´¨é‡è¯„åˆ†æœºåˆ¶.md) - è´¨é‡è¯„ä¼°
- [5.Misc/Template/Templater/tag_recommender.md](./tag_recommender.md) - æ¨èå¼•æ“
- [5.Misc/Template/Templater/tag_recommender_rules.md](./tag_recommender_rules.md) - æ¨èè§„åˆ™

### Obsidian æ’ä»¶
- [Templater å®˜æ–¹æ–‡æ¡£](https://silentvoid13.github.io/TemplaterInternal/)
- [Tag Wrangler](https://github.com/pjeby/tag-wrangler) - æ ‡ç­¾ç®¡ç†
- [Dataview](https://github.com/blacksmithgu/obsidian-dataview) - æŸ¥è¯¢è¯­è¨€

---

**åˆ›å»ºè€…**: Claude Sonnet 4.5
**æœ€åæ›´æ–°**: 2026-01-26
**ä¸‹æ¬¡å®¡æŸ¥**: 2026-02-26
