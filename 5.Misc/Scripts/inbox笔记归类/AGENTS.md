---
view-count: 2
---
# AGENTS.md - Obsidian Knowledge Vault Guidelines

## Overview
This is an Obsidian personal knowledge management vault, not a traditional software project. It contains markdown notes organized with specific conventions for personal knowledge management (PKM).

## Build/Lint/Test Commands
**No build, lint, or test commands exist.** This repository contains only markdown files and minimal JavaScript templates. No compilation or testing framework is used.

## File Structure Conventions

### Folder Organization
Numbered prefixes establish hierarchy and importance:
- `0.DailyNotes/` - Daily journal entries, date-based notes
- `1.Projects/` - Active projects and ongoing work
- `2.Topics/` - Subject areas and knowledge domains
- `2.Sphere/` - Alternative topic organization
- `3.Resources/` - Reference materials, examples, logs
- `4.Archives/` - Completed or deprecated content
- `5.Misc/` - Templates, attachments, miscellaneous items
- `6.Calendar/` - Time-based organization
- `Atlas/` - Index and navigation structures

### File Naming
- **Daily notes**: `YYYY-MM-DD-{title}.md` format (e.g., `2025-12-03-YAGNI 如何改变决策质量.md`)
- **Index files**: `_Index_of_{folder_name}.md` auto-generated by Zoottelkeeper plugin
- **Template files**: Descriptive Chinese names (e.g., `每日回顾模板.md`, `Zettelkasten模板.md`)
- **Subfolders**: Descriptive Chinese names, no numbering within numbered folders

## Markdown Conventions

### Frontmatter (YAML)
All notes begin with YAML frontmatter:
```yaml
---
view-count: 2
update: 2026-01-09 14:55
related:
  - "[[Related Note Title]]"
---
```

### Obsidian-Specific Syntax
- **Internal links**: `[[Note Title]]` for wiki-style linking
- **Tags**: `#tag` syntax, often used with hierarchical tags like `#tag/subtag`
- **Embeds**: `![[Note Title]]` or `![[Note Title#heading]]` for transcluding content
- **Block references**: `^blockid` for linking to specific paragraphs

### Dataview Queries
Use Dataview plugin syntax for dynamic queries:
```dataview
TABLE theme AS 主题, tags AS 标签
FROM !"Archive"
WHERE (date(today) - file.ctime).day < 15
SORT file.ctime DESC
LIMIT 10
```

### Tasks Plugin
Tasks are tracked using Tasks plugin syntax:
```tasks
not done
sort by priority
sort by due
limit 30
```

## Template Scripts (JavaScript)
When writing JavaScript templates for the Templater plugin:

### Import Style
```javascript
const fetch = require("node-fetch");  // Only use required modules
```

### Async/Await Pattern
All file operations should be asynchronous:
```javascript
const noteContent = await tp.file.read();
const lines = noteContent.split("\n");
await tp.file.append("content");
```

### Variable Naming
- Use `camelCase` for variables: `cardLines`, `match`, `front`
- Use descriptive names: `cardContent` instead of `c`
- Use `const` by default, `let` when reassignment needed

### Code Structure
```javascript
// Read and parse
const noteContent = await tp.file.read();
const lines = noteContent.split("\n");

// Filter and process
const cardLines = lines.filter(l => l.trim().startsWith("%%card%%"));

// Transform and organize
const cards = { 上: [], 广: [], 深: [] };

// Async operations
for (const [cat, list] of Object.entries(cards)) {
  for (const item of list) {
    await pushCard(`[${cat}] ${front}`, back);
  }
}
```

### Error Handling
Basic error handling for async operations:
```javascript
try {
  const res = await fetch(url, options);
  return await res.json();
} catch (error) {
  console.error("Failed to fetch:", error);
  return null;
}
```

## Content Writing Guidelines

### Note Structure
1. Clear, descriptive title (Chinese preferred for personal content)
2. Brief summary or abstract in first paragraph
3. Use hierarchical headers (##, ###) for organization
4. Include related note links in frontmatter
5. Add tags at bottom for discoverability

### Code Examples
When including code examples:
- Use triple backticks with language: ```javascript, ```python
- Add brief explanatory comments
- Keep examples concise and focused

### Knowledge Cards
For flashcard/spaced repetition content:
- Use `%%card%%` marker to identify card lines
- Format: `%%card%%[上|广|深] Front::Back`
- Categories: 上 (high-level), 广 (breadth), 深 (depth)

## Git Workflow
- `.obsidian/`, `.idea/`, `.vscode/` are ignored (see `.gitignore`)
- Ignore `_Index_of_*.md` auto-generated files
- Ignore `.smart-connections/`, `.copilot-index/` plugin indices
- Ignore `.trash/`, `.codemap`, `.space` plugin data
- Ignore `.ajson` files (plugin data)

## Plugin-Specific Notes
- **Templater**: JavaScript templates in `5.Misc/Template/Template_Scripts/`
- **Dataview**: Queries in code blocks with `dataview` identifier
- **Tasks**: Use `not done`, `sort by`, `limit` syntax
- **Anki**: Integration via AnkiConnect (localhost:8765)
- **Smart Connections**: Vector search for related notes (auto-indexed)

## General Principles
- Prefer descriptive Chinese titles over English for personal notes
- Maintain consistent date formatting: `YYYY-MM-DD HH:mm`
- Use emojis sparingly, mainly for visual categorization in templates
- Keep atomic notes - one idea/concept per file
- Link extensively to build knowledge graph
- Use properties (frontmatter) for metadata, not inline
- Update `view-count` and `update` timestamps in frontmatter when editing
