---
rating: 2.0
related:
- '[[RFC阅读计划]]'
- '[[RFC战略框架]]'
- '[[Plan文档比较与实例]]'
tags:
- real-time-data-processing
- stream-processing-architecture
- data-structure
- algorithm
- Type/Reference
- Domain/Technology
update: 2026-01-09 17:52
view-count: 4
---
### **25句濃縮版本**

1. 這是一份將用戶行為分析平台從傳統MySQL批處理遷移至現代**實時流處理架構**的RFC。
2. **動機**：解決現有系統延遲高、擴展性差、分析能力弱的核心痛點，以支持實時推薦和風控等新業務。
3. **核心目標**：實現端到端延遲**低於5秒**，支持每秒**5萬以上**的高併發，並提供秒級的自助式查詢能力。
4. **擬議架構**：採用事件驅動模型，以**Kafka/Pub/Sub**作為消息隊列，**Apache Flink**為流處理引擎，**ClickHouse/BigQuery**為實時數據存儲。
5. **數據流**：用戶行為日誌由SDK採集後發送到消息隊列，Flink進行實時處理，結果兵分兩路：一份寫入實時存儲供即時查詢，一份原始數據備份至離線數據湖。
6. **組件選型**：傾向於選擇Google Cloud的託管服務（Pub/Sub, BigQuery），以降低运维成本並利用雲生態優勢。
7. **核心技術**：選擇Flink是因其強大的事件時間處理、狀態管理和Exactly-Once語義保證。
8. **彈性設計**：利用消息隊列的持久化和Flink的Checkpoint機制，確保數據不丟失和故障後的快速恢復。
9. **替代方案**：否決了僅升級MySQL（無法滿足實時性）和使用ELK（不適合複雜計算）的方案，將Spark Streaming作為備選。
10. **上線計劃**：採用**小流量驗證 -> 灰度發布 -> 全量切換 -> 舊系統下線**的四步走策略，確保遷移過程平滑穩定。
11. **測試策略**：強調端到端的集成測試、性能測試和**故障注入測試**，以驗證系統的健壯性。
12. **成功指標**：定義了清晰可量化的指標，包括延遲、吞吐量、可用性、成本和用戶滿意度。
13. 這份RFC的核心是從「批處理」思維向「流處理」思維的轉變。
14. 消息隊列是整個架構的**解耦中樞**。
15. Flink是實時計算的**大腦**。
16. BigQuery/ClickHouse是快速查詢的**引擎**。
17. 該架構是現代數據密集型應用的典型範式。
18. 整個遷移過程強調了數據的平滑過渡和系統的穩定性。
19. 非功能性需求（如可用性、可靠性）被置於與功能性需求同等重要的位置。
20. 充分的備選方案分析，展示了決策過程的嚴謹性。
21. 周密的部署和測試計劃，降低了上線風險。
22. 透過開放問題，促進了跨團隊的溝通與協作。
23. 這份RFC不僅是一個技術方案，更是一個項目管理的溝通工具。
24. 它為一個複雜的技術升級項目提供了清晰、可行且全面的藍圖。
25. 最終，該方案旨在構建一個能夠支撐未來業務高速增長的、可擴展的實時數據基礎設施。
