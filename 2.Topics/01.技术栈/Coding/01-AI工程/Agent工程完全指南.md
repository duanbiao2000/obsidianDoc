---
view-count: 10
update: 2026-01-22T00:00:00.000Z
tags:
  - agent-architecture
  - multi-agent-systems
  - agent
  - ai
related:
  - '[[AI协作完全指南]]'
  - '[[上下文工程完全指南]]'
  - '[[AI能力–采用率鸿沟]]'
---

# Agent工程完全指南

## 一、Agent 架构核心范式

### 1. 核心逻辑：从"单向推理"到"自主进化"

**系统本质**：Agent 构建不是简单的 Prompt 工程，而是通过**思维结构化**（推理）与**环境反馈**（行动）的闭环，弥补 LLM 逻辑深度与实时性的不足。

### 2. 关键范式对比矩阵

| 范式名称 | 核心动作 | 适用场景 | 关键价值 |
|:--- |:--- |:--- |:--- |
| **CoT (链式思考)** | 生成中间步骤 | 数学、逻辑推理 | 提高推理准确率 & 可解释性 |
| **Reflection (反思)** | 自我评估 + 修正 | 编程、长文本写作 | 实现错误自愈，减少幻觉 |
| **ToT (思想树)** | 多路径搜索 + 回溯 | 创意写作、复杂规划 | 探索全局最优解，支持撤回 |
| **ReAct (推理行动)** | 思考 → 工具 → 观察 | 搜索、外部 API 调用 | 获取实时信息，打破知识截止点 |
| **GoT (思想图)** | 非线性网状思考 | 知识图谱构建、多源融合 | 处理高度复杂的非线性逻辑 |
| **Autonomous (自主)** | 任务分解 → 迭代 | 自动化办公、长期调研 | 目标驱动，减少人为干预 |

---

## 二、多智能体协同：像顶尖研究团队一样协作

### 1. 核心理念

多智能体系统通过**角色分工**、**任务拆解**和**结果聚合**，模拟人类研究团队的协作模式。

### 2. 角色分工模型

| 角色 | 职责 | 工具 |
|:--- |:--- |:--- |
| **架构师 Agent** | 整体架构设计、技术选型 | Mermaid, UML 工具 |
| **开发者 Agent** | 代码编写、Bug 修复 | IDE, LSP, 测试框架 |
| **测试员 Agent** | 单元测试、集成测试 | Pytest, JUnit, Jest |
| **产品经理 Agent** | 需求分析、优先级排序 | Jira, Notion, PRD 模板 |
| **文档工程师 Agent** | 技术文档编写、API 文档 | Markdown, Swagger |

### 3. 协作流程

```
需求分析（PM Agent）
    ↓
架构设计（架构师 Agent）
    ↓
任务拆解（架构师 Agent）
    ↓
并行开发（多个开发者 Agent）
    ↓
测试验证（测试员 Agent）
    ↓
文档撰写（文档工程师 Agent）
    ↓
结果聚合（架构师 Agent）
```

---

## 三、Agent Framework 选择指南

| 需求 | 推荐框架 |
|:--- |:--- |
| 快速上手、丰富生态 | LangChain + LangGraph |
| 多智能体协作 | AutoGen、CrewAI、AgentScope |
| 企业集成 | Semantic Kernel |
| RAG + Agent | LlamaIndex + LangChain |
| 可视化编排 | Flowise / Langflow |
| 轻量 & 实验 | Mastra、Transformers Agents |
| 声明式优化 | DSPy |

---

## 四、Agent 落地行动指南

### 1. 范式选择决策流

- **如果** 任务是纯逻辑计算：使用 **CoT**
- **如果** 需要实时数据或外部工具：使用 **ReAct**
- **如果** 结果要求极高（如代码）：增加 **Reflection** 环节
- **如果** 路径不确定且需多方案对比：升级为 **ToT**

### 2. 实现原子步骤 (以 ReAct 为例)

- **Step 1 (Thought)**：引导模型分析当前状态（"我需要知道 XX，但我目前没有"）
- **Step 2 (Action)**：选择工具并生成参数（"调用搜索 API：XX"）
- **Step 3 (Observation)**：抓取外部反馈
- **Step 4 (Repeat)**：根据反馈再次进入 Thought，直到任务完成

### 3. 增强记忆杠杆

- **操作**：建立 **记忆流 (Memory Stream)**
- **动作**：将过往 Observation 存入向量数据库，在后续 Thought 中检索调用
- **价值**：让 Agent 具备"长期个性"与"上下文连续性"

---

**关联笔记**
- [[AI协作完全指南]] (Prompt 工程与上下文管理)
- [[AI在写代码领域的当前水平]] (识别 AI 任务边界)
- [[AI能力–采用率鸿沟]] (能力与采用率差异分析)
