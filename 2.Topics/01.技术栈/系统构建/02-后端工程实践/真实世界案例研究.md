---
view-count: 2
tags:
  - event-driven-architecture
  - stream-processing
  - microservices
  - system-architecture
  - Type/Reference
  - Domain/Technology
---
# Real-world Architecture Case Studiesï¼šè¯­ä¹‰å‹ç¼©ç‰ˆ

## ä¸€ã€æ€»ä½“æ¶æ„èŒƒå¼ï¼ˆNetflix Ã— Reddit å…±æ€§ï¼‰

â˜… äº‘åŸç”Ÿ + å¾®æœåŠ¡ â†’ å¯ç‹¬ç«‹æ¼”è¿›  
â˜… äº‹ä»¶é©±åŠ¨ + å¼‚æ­¥ â†’ ç³»ç»Ÿè§£è€¦  
â˜… æ•°æ®é©±åŠ¨ â†’ æ¶æ„å›´ç»•æ•°æ®æµè®¾è®¡  
â–³ æ¶æ„æŒç»­æ¼”è¿› â†’ æ— â€œç»ˆæ€è®¾è®¡â€  
â— æ¶æ„å¤æ‚åº¦ â‰  æŠ€æœ¯å…ˆè¿›æ€§

---

## äºŒã€å¾®æœåŠ¡çš„çœŸå®å½¢æ€ï¼ˆå»ç†æƒ³åŒ–ï¼‰

â˜… å¾®æœåŠ¡ â‰  RPC ç½‘æ ¼  
â†’ å¾®æœåŠ¡ = **API + Event + Async job**

â˜… åŒæ­¥è¯·æ±‚åªå¤„ç†â€œå¿«è·¯å¾„â€  
â†’ æ…¢æ“ä½œ â†’ Queue / Stream

â–³ å¾®æœåŠ¡æ¼”è¿›è·¯å¾„  
Monolith â†’ Modular Monolith â†’ Microservices

â— è¿‡æ—©æ‹†åˆ† â†’ è¿ç»´å¤æ‚åº¦æŒ‡æ•°çº§ä¸Šå‡

---

## ä¸‰ã€API å±‚çš„èŒƒå¼è¿ç§»

â˜… REST â†’ GraphQL  
â†’ Client-driven data fetching

â˜… GraphQL Federation  
â†’ API å±‚æ¨¡å—åŒ–è€Œéåç«¯è€¦åˆ

â–³ API = **Composition Layer**  
â†’ ä¸ç­‰äºåç«¯çœŸå®æœåŠ¡ç»“æ„

â— GraphQL ä¸èƒ½è§£å†³ç³Ÿç³•çš„æ•°æ®å»ºæ¨¡

---

## å››ã€æ¶ˆæ¯ä¸äº‹ä»¶çš„è§’è‰²åˆ†å·¥

â˜… RabbitMQ â†’ async job / business workflow  
â˜… Kafka â†’ event log / real-time stream  
â–³ Redis Stream â†’ low-latency lightweight queue

â˜… Event-first thinking  
â†’ State change emits event

â— MQ â‰  è§£è€¦ï¼Œ**äº‹ä»¶è¯­ä¹‰æ‰æ˜¯**

---

## äº”ã€æ•°æ®æ¶æ„çš„çœŸå®åŸåˆ™

â˜… å•ä¸€æ•°æ®åº“ä¸å¯æ‰©å±•  
â†’ Polyglot Persistence

â˜… OLTP vs OLAP åˆ†ç¦»  
â†’ Postgres / MySQL vs S3 / Redshift / Druid

â–³ CDCï¼ˆDebeziumï¼‰  
â†’ æ•°æ®å˜åŒ– = äº‹ä»¶æº

â— ä¸€è‡´æ€§æ˜¯ trade-offï¼Œä¸æ˜¯ç›®æ ‡

---

## å…­ã€ç¼“å­˜ä¸çŠ¶æ€ç®¡ç†

â˜… Cache in front of DB  
â†’ memcached / EVCache

â˜… Cache invalidation â†’ event-driven  
â†’ DB change â†’ CDC â†’ cache update

â— Cache æ˜¯æ€§èƒ½å·¥å…·ï¼Œä¸æ˜¯æ•°æ®æº

---

## ä¸ƒã€æµå¤„ç†æˆä¸ºâ€œä¸­æ¢ç¥ç»â€

â˜… Streaming â‰  Big Data  
â†’ Streaming = system nervous system

â˜… Flink / Spark  
â†’ Stateful computation

â–³ å®æ—¶é£æ§ / æ¨è / ç›‘æ§  
â†’ å¿…é¡»åŸºäº stream

â— Batch mindset ä¼šæ‹–å®å®æ—¶ç³»ç»Ÿ

---

## å…«ã€DevOps çš„çœŸå®å«ä¹‰

â˜… CI/CD = é»˜è®¤èƒ½åŠ›  
â†’ Jenkins / Spinnaker

â˜… Infra as Code  
â†’ Terraform

â˜… Chaos Engineering  
â†’ Fail is normal

â— æ²¡æœ‰ chaos çš„ç³»ç»Ÿ â‰  resilient

---

## ä¹ã€æ¶æ„æ¼”è¿›çš„éšå«è§„å¾‹ï¼ˆMetaï¼‰

â˜… æ¶æ„è·Ÿéšç»„ç»‡å½¢æ€  
â†’ Conwayâ€™s Law

â˜… æŠ€æœ¯é€‰å‹ â‰  æˆ˜ç•¥  
â†’ æ•°æ®æµæ‰æ˜¯æˆ˜ç•¥

â–³ æ‰€æœ‰ç³»ç»Ÿéƒ½ä¼šèµ°å‘ event-driven  
â†’ åªæ˜¯æ—¶é—´é—®é¢˜

â— â€œæœ€ä½³å®è·µâ€æ˜¯æ»åçš„

---

## åã€ä¸€å¥è¯æ€»ç»“ï¼ˆå¯å¤è¿°ï¼‰

â˜… å¤§è§„æ¨¡ç³»ç»Ÿ =  
**Microservices + Events + Streams + Automation**

â— çœŸæ­£çš„å¤æ‚æ€§  
â†’ ä¸åœ¨æŠ€æœ¯ï¼Œè€Œåœ¨æ¼”è¿›é€Ÿåº¦


---

### ç»™ä½ çš„ **Forward-looking takeï¼ˆ3 å¹´è§†è§’ï¼‰**

- **æ­£åœ¨è¢«åƒæ‰çš„èŒƒå¼**
    
    - åŒæ­¥ RPC-centric backend
        
    - å•ä½“æ•°æ®æ¨¡å‹
        
    - äººå·¥è¿ç»´ä¸äººå·¥æ¢å¤
        
- **æ­£åœ¨ä¸Šå‡çš„èŒƒå¼**
    
    - Event as source of truth
        
    - API ä½œä¸ºç»„åˆå±‚ï¼ˆGraphQL / BFFï¼‰
        
    - Streaming-first data architecture
        
    - Chaos-by-default systems
        

å¦‚æœä½ æ„¿æ„ï¼Œä¸‹ä¸€æ­¥æˆ‘å¯ä»¥ç›´æ¥å¸®ä½ åšä¸‰ä»¶äº‹ä¹‹ä¸€ï¼š

1. ğŸ”® **3 å¹´åå“ªäº› Netflix-style æ¶æ„ä¼šå¤±æ•ˆï¼ˆAI-native è§†è§’ï¼‰**
    
2. ğŸ§  **æŠŠè¿™äº›ç³»ç»ŸèŒƒå¼æ˜ å°„åˆ°â€œä¸ªäººè®¤çŸ¥ / èŒä¸šè®¾è®¡â€**
    
3. ğŸ§© **å‹ç¼©æˆã€ŒStaff / Principal Engineer æ¶æ„å¿ƒæ³• 20 æ¡ã€**