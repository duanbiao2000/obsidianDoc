---
date: 2024-11-11 10:26
categories:
  - Design
tags:
  - Domain/Creativity/Github
  - Domain/Creativity/Tutorial
aliases: ğŸ“š å¾®æœåŠ¡å¤§å¸ˆè¯¾-æ·±å…¥äº‹ä»¶é©±åŠ¨æ¶æ„å…¨æ”»ç•¥
view-count: 6
---
# äº‹ä»¶é©±åŠ¨æ¶æ„ï¼ˆEDAï¼‰

## ä¸€ã€EDA æ˜¯ä»€ä¹ˆï¼ˆä¸€å¥è¯ï¼‰
**ç”¨â€œäº‹ä»¶â€è€Œä¸æ˜¯â€œç›´æ¥è°ƒç”¨â€æ¥é©±åŠ¨ç³»ç»Ÿåä½œçš„æ¶æ„æ¨¡å¼**  
â†’ è°å…³å¿ƒäº‹ä»¶ï¼Œè°å°±å¤„ç†ï¼›å½¼æ­¤ä¸å¼ºè€¦åˆã€‚

---

## äºŒã€æ ¸å¿ƒæŠ½è±¡ï¼ˆ5 ä¸ªï¼‰
- **Event**ï¼šäº‹å®å‘ç”Ÿï¼ˆä¸‹å•ã€æ”¯ä»˜å®Œæˆï¼‰
- **Message Queue**ï¼šäº‹ä»¶ç¼“å†²ä¸è½¬å‘å±‚
- **Microservice**ï¼šå„å¸å…¶èŒçš„å°æœåŠ¡
- **Async**ï¼šä¸é˜»å¡ã€ä¸ç­‰ç»“æœ
- **Loose Coupling**ï¼šæœåŠ¡å½¼æ­¤ä¸è®¤è¯†

---

## ä¸‰ã€å…³é”®æœºåˆ¶ï¼ˆæ¶æ„éª¨æ¶ï¼‰
- **Event Streaming**ï¼šäº‹ä»¶æ˜¯æŒç»­æµï¼ˆKafka-likeï¼‰
- **Pub/Sub**ï¼šå‘å¸ƒä¸€æ¬¡ï¼Œå¤šæ–¹æ¶ˆè´¹
- **CQRS**ï¼šå†™æ¨¡å‹ â‰  è¯»æ¨¡å‹
- **Saga**ï¼šç”¨äº‹ä»¶ç¼–æ’åˆ†å¸ƒå¼äº‹åŠ¡
- **Circuit Breaker**ï¼šé˜²é›ªå´©

---

## å››ã€æ¶ˆæ¯é˜Ÿåˆ—çš„ç³»ç»Ÿä»·å€¼
- è§£è€¦ï¼ˆDecoupleï¼‰
- å¼‚æ­¥ï¼ˆAsyncï¼‰
- å‰Šå³°ï¼ˆBackpressureï¼‰
- å®¹é”™ï¼ˆRetry / Persistï¼‰
- æ¨ªå‘æ‰©å±•ï¼ˆScale-outï¼‰

---

## äº”ã€æ¶ˆæ¯ä¼ é€’æ¨¡å¼
- **Pull**ï¼šæ¶ˆè´¹è€…ä¸»åŠ¨æ‹‰
- **Push**ï¼šç³»ç»Ÿä¸»åŠ¨æ¨
- **Pub/Sub**ï¼šä¸€å¯¹å¤šå¹¿æ’­

---

## å…­ã€å»¶è¿Ÿé˜Ÿåˆ—ï¼ˆDelay Queueï¼‰
**æ¶ˆæ¯ä¸æ˜¯ç°åœ¨å¤„ç†ï¼Œè€Œæ˜¯â€œæœªæ¥æŸæ—¶åˆ»â€å¤„ç†**
- è®¢å•è¶…æ—¶å–æ¶ˆ
- å¤±è´¥é‡è¯•
- å®šæ—¶æé†’
å®ç°ï¼šRabbitMQ / Kafka / Redis

---

## ä¸ƒã€EDA çš„æ ¸å¿ƒæ”¶ç›Š
- é«˜æ‰©å±•æ€§
- é«˜çµæ´»æ€§
- é«˜å¯é æ€§ï¼ˆé€šè¿‡å¼‚æ­¥ + æŒä¹…åŒ–ï¼‰

---

# RabbitMQ / Kafka / Redis å¯¹æ¯”å‹ç¼©ç‰ˆ

## ä¸€ã€ä¸€å¥è¯å®šä½
- **RabbitMQ**ï¼šå¯é äº‹åŠ¡å‹æ¶ˆæ¯é˜Ÿåˆ—
- **Kafka**ï¼šé«˜ååäº‹ä»¶æµå¹³å°
- **Redis Stream**ï¼šè½»é‡çº§å†…å­˜æ¶ˆæ¯ç³»ç»Ÿ

---

## äºŒã€èƒ½åŠ›å¯¹æ¯”ï¼ˆå…³é”®å·®å¼‚ï¼‰
- **åå**ï¼šKafka â‰« Redis > RabbitMQ
- **å»¶è¿Ÿ**ï¼šRedis < RabbitMQ < Kafka
- **å¯é æ€§**ï¼šKafka â‰ˆ RabbitMQ â‰« Redis
- **é¡ºåºæ€§**ï¼šKafkaï¼ˆPartition å†…ï¼‰
- **æ‰©å±•æ€§**ï¼šKafka æœ€å¼º
- **è¿ç»´æˆæœ¬**ï¼šKafka æœ€é«˜

---

## ä¸‰ã€å…¸å‹é€‰å‹
- **å¼ºä¸€è‡´ / äº‹åŠ¡è¯­ä¹‰** â†’ RabbitMQ
- **æ—¥å¿— / åŸ‹ç‚¹ / å®æ—¶æµ** â†’ Kafka
- **è½»é‡ä»»åŠ¡ / ä½å»¶è¿Ÿé€šçŸ¥** â†’ Redis Stream

---

## å››ã€æ¶ˆæ¯ä¸ä¸¢ä¸é‡ï¼ˆåŸåˆ™ï¼‰
- **ä¸ä¸¢**ï¼šæŒä¹…åŒ– + ACK + å‰¯æœ¬
- **ä¸é‡**ï¼šå¹‚ç­‰æ¶ˆè´¹ï¼ˆåº”ç”¨å±‚ï¼‰

---

## äº”ã€ä¸€å¥è¯é€‰å‹æŒ‡å—
- ç¨³å®šå¯é ä¼˜å…ˆ â†’ RabbitMQ  
- ååä¸å›æ”¾ä¼˜å…ˆ â†’ Kafka  
- ç®€å•ä½å»¶è¿Ÿ â†’ Redis Stream  
- ç”µå•†å¤æ‚äº‹åŠ¡ â†’ RocketMQ
