---
view-count: 22
update: 2026-01-07 00:09
related:
  - "[[工业级注释规范体系]]"
  - "[[2025-12-07-2026开发思维模型转变]]"
  - "[[2025-12-22-AI大模型知识体系]]"
---

## AI 编程能力边界与协作协议 (ROI 优化版)

**系统定位：** AI $\approx$ 高速 AST 生成器 / 初级实习生。擅长局部代码生成，缺乏全局成本与工程约束意识。

### 1. 能力边界矩阵 (Capability Boundary)

| 等级       | 任务范畴           | 自主度     | 瓶颈 / 风险点      |
| :------- | :------------- | :------ | :------------ |
| **Lv 2** | 单元测试、样板代码、正则   | **全自动** | 语法/语义对齐       |
| **Lv 3** | 跨模块重构、性能优化     | **辅助**  | 全局上下文丢失、隐性依赖  |
| **Lv 4** | 系统架构、技术选型      | **仅建议** | 缺乏工程约束与成本意识   |
| **Lv 5** | 复杂权衡、旧账治理、需求澄清 | **无能**  | 涉及社会工程与非结构化决策 |

### 2. 独立性判定算法 (Independence Algorithm)

**决策逻辑：**

- **IF** 输入熵 $O(1)$ (需求极度清晰) **AND** 复杂度 $\leq 50$ 行 **AND** 风险隔离 $\implies$ **✅ 自动执行** (内部工具、原型、测试)。
- **ELSE** $\implies$ **⚠️ 强制人工评审** (生产逻辑、并发、安全、资源管理)。

### 3. 系统故障模式 (Failure Modes)

- **假设钙化：** 缺失 Null/异常检查 $\to$ *防御：静态扫描 + 单元测试。*
- **并发坍塌：** 竞态条件 (Race Condition) $\to$ *防御：压力测试 / 并发注入。*
- **资源泄漏：** File/Conn 未闭环 $\to$ *防御：句柄监测。*
- **业务漂移：** 逻辑自洽但偏离需求 $\to$ *防御：人工逻辑审计。*

### 4. 生产力放大协议 (Scaling Protocol)

1. **TDD 驱动 (Test-Driven)：**
   - 人工定义断言集 $\to$ AI 实现函数直至 Pass。
   - **价值：** 建立硬性成功指标，对冲逻辑漂移。
2. **架构锁定 (Contract-First)：**
   - 人工设计接口契约、Repository 与 Service 层级 $\to$ AI 填充原子方法。
   - **价值：** 强制隔离关注点，防止架构熵增。
3. **分层迭代 (Iterative Refinement)：**
   - 生成 MVP 逻辑 $\to$ 注入异常/日志 $\to$ 安全/性能微调。

---

**验证 Checklist:**

- [ ] **注入防御：** SQL 参数化、XSS 转义是否到位？
- [ ] **资源一致性：** `defer` / `try-with-resources` 是否闭环？
- [ ] **边界处理：** 空值、溢出、零值逻辑是否覆盖？
- [ ] **语义化：** 命名是否具备自解释性，而非冗长 AI 注释？
