---
aliases: null
date: 2025-12-09 15:56
source: null
update: 2026-01-01 17:25
rating: null
related: null
view-count: 11
---

## 0. 本质 (The Essence)

- **核心逻辑**：基于 PWA 的“离线优先”极简任务管理。
- **价值点**：IndexedDB 本地持久化 + 零延迟即时反馈 + 纯粹的视觉体验。
- **定位**：拒绝功能臃肿，只做最快、最轻的任务流。

---

## 1. 核心功能矩阵

| 模块       | 核心能力                 | 技术关键                        | 吐槽                       |
| :------- | :------------------- | :-------------------------- | :----------------------- |
| **任务管理** | CRUD / 完成标记          | Vue 3 + Composition API     | 最基础但也最容易写乱               |
| **组织体系** | 分类 / 优先级 / 标签        | 多维索引筛选                      | 别让分类变成负担                 |
| **离线架构** | PWA / Service Worker | Workbox / Cache API         | 没网也能用是底线                 |
| **本地存储** | IndexedDB 持久化        | Dexie.js 封装                 | 告别 LocalStorage 的 5MB 限制 |
| **交互体验** | 深色模式 / 快捷键           | CSS Variables / Composables | 细节决定是否“极简”               |

---

## 2. 逻辑骨架 (Minimal Stack & Schema)

### **技术栈**

- **Core**: Vue 3 (`<script setup>`) + Vite
- **State**: Pinia
- **DB**: Dexie.js (IndexedDB)
- **PWA**: `vite-plugin-pwa`

### **核心对象模型**

- **Task**: `{id, title, completed, priority, category, dueDate, tags[]}`
- **Category**: `{id, name, icon, color, order}`

---

## 3. 避坑指南 (Brutal Truths)

- **不要做同步地狱**：第一阶段只关注本地存储，云同步是后续的复杂度陷阱。
- **极简不是简陋**：如果没有丝滑的过渡动画（Transition）和字体系统（Inter），极简只会显得廉价。
- **IndexedDB 是异步的**：UI 状态更新必须先于数据库写入（乐观更新），否则会有卡顿感。
- **PWA 更新策略**：务必处理好 Service Worker 的更新提示，避免用户停留在旧版本。

---

## 4. 执行图 (Roadmap)

1. **M1 (基础)**: Vite + PWA 框架搭建，确定 CSS 变量系统。
2. **M2 (数据)**: Dexie.js 初始化，完成 Pinia 与 DB 的双向绑定。
3. **M3 (核心)**: 任务 CRUD + 今日视图 + 侧边栏分类。
4. **M4 (高级)**: 快捷键处理 + 离线模式测试 + 自动深色模式。
5. **M5 (优化)**: 骨架屏 + 安装提示 + 性能专项优化。

---

## 5. 决策树

1. **数据量大且结构化？** → IndexedDB (Dexie)。
2. **需要跨组件状态？** → Pinia。
3. **需要瞬间启动？** → Service Worker 预缓存。
4. **追求原生感？** → PWA Manifest (Standalone)。

---

**原则**：Less, but better. 功能多加一个，体验就减一分。
