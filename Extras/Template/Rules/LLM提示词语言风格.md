
**核心原则（第一性原理/费曼简化）：**

与 LLM 交互时，把它想象成一个能力极强但极其“死板”的助手。它没有常识或隐含理解，需要你将任务目标、执行步骤、规则限制和预期结果都清晰、无歧义地说明白。**核心目标是：消除模糊性，提供精确指令。**

**简化和组织后的高质量洞见：**

1.  **指令必须明确直接 (Clear & Direct Commands):** 使用祈使句（“你要”、“必须”、“生成”）直接下达命令，避免模糊或建议性语言。
2.  **任务需要结构化分解 (Structured Task Breakdown):** 将复杂任务拆分成逻辑清晰的小步骤，并使用标题、列表等方式组织，方便 LLM 按顺序执行。
3.  **细节决定成败 (Detail is Crucial):** 精确定义所有关键要素：
    *   **数据来源：** 明确告知 LLM 从哪里获取信息（如 `summary` 标签、`page` 标签）。
    *   **处理逻辑：** 详细说明如何操作数据（如合并跨页文本、修复 OCR 错误、匹配引用）。
    *   **输出格式：** 严格规定最终输出的结构（如 XML 标签 `<response>`, `<abstract>`, `<content>`, `<ref>`) 和内容要求（如字数限制、内容覆盖范围）。
4.  **规则和约束是护栏 (Rules & Constraints are Guardrails):** 清晰列出“必须做”和“绝对不能做”的事项（如“严禁超过 300 字”、“不得打乱顺序”、“绝对不要跨页匹配引用”），防止 LLM 偏离预期。
5.  **预见问题并提供方案 (Anticipate & Solve Problems):** 提前考虑可能出现的错误（如 OCR 错误、引用无法匹配），并给出具体的处理策略或“思考模式”供 LLM 参考。
6.  **示例是重要的教学工具 (Examples are Key Teaching Tools):** 提供具体的输入、处理逻辑示例（如 OCR 修复思路）或输出格式样例，帮助 LLM 理解复杂指令。

**重点提取：高效 LLM 提示词的精确规范**

根据以上分析，高效 LLM 提示词应遵循以下精确规范：

1.  **目标定义清晰：** 在开头明确说明最终要完成的任务 (`任务目标`)。
2.  **结构化指令：** 使用编号列表或标题分解任务步骤 (`详细步骤与规则`)。
3.  **精确指定输入/输出：**
    *   明确说明处理哪些输入数据 (`内容来源`)。
    *   严格规定输出的格式、标签、属性 (`输出格式`, `<response>`, `<abstract>`, `<content>`, `idx` 属性, `<ref>`)。
4.  **量化约束：** 给出具体的数字限制（如字数限制 `超过 200 字，严禁超过 300 字`）。
5.  **明确禁止项：** 使用“禁止”、“不得”、“绝对不要”等词语清晰列出不允许的操作 (`禁止直接抄袭`, `不得遗漏、缩写或增加`, `绝对不要跨页匹配引用`)。
6.  **提供操作细则：** 详细说明关键操作步骤和逻辑（如 `跨页文本处理` 的合并规则，`OCR 错误修复` 的思考模式，`标注引用` 的匹配规则和错误处理）。
7.  **包含示例（可选但推荐）：** 给出具体例子（如代码块中的 `示例`）来演示预期格式或复杂逻辑。
8.  **定义边界条件和错误处理：** 说明在特定条件下（如引用无法匹配）应如何操作 (`无法匹配的处理：删除该正文中的编号`)。
9.  **保持顺序和一致性：** 强调内容和元素的顺序要求 (`严格按照原文的阅读顺序`, `必须保持其与文本的相对位置`) 和风格要求 (`语言风格需与输入文本保持一致`)。

---
这段提示词的语言风格可以被描述为：

1.  **指令性强且明确 (Highly Directive and Explicit):** 大量使用祈使句和情态动词（如“你要”、“需要”、“必须”、“应该”、“不得”、“禁止”、“绝对不要”），直接下达操作指令，清晰界定任务范围和行为边界，几乎没有模糊或可选择的空间。
2.  **结构化和逻辑清晰 (Structured and Logically Clear):** 使用清晰的标题（##）、项目符号（-）、代码块等方式组织内容，将复杂的任务分解为多个步骤。在指令之间，经常阐述逻辑关系和原因（例如，“...这是荒谬不合逻辑的”），帮助理解指令背后的目的。
3.  **精确且偏技术化 (Precise and Somewhat Technical):** 运用了与文本处理、数据结构（XML 标签如 `<response>`, `<page>`, `<ref>`), 错误类型 (OCR 识别错误) 和操作相关的特定术语。对细节要求非常具体，例如标签名称、属性、内容格式等。
4.  **注重规则和约束 (Rule-Oriented and Constraint-Focused):** 反复强调规则、限制和禁止项（“严禁超过”、“不得打乱”、“不得遗漏”等）。不仅说明要做什么，更着重强调不能做什么，以确保输出符合严格的规范。
5.  **预见性与问题解决导向 (Anticipatory and Problem-Solving Oriented):** 提示词预设了可能遇到的问题（如跨页文本、OCR错误、引用匹配问题），并提供了具体的思考模式（“模仿我的思考模式，举一反三”）和解决策略或修复步骤。
6.  **正式且权威 (Formal and Authoritative):** 语言表达较为正式、书面化，体现出一种设定标准、指导执行的权威口吻。



**示例（展示部分修复逻辑和输出结构）：**

```xml
<!-- 假设原始输入包含类似 "Wlannicott", "（（对转移的分析》", "Tran-\nsference" 等错误 -->
<response>
  <abstract>凯斯门特在此回顾了温尼科特的观点，并针对吉尔在其著作《对转移的分析》中过分强调分析师角色的做法表达了批评意见。凯斯门特认为吉尔的这种侧重显得有些夸张和失衡，未能恰当反映分析情境的复杂性，与温尼科特等人的观点形成了对比，提示我们需要更全面地理解转移现象中分析师与来访者的互动关系及其限度。</abstract>
  <content>
    <text idx="1">
      凯斯门特很可能会想起温尼科特（Winnicott, 1949, p.74）的评论。
    </text>
    <quote idx="1">
      令人好奇的是，我觉得精神分析文献中最无聊的强迫性理论作品之一是，吉尔（Gill, 1982）的《对转移的分析》（Analysis of Transference），他在其中夸大了分析家在分析情境中的角色的重要性。
    </quote>
    <!-- 其他来自 page 1 或后续 page 的 content -->
  </content>
</response>
```

---


