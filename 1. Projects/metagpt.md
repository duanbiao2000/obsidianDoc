---
categories:
  - Code
  - Tools
tags:
  - Effective/Tools
---
[GitHub - geekan/MetaGPT: 🌟 The Multi-Agent Framework: First AI Software Company, Towards Natural Language Programming](https://github.com/geekan/MetaGPT)


**核心功能:**

`metagpt` 的主要目的是 **启动一个新的软件项目**。你可以给它一个想法 (idea)，它会模拟一个 AI 软件开发团队（包含产品经理、架构师、工程师、测试工程师等角色）来尝试实现这个想法，生成包括需求文档、设计文档、代码等产物。

**基本用法:**

```bash
metagpt [OPTIONS] [IDEA]
```

*   `metagpt`: 这是运行该工具的命令。
*   `[OPTIONS]`: 可选参数，你可以使用下面列出的一个或多个选项来定制项目启动的行为。
*   `[IDEA]`: 可选参数，这里是你想要创建的项目的描述。比如 "创建一个 2048 游戏"。

**参数 (Arguments):**

*   `idea [IDEA]`
    *   **作用**: 提供你创新的想法或项目描述。这是 `metagpt` 理解你要做什么的主要输入。
    *   **类型**: 文本 (字符串)。
    *   **示例**: `'Create a 2048 game.'` (创建一个 2048 游戏)
    *   **默认值**: `None` (无)。如果你不提供 `idea`，`metagpt` 可能会提示你输入，或者使用某种内部默认行为。

**选项 (Options):**

这些选项允许你更精细地控制 `metagpt` 的行为：

*   `--investment FLOAT`
    *   **作用**: 设置模拟 AI 公司投入的“资金”额度（美元）。这可能会影响模拟过程中资源的分配或决策。
    *   **类型**: 浮点数 (FLOAT)。
    *   **默认值**: `3.0`。
*   `--n-round INTEGER`
    *   **作用**: 设置模拟进行的“轮数”。可以理解为开发迭代的次数或模拟的详细程度。轮数越多，模拟可能越深入，耗时也越长。
    *   **类型**: 整数 (INTEGER)。
    *   **默认值**: `5`。
*   `--code-review` / `--no-code-review`
    *   **作用**: 控制是否在模拟过程中启用代码评审环节。启用 (`--code-review`) 会让 AI 模拟代码检查的过程，可能会提高代码质量但增加耗时。
    *   **类型**: 布尔开关 (Boolean flag)。
    *   **默认值**: `code-review` (默认启用代码评审)。
*   `--run-tests` / `--no-run-tests`
    *   **作用**: 控制是否启用 QA（质量保证）环节，即添加和运行测试用例。启用 (`--run-tests`) 会让 AI 模拟编写和执行测试。
    *   **类型**: 布尔开关。
    *   **默认值**: `no-run-tests` (默认不运行测试)。
*   `--implement` / `--no-implement`
    *   **作用**: 控制是否实际执行代码实现（编写代码）这一步。如果禁用 (`--no-implement`)，`metagpt` 可能只会生成需求、设计等文档，而不生成实际代码。
    *   **类型**: 布尔开关。
    *   **默认值**: `implement` (默认执行代码实现)。
*   `--project-name TEXT`
    *   **作用**: 指定一个唯一的项目名称。生成的项目文件会被放在以此命名的文件夹下。
    *   **类型**: 文本 (TEXT)。
    *   **示例**: `game_2048`。
*   `--inc` / `--no-inc`
    *   **作用**: 控制是否启用“增量模式”(Incremental mode)。当你想要在**现有项目**的基础上进行修改或添加功能时，使用 `--inc`。这通常需要配合 `--project-path` 使用。
    *   **类型**: 布尔开关。
    *   **默认值**: `no-inc` (默认不启用增量模式，即创建一个全新的项目)。
*   `--project-path TEXT`
    *   **作用**: 当使用增量模式 (`--inc`) 时，这个选项用来指定**现有旧版本项目**的目录路径。`metagpt` 会读取这个路径下的项目来进行增量开发。
    *   **类型**: 文本 (TEXT)。
*   `--reqa-file TEXT`
    *   **作用**: 指定一个用于重写质量保证代码（QA Code）的源文件名。这似乎是一个比较高级的选项，用于特定的 QA 代码修改场景。
    *   **类型**: 文本 (TEXT)。
*   `--max-auto-summarize-code INTEGER`
    *   **作用**: 限制内部 `SummarizeCode` (代码摘要) 动作自动调用的最大次数。`-1` 表示不限制。这主要用于调试 `metagpt` 的内部工作流程，普通用户一般不需要设置。
    *   **类型**: 整数 (INTEGER)。
    *   **默认值**: `0` (默认不自动调用或有特定内部限制)。
*   `--recover-path TEXT`
    *   **作用**: 从一个之前被中断并保存了状态的 `metagpt` 运行中恢复项目。你需要提供保存状态的文件或目录路径。
    *   **类型**: 文本 (TEXT)。
    *   **默认值**: `None` (不进行恢复)。
*   `--init-config` / `--no-init-config`
    *   **作用**: 使用 `--init-config` 可以让 `metagpt` 初始化（生成）一个配置文件。你可以修改这个配置文件来自定义 `metagpt` 的默认行为，而不需要每次都在命令行加很多选项。
    *   **类型**: 布尔开关。
    *   **默认值**: `no-init-config` (默认不初始化配置文件)。
*   `--help`
    *   **作用**: 显示这条帮助信息然后退出。

**总结:**

`metagpt` 是一个强大的工具，它能根据你的一个想法，利用 AI 模拟整个软件开发流程来创建项目。你可以通过命令行参数来描述你的想法，并通过各种选项来控制模拟的细节，例如预算、开发轮数、是否进行代码评审和测试、是在新项目上工作还是在现有项目上进行增量开发等。

