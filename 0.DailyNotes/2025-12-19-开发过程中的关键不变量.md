---
view-count: 4
---
# 关键不变量：极简版

| 类别 | 核心不变量 (示例) |
| :--- | :--- |
| **数据一致性** | 余额非负 / 状态机单向流转 / 事务完整性 |
| **安全性** | 鉴权必过 / 敏感数据必密 / 变更必审计 |
| **系统行为** | 消息不丢 / 升级不冲突 / 性能不破限 |
| **资源管理** | 配额不超 / 连接池不溢 / 并发受控 |

---

- **基准线**：无论正常或故障，必须始终保持为“真”。
- **防御位**：通过断言、锁、幂等及事务在代码层加固。
- **可观测**：监控指标若违反不变量，必须立即触发告警/回滚。

**逻辑：** 识别 **业务红线**，设定 **永恒真理**，用 **防御性设计** 确保系统始终处于 **合法状态**。