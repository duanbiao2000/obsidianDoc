---
aliases:
  - Proper Abstractions
date: 2025-11-05 11:37
tags:
source:
  - https://github.com/duanbiao2000/claude-flow/blob/main/.claude/agents/core/reviewer.md
update:
rating:
related:
view-count: 4
---

★ **恰当抽象 = 隐藏细节**  
暴露接口 → 复杂度↓

★ **抽象服务于可维护性**  
抽象合理 → 理解↑ 变更↓

★ **单一职责定义抽象边界**  
一事一抽象 → 内聚↑

❗ **职责混合 = 抽象失败**  
多目标 → 耦合↑

★ **接口定义 what**  
实现隐藏 how

△ **依赖抽象而非实现**  
可替换性↑

★ **变化点应被隔离**  
易变封装 → 稳定依赖

❗ **需求变更≠大改代码**  
改实现 ≠ 改调用方

❗ **过度抽象 = 负债**  
层级↑ → 理解↓

❗ **重复抽象 = 噪音**  
功能重叠 → 维护↑

★ **命名即意图**  
名不准 → 误用↑

△ **抽象命名应指向领域**  
技术名 → 语义弱

★ **大函数=缺抽象**  
体积↑ → 责任散

△ **横切逻辑应被抽象**  
校验/日志 → 装饰器

❗ **暴露状态破坏封装**  
public state → 不可控

★ **好抽象≈黑盒模型**  
知输入输出即可

---

## 🧠 Staff / Principal Engineer · Hidden Signals Checklist

### 1. **他们在设计前就讨论变化**

❗不是“现在怎么实现”，而是  
**“哪一部分半年内一定会变？”**

→ 能提前画出变化边界 = Staff+

---

### 2. **抽象数量明显少于中级工程师**

❗抽象不是越多越好  
**每一个抽象都在还未来的债**

→ 少而必要 = 高级

---

### 3. **接口比实现更稳定**

代码 diff 显示：

- 实现常改
    
- 接口很少动
    

→ 系统寿命被拉长

---

### 4. **命名接近业务语言**

不是 `Manager / Handler / Util`  
而是领域词

→ 思考层级在 Domain，而不是代码

---

### 5. **会刻意延迟抽象**

❗不会为了“优雅”提前设计  
**等变化真实出现才抽**

→ 抗过度设计能力

---

### 6. **重构目标是“便宜的变化”**

不是 DRY  
不是炫技 Pattern  
而是：

> 下一个需求改动量 ↓

---

### 7. **Review 评论关注系统级风险**

不是格式、语法  
而是：

- 耦合
    
- 依赖方向
    
- 演化成本
    

→ 站在未来看现在

---

### 8. **能说清“为什么不抽象”**

❗这是分水岭  
知道什么时候**不该动**

→ 高判断力

---

### 9. **抽象能被删除**

代码允许：

- 合并
    
- 移除
    
- 回退
    

→ 抽象不是不可触碰的圣物

---

### 10. **设计让团队更快**

新人能：

- 快理解
    
- 少问问题
    
- 不怕改
    

→ 影响力 > 代码量

---

## ⚖️ Staff vs Principal（微妙但关键）

|维度|Staff|Principal|
|---|---|---|
|抽象范围|单系统|跨系统|
|关注点|变化成本|组织成本|
|抽象对象|代码|团队 & 接口|
|成功标志|系统稳|组织不痛|

---

### 一句“内行识别内行”的评语

> **“This design makes future changes boring.”**

如果你愿意，我还能把这套标准：

- 🔥 压成 **晋升评审用的 1 页 Rubric**
    
- 🧪 或转成 **“识别伪高级工程师”的反向清单**
    

你继续点，我继续干。