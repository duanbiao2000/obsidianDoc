---
view-count: 2
---

## 前置概念
- ★ 单体→微服务=边界拆分  
- ★ 同步vs异步=耦合差异  
- ★ RPCvsREST=接口形态  
- ★ 可靠性=容错+恢复  
- ★ 契约=接口可演进  
- ★ 可观测=指标日志追踪  
- ★ 运维复杂=组件+治理  

## 决策结论锚点
- ★ 推荐=混合通信栈  
- ★ 内部同步→gRPC优先  
- ★ 异步补充→消息队列  
- ★ 对外API→REST保留  
- ❗ 无银弹→场景分治  

## 目标与动机
- ★ 单体瓶颈→迁移驱动  
- △ 开发效率↑为主线  
- △ 扩展性↑为主线  
- △ 可靠性↑为主线  

## 评估维度框架
- ★ 评估=性能/可靠/体验  
- ★ 评估=契约/可观测/运维  
- △ 维度齐全→可复用模板  

## 性能对比锚点
- ★ gRPC=HTTP/2+Protobuf→快[4][1]
- △ REST=文本化→中等[5]
- △ MQ=吞吐↑但延迟不定  
- ❗ 低延迟场景→避纯异步  

## 可靠性对比锚点
- ★ MQ=解耦+持久→韧性↑[2]
- △ gRPC=内建机制→稳[4]
- △ REST=可靠性需自建  
- △ 韧性目标→事件化优先  

## 契约与版本锚点
- ★ Protobuf契约→兼容演进[1][4]
- ❗ REST契约松→漂移风险  
- △ 契约先行→协作成本↓  

## 运维复杂度锚点
- ★ REST运维=最低  
- △ gRPC运维=中等  
- ★ MQ运维=最高  
- ❗ MQ引入→调试难↑  

## 选择理由锚点
- ★ 选gRPC=性能+强契约[1][4]
- △ 生态成熟→长期收益↑  
- ★ 选MQ=解耦+削峰[2]
- ★ 留REST=外部兼容佳[5]

## 风险与约束锚点
- ★ 新技术→学习成本↑  
- ★ 栈混合→复杂度↑  
- ❗ 异步链路→定位难↑  
- △ 统一规范→风险↓  

## 后续治理组件
- ★ 服务网格→治理通信[6]
- ★ API网关→内外隔离  
- △ MQ选型→Kafka vs Pub/Sub  
- ★ 规范=错误+幂等必备  

## 成功指标锚点
- ★ 成功=延迟↓吞吐↑  
- ★ 成功=效率↑迭代快  
- ★ 成功=恢复时间↓  
- △ 指标驱动→决策可回归  

想把它真正“落地到知识库”时，偏向用 Obsidian/Notion 还是直接产出一份架构决策记录（ADR）模板？
