### **Meta Programmingï¼ˆå…ƒç¼–ç¨‹ï¼‰â€”â€”ç¼–å†™â€œèƒ½ç¼–ç¨‹çš„ç¨‹åºâ€**

#### **ğŸ” æ ¸å¿ƒæ¦‚å¿µ**
å…ƒç¼–ç¨‹ï¼ˆMeta Programmingï¼‰æ˜¯æŒ‡**ç¨‹åºèƒ½å¤Ÿç¼–å†™ã€æ“çºµæˆ–ç”Ÿæˆå…¶ä»–ç¨‹åº**çš„èƒ½åŠ›ã€‚å®ƒæ˜¯ä¸€ç§é«˜é˜¶ç¼–ç¨‹èŒƒå¼ï¼Œå¸¸è§äºåŠ¨æ€è¯­è¨€ï¼ˆå¦‚ Rubyã€Pythonã€Lispï¼‰å’Œç¼–è¯‘å‹è¯­è¨€ï¼ˆå¦‚ C++ çš„æ¨¡æ¿å…ƒç¼–ç¨‹ï¼‰ã€‚

#### **ğŸ“ ä¸¤ç§ä¸»è¦ç±»å‹**
1. **ç¼–è¯‘æ—¶å…ƒç¼–ç¨‹ï¼ˆCompile-Time Meta Programmingï¼‰**
   - åœ¨**ç¼–è¯‘é˜¶æ®µ**ç”Ÿæˆæˆ–ä¿®æ”¹ä»£ç 
   - ç¤ºä¾‹ï¼š
     - **C++ æ¨¡æ¿å…ƒç¼–ç¨‹**ï¼ˆTMP, Template Meta Programmingï¼‰
     ```cpp
     template<int N>
     struct Factorial {
         static const int value = N * Factorial<N-1>::value;
     };
     // ç‰¹åŒ–ï¼šé€’å½’ç»ˆæ­¢æ¡ä»¶
     template<>
     struct Factorial<0> {
         static const int value = 1;
     };
     // ç¼–è¯‘æ—¶è®¡ç®— 5!
     int result = Factorial<5>::value; // ç¼–è¯‘åç›´æ¥æ›¿æ¢ä¸º 120
     ```
     - **å®ï¼ˆMacrosï¼‰**ï¼ˆå¦‚ Rust çš„ `macro_rules!`ï¼‰

2. **è¿è¡Œæ—¶å…ƒç¼–ç¨‹ï¼ˆRun-Time Meta Programmingï¼‰**
   - åœ¨**ç¨‹åºè¿è¡Œæ—¶**åŠ¨æ€ä¿®æ”¹ä»£ç /è¡Œä¸º
   - ç¤ºä¾‹ï¼š
     - **Ruby çš„ `method_missing` åŠ¨æ€æ–¹æ³•è°ƒç”¨**
     ```ruby
     class DynamicProxy
       def method_missing(method_name, *args)
         puts "è°ƒç”¨äº†ä¸å­˜åœ¨çš„æ–¹æ³•: #{method_name}"
       end
     end
     obj = DynamicProxy.new
     obj.hello # è¾“å‡ºï¼šè°ƒç”¨äº†ä¸å­˜åœ¨çš„æ–¹æ³•: hello
     ```
     - **Python çš„è£…é¥°å™¨ï¼ˆDecoratorsï¼‰**
     ```python
     def log_time(func):
         def wrapper(*args, **kwargs):
             start = time.time()
             result = func(*args, **kwargs)
             print(f"{func.__name__} è€—æ—¶: {time.time() - start:.2f}ç§’")
             return result
         return wrapper

     @log_time
     def heavy_computation():
         time.sleep(1)

     heavy_computation()  # è‡ªåŠ¨æ‰“å°è€—æ—¶
     ```

---

### **ğŸš€ å…ƒç¼–ç¨‹çš„æ ¸å¿ƒæŠ€æœ¯**
| æŠ€æœ¯                 | ç¤ºä¾‹è¯­è¨€        | å…¸å‹åº”ç”¨åœºæ™¯                     |
|----------------------|----------------|----------------------------------|
| **åå°„ï¼ˆReflectionï¼‰** | Java, C#       | è¿è¡Œæ—¶è·å–ç±»ä¿¡æ¯ã€åŠ¨æ€è°ƒç”¨æ–¹æ³•   |
| **å®ï¼ˆMacrosï¼‰**       | Lisp, Rust     | ä»£ç ç”Ÿæˆï¼ˆå¦‚ DSLï¼‰               |
| **åŠ¨æ€æ–¹æ³•**           | Ruby, Python   | Monkey Patchingã€åŠ¨æ€ä»£ç†        |
| **AST æ“ä½œ**           | Python, Julia  | ä»£ç åˆ†æ/è½¬æ¢ï¼ˆå¦‚ä¼˜åŒ–å™¨ï¼‰        |
| **æ¨¡æ¿å…ƒç¼–ç¨‹**         | C++            | ç¼–è¯‘æœŸè®¡ç®—ã€æ³›å‹å®¹å™¨             |

---

### **ğŸ’¡ ä¸ºä»€ä¹ˆéœ€è¦å…ƒç¼–ç¨‹ï¼Ÿ**
1. **å‡å°‘æ ·æ¿ä»£ç **
   - ä¾‹å¦‚ï¼šJava çš„ Lombok ç”¨æ³¨è§£è‡ªåŠ¨ç”Ÿæˆ Getter/Setter
2. **å®ç°é¢†åŸŸç‰¹å®šè¯­è¨€ï¼ˆDSLï¼‰**
   - å¦‚ Rails çš„ ActiveRecordï¼ˆ`User.where(name: "Alice")`ï¼‰
3. **åŠ¨æ€é€‚åº”éœ€æ±‚**
   - æ’ä»¶ç³»ç»Ÿã€è¿è¡Œæ—¶çƒ­ä¿®å¤
4. **æ€§èƒ½ä¼˜åŒ–**
   - C++ æ¨¡æ¿åœ¨ç¼–è¯‘æœŸå±•å¼€ï¼Œé¿å…è¿è¡Œæ—¶å¼€é”€

---

### **âš ï¸ æ½œåœ¨é£é™©**
1. **å¯è¯»æ€§é™ä½**
   - è¿‡åº¦ä½¿ç”¨å…ƒç¼–ç¨‹ä¼šå¯¼è‡´â€œé­”æ³•ä»£ç â€ï¼ˆMagic Codeï¼‰
2. **è°ƒè¯•å›°éš¾**
   - åŠ¨æ€ç”Ÿæˆçš„ä»£ç éš¾ä»¥è¿½è¸ªï¼ˆå¦‚ Ruby çš„ `define_method`ï¼‰
3. **æ€§èƒ½é™·é˜±**
   - è¿è¡Œæ—¶åå°„å¯èƒ½æ¯”é™æ€è°ƒç”¨æ…¢ï¼ˆå¦‚ Java çš„ `Method.invoke()`ï¼‰

---

### **ğŸŒ° ç»å…¸æ¡ˆä¾‹**
1. **Rails çš„ ActiveRecord**
   - åŠ¨æ€ç”Ÿæˆæ•°æ®åº“æŸ¥è¯¢æ–¹æ³•ï¼ˆå¦‚ `find_by_name`ï¼‰
2. **Python çš„ @property**
   - ç”¨è£…é¥°å™¨å°†æ–¹æ³•ä¼ªè£…æˆå±æ€§
3. **C++ STL çš„ `std::enable_if`**
   - ç¼–è¯‘æœŸæ¡ä»¶é€‰æ‹©æ¨¡æ¿

---

#### **ğŸ”® æ€»ç»“**
å…ƒç¼–ç¨‹æ˜¯**è®©ä»£ç æ›´æ™ºèƒ½åœ°å†™ä»£ç **çš„è‰ºæœ¯ï¼Œåˆç†ä½¿ç”¨èƒ½å¤§å¹…æå‡çµæ´»æ€§ï¼Œä½†éœ€è­¦æƒ•è¿‡åº¦è®¾è®¡ã€‚æ­£å¦‚ã€Šè®¡ç®—æœºç¨‹åºçš„æ„é€ ä¸è§£é‡Šã€‹æ‰€è¯´ï¼š
> â€œPrograms must be written for people to read, and only incidentally for machines to execute.â€
> ï¼ˆç¨‹åºé¦–å…ˆæ˜¯å†™ç»™äººè¯»çš„ï¼Œå…¶æ¬¡æ‰æ˜¯ç»™æœºå™¨æ‰§è¡Œçš„ã€‚ï¼‰