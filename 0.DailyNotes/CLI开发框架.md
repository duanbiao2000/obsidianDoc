

## âœ… å››ã€ç”Ÿäº§çº§éƒ¨ç½²å‘½ä»¤æ¸…å•ï¼ˆç«‹å³æ‰§è¡Œï¼‰

| åœºæ™¯ | å‘½ä»¤ | è¯´æ˜ |
|------|------|------|
| **å¯åŠ¨æ‰€æœ‰æœåŠ¡** | `docker-compose up -d` | `-d` åå°è¿è¡Œ |
| **æŸ¥çœ‹æœåŠ¡çŠ¶æ€** | `docker-compose ps` | æŸ¥çœ‹å¥åº·çŠ¶æ€ï¼ˆhealthy/unhealthyï¼‰ |
| **æŸ¥çœ‹æ—¥å¿—** | `docker-compose logs -f web` | å®æ—¶è¿½è¸ª Web æœåŠ¡æ—¥å¿— |
| **é‡å¯æœåŠ¡** | `docker-compose restart db` | ä¼˜é›…é‡å¯ï¼Œä¸ä¸­æ–­å…¶ä»–æœåŠ¡ |
| **é‡å»ºæœåŠ¡** | `docker-compose up --build -d web` | é‡æ–°æ„å»ºé•œåƒå¹¶éƒ¨ç½² |
| **åœæ­¢å¹¶åˆ é™¤** | `docker-compose down` | åˆ é™¤å®¹å™¨ã€ç½‘ç»œã€ä½†ä¿ç•™å· |
| **å¼ºåˆ¶æ¸…ç†** | `docker-compose down -v` | åˆ é™¤å®¹å™¨ã€ç½‘ç»œã€**å¹¶åˆ é™¤å·**ï¼ˆæ…ç”¨ï¼‰ |
| **æŸ¥çœ‹é…ç½®** | `docker-compose config` | éªŒè¯ YAML è¯­æ³•æ˜¯å¦æ­£ç¡® |

> âœ… **ç”Ÿäº§å»ºè®®**ï¼š  
> åœ¨ CI/CD ä¸­ä½¿ç”¨ï¼š  
> ```bash
> docker-compose config  # éªŒè¯é…ç½®
> docker-compose pull    # æ‹‰å–æœ€æ–°é•œåƒ
> docker-compose up -d   # éƒ¨ç½²
> ```

---

## âœ… äº”ã€å¸¸è§é™·é˜±ä¸é¿å‘æŒ‡å—

| é™·é˜± | é”™è¯¯åšæ³• | æ­£ç¡®åšæ³• |
|------|----------|----------|
| **ä½¿ç”¨ `links`** | `links: - db` | âœ… **æ”¹ç”¨ `networks` + æœåŠ¡å**ï¼ˆ`db` ä½œä¸ºä¸»æœºåï¼‰ |
| **ä¸è®¾å¥åº·æ£€æŸ¥** | æ—  `healthcheck` | âœ… **å¿…é¡»æ·»åŠ **ï¼Œå¦åˆ™æ— æ³•è‡ªæ„ˆ |
| **ä½¿ç”¨ `latest` æ ‡ç­¾** | `image: nginx:latest` | âœ… **å›ºå®šç‰ˆæœ¬**ï¼š`nginx:1.25-alpine` |
| **ä¸æŒ‚è½½å·** | æ•°æ®åº“æ—  `volumes` | âœ… **å¿…é¡»æŒ‚è½½**ï¼Œå¦åˆ™é‡å¯åæ•°æ®ä¸¢å¤± |
| **ä¸è®¾é‡å¯ç­–ç•¥** | æ—  `restart` | âœ… **å¿…é¡»è®¾**ï¼š`restart: unless-stopped` |
| **ä¸ä½¿ç”¨ `.env`** | å¯†ç å†™æ­»åœ¨ YAML | âœ… **ç”¨ `.env` + `environment` å¼•ç”¨** |

> âœ… **é‡‘å¥**ï¼š  
> **â€œå¦‚æœä½ çš„ Compose æ–‡ä»¶é‡Œæœ‰ `latest`ã€`links`ã€`no healthcheck`ï¼Œ**  
> **é‚£ä½ ä¸æ˜¯åœ¨éƒ¨ç½²ç”Ÿäº§ç³»ç»Ÿï¼Œä½ æ˜¯åœ¨ç©ä¿„ç½—æ–¯è½®ç›˜èµŒã€‚â€**

---

## âœ… å…­ã€å®æˆ˜æ¡ˆä¾‹ï¼šæ„å»ºä¸€ä¸ªå®Œæ•´ç”Ÿäº§çº§åº”ç”¨

### ğŸ“ é¡¹ç›®ç»“æ„
```text
myapp/
â”œâ”€â”€ docker-compose.yml          # åŸºç¡€é…ç½®
â”œâ”€â”€ docker-compose.prod.yml     # ç”Ÿäº§è¦†ç›–
â”œâ”€â”€ .env                        # æ•æ„Ÿå˜é‡
â”œâ”€â”€ web/
â”‚   â”œâ”€â”€ Dockerfile              # Node.js åº”ç”¨
â”‚   â””â”€â”€ src/
â”œâ”€â”€ db/
â”‚   â””â”€â”€ init.sql                # åˆå§‹åŒ–æ•°æ®åº“
â””â”€â”€ nginx/
    â””â”€â”€ nginx.conf
```

### ğŸš€ éƒ¨ç½²æµç¨‹
```bash
# 1. æ£€æŸ¥é…ç½®
docker-compose config

# 2. æ„å»ºé•œåƒ
docker-compose build

# 3. æ‹‰å–ä¾èµ–é•œåƒï¼ˆå¦‚ PostgreSQLï¼‰
docker-compose pull

# 4. å¯åŠ¨æœåŠ¡ï¼ˆç”Ÿäº§ï¼‰
docker-compose -f docker-compose.yml -f docker-compose.prod.yml up -d

# 5. æŸ¥çœ‹çŠ¶æ€
docker-compose ps

# 6. æŸ¥çœ‹æ—¥å¿—
docker-compose logs -f web
```

