
## 技术组合方案
![[Pasted image 20230802121346.png]]
工具集成工具Hub Cli:   前端统一开发工具平台
  - 云构建
  - 自带用户识别接口

工具服务平台Hub Service:  前段统一开发服务平台

  - 工具灰度控制: 快速实现对人/系统/特定环境的快速灰度(对云构建同样生效)

Hub Cli -> Hub Service -> DEF service & other

工程生命周期:

1) 初始化项目: hub init
2) 将代码部署至日常: hub daily
3) 将代码部署至线上: hub publish
4) 构建项目: hub build
5) 启动开发服务: hub server
6) 启动代码测试: hub test

自动化发布流程:
```bash
git add.
git commit -m '提交信息'
git push origin daily/0.0.1
```
通过流程编排,将操作自动化:
```bash
hub daily -q
```
```
//请选择当前Commit类型
feat: 新功能
fix: 修补bug
docs: 文档相关改动
style: 代码格式化改动,代码逻辑并未产生任何变化
refactor: 重构代码或其他优化措施
test: 增加测试
chore: 构建过程或辅助工具的变动
```

这是一些常见的代码安全检查项。我可以为您提供一些基本信息：
1. HTTPS协议检查：
   检查应用程序是否使用了HTTPS协议来进行安全的数据传输。HTTPS通过使用SSL/TLS协议对传输的数据进行加密，以防止中间人攻击和数据泄露。
2. 文件元信息检查：
   检查代码文件的元信息，包括作者、创建日期、修改日期等。这可以帮助您了解代码的来源和修改历史，以及发现潜在的安全问题。
3. 内部域名检查：
   检查应用程序中是否存在使用内部域名的代码。内部域名可能会导致安全风险，例如被恶意利用来进行网络钓鱼攻击。
4. 代码注释检查：
   检查代码中的注释是否包含敏感信息，例如密码、API密钥等。这可以帮助您避免将敏感信息暴露在代码中，从而减少潜在的安全风险。
5. NPM模块License检查：
   检查您应用程序中使用的NPM模块的许可证信息。了解您使用的模块的许可证类型和限制可以帮助您遵守相关的法律和规定，以及减少法律风险。
请注意，这些检查只是代码安全的一部分。为了确保应用程序的安全性，您还应该采取其他安全措施，如输入验证、访问控制和漏洞扫描等。

- 首先渲染布局;
- 核心: 渲染首屏, 对于播放页重点是播放器和剧集内容;
- 其他: 看不到可以偷偷加载,不及时展示也没问题

#### 播放页的服务支持两种渲染方式
- 当服务端有渲染压力时或集群不稳定时,可以切换为客户端渲染,服务端只负责页面的SEO数据获取,渲染工作交给浏览器.
- 当数据源服务出现问题时,可以使用CDN数据兜底进行页面容灾
#### 组件: 多模块升级配合改造
播放页的页面组件包括: 首屏,分发区,弹幕,播放器,评论等等一系列的组件,此次播放页升级对应的组件也做了重构,其中弹幕,评论已随新版播放页一起[[灰度上线]].

## 未来: Serverless SSR
FaaS: Functions as a Service
从 beidou、next.js、egg-react-ssr 到 Umi SSR，可以看出服务端渲染是很重要的端侧渲染组成部分。无论如何，React  SSR 都是依赖 Node.js  Web 应用的。那么，在 Serverless 时代，基于函数即服务（Functions as a Service，简写为 FaaS）做 API 开发相关是非常简单的：
1）无服务，不需要管运维工作；
2）代码只关系函数粒度，面向 API 变成，降低构建复杂度；
3）可扩展。 


#### 一切皆是函数$
- 在未来,基于FaaS的渲染层,开发者需要关心React, 不需要关心Webpack和egg.js
[[同构]]
CSR - > SSR -> Umi SSR -> 未来Serveless环境,基于FaaS的渲染层 ,开发者需要关心React,对开发者要求更高,甚至是全栈. 

[[Serverless]]
今天的大前端，除了 Web 外，还包括各种端，比如移动端、OTT，甚至是新的物联网设备。
