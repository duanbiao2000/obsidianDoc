---
aliases:
  - 
date: 2025-12-04 17:23
tags:
  - 
collections:
source:
rating:
related:
view-count: 3
---

# 📚 专业代码生成提示模板完整指南

**版本**: v1.0 | 2024-12-04\
**适用**: AI代码生成、算法优化、项目搭建、Bug修复

---

## 📖 目录

1. [快速入门](#快速入门)
2. [核心模板](#核心模板)
   - [模板A: 功能实现快速生成](#模板a-功能实现快速生成)
   - [模板B: 算法优化专用](#模板b-算法优化专用)
   - [模板C: 完整项目脚手架](#模板c-完整项目脚手架)
   - [模板D: 代码审查与重构](#模板d-代码审查与重构)
   - [模板E: Bug修复专用](#模板e-bug修复专用)
   - [模板F: 代码转换/迁移](#模板f-代码转换迁移)
3. [实战示例](#实战示例)
4. [最佳实践](#最佳实践)
5. [快速启动模板](#快速启动模板)

---

## 🚀 快速入门

### 如何使用本指南?

**选择适合的模板**:

- 实现新功能 → [模板A](#模板a-功能实现快速生成)
- 优化算法 → [模板B](#模板b-算法优化专用)
- 创建新项目 → [模板C](#模板c-完整项目脚手架)
- 改进代码质量 → [模板D](#模板d-代码审查与重构)
- 修复程序错误 → [模板E](#模板e-bug修复专用)
- 语言/框架迁移 → [模板F](#模板f-代码转换迁移)

**使用步骤**:

1. 复制对应模板
2. 填写标记为`[...]`的字段
3. 勾选适用的`[ ]`选项
4. 粘贴到AI工具(ChatGPT/Claude/Copilot)
5. 根据输出迭代优化

---

## 📋 核心模板

### 模板A: 功能实现快速生成

**适用场景**: 实现单个函数、类或模块

```markdown
# 代码生成提示词 - 功能实现版

## 🎯 任务定义

**功能描述**: [用一句话清晰描述要实现什么功能]

**编程语言**: [Python/JavaScript/Java/C++/Go/Rust/TypeScript/其他]

**使用场景**: [Web应用/CLI工具/数据处理/API开发/算法实现/其他]

---

## 📝 详细需求

### 1. 输入输出规范

**输入**:
- 参数1: [类型] - [说明] - [示例值]
- 参数2: [类型] - [说明] - [示例值]

**输出**:
- 返回类型: [类型]
- 返回格式: [说明]
- 示例输出: [具体例子]

### 2. 功能约束

- [ ] 性能要求: [时间复杂度/内存限制]
- [ ] 错误处理: [需要处理的异常类型]
- [ ] 边界条件: [空值/极端值/特殊情况]
- [ ] 依赖限制: [仅使用标准库/允许第三方库]

### 3. 代码质量要求

- [ ] 需要类型注解/类型提示
- [ ] 需要完整的文档字符串
- [ ] 需要单元测试
- [ ] 需要代码注释(复杂逻辑处)
- [ ] 遵循[PEP 8/ESLint/Google Style Guide]规范

---

## 💻 生成指令

请生成满足上述需求的代码,并按以下格式输出:

### 输出格式

**1. 核心实现代码**

[完整可运行的代码]

**2. 使用示例**

[展示如何调用的示例代码]

**3. 测试用例**

[至少3个测试用例:正常/边界/异常]

**4. 复杂度分析**
- 时间复杂度: O(?)
- 空间复杂度: O(?)
- 关键优化点: [说明]

**5. 注意事项**
- [列出使用时需要注意的点]
- [已知限制或潜在问题]

---

现在开始生成!
```

---

### 模板B: 算法优化专用

**适用场景**: 优化现有算法或实现高性能解决方案

```markdown
# 代码生成提示词 - 算法优化版

## 🎯 优化目标

**当前实现** (可选,如果有):


[粘贴现有代码]

**优化目标**: [选择一项或多项]
- [ ] 提升执行速度(时间复杂度)
- [ ] 降低内存占用(空间复杂度)
- [ ] 提高可读性
- [ ] 增强可维护性
- [ ] 减少外部依赖

**问题规模**: [数据量级,如: n ≤ 10^6]

---

## 📝 算法需求

### 1. 问题定义

**问题类型**: [排序/搜索/动态规划/图算法/字符串处理/其他]

**具体描述**: 
[详细描述算法要解决的问题]

**示例**:
```

输入:[1][2][3][4][5]
输出:[2][3][4][5][1]
说明: 对数组进行升序排序

```

### 2. 约束条件

- 时间限制: [目标时间复杂度,如: O(n log n)]
- 空间限制: [目标空间复杂度,如: O(1)原地算法]
- 特殊要求: [稳定排序/在线算法/递归深度限制]

### 3. 测试数据集

**正常用例**:
- 输入: [示例1]
- 预期输出: [结果1]

**边界用例**:
- 空输入: [处理方式]
- 单元素: [处理方式]
- 极大值: [处理方式]

**异常用例**:
- 非法输入: [如何处理]

---

## 💻 生成指令

请提供:

### 1. 多种实现方案对比

| 方案 | 时间复杂度 | 空间复杂度 | 优点 | 缺点 | 推荐场景 |
|-----|----------|----------|-----|-----|---------|
| 方案1 | O(?) | O(?) | - | - | - |
| 方案2 | O(?) | O(?) | - | - | - |

### 2. 最优方案详细实现

```

[完整代码 + 详细注释]

```

### 3. 算法思路说明

- 核心思想: [用简单语言解释]
- 关键步骤: [分步骤说明]
- 优化技巧: [说明为什么这样写更高效]

### 4. 性能测试代码

```

[基准测试代码,对比不同输入规模]

```

### 5. 可视化说明 (可选)

[用伪代码或图示说明算法流程]

---

现在开始生成!
```

---

### 模板C: 完整项目脚手架

**适用场景**: 创建新项目的完整目录结构和基础代码

```markdown
# 代码生成提示词 - 项目脚手架版

## 🎯 项目概述

**项目名称**: [项目名]

**项目类型**: [选择一项]
- [ ] REST API服务
- [ ] CLI工具
- [ ] Web应用(前端)
- [ ] 数据处理管道
- [ ] 微服务
- [ ] SDK/库

**技术栈**:
- 主语言: [Python 3.11/Node.js 20/Java 17/Go 1.21]
- 框架: [FastAPI/Express/Spring Boot/Gin/其他]
- 数据库: [PostgreSQL/MongoDB/Redis/不需要]
- 其他工具: [Docker/pytest/Jest]

---

## 📝 功能模块

### 核心功能列表

1. [功能1]: [简要说明]
2. [功能2]: [简要说明]
3. [功能3]: [简要说明]

### API端点设计 (如适用)

| 方法 | 路径 | 功能 | 请求体 | 响应 |
|-----|------|-----|-------|------|
| GET | /api/users | 获取用户列表 | - | User[] |
| POST | /api/users | 创建用户 | User | User |

### 数据模型 (如适用)

```

User:

- id: UUID
- name: string
- email: string
- created_at: datetime

```

---

## 📂 项目结构要求

**目录布局**: [选择一项]
- [ ] 扁平结构(小项目)
- [ ] 分层架构(MVC/三层)
- [ ] 领域驱动设计(DDD)
- [ ] 微服务架构

**必须包含**:
- [ ] README.md (项目说明)
- [ ] requirements.txt / package.json (依赖管理)
- [ ] .gitignore
- [ ] 配置文件 (环境变量/设置)
- [ ] 测试目录
- [ ] Docker支持(Dockerfile + docker-compose.yml)

---

## 💻 生成指令

请生成完整的项目脚手架,包括:

### 1. 项目目录树

```

project_name/
├── README.md
├── [主要文件和目录结构]
└── ...

```

### 2. 核心文件内容

**主入口文件**:
```

[main.py / index.js / main.go]

```

**配置文件**:
```

[config.yaml / .env.example]

```

**核心业务逻辑** (每个模块):
```

[至少一个完整示例模块]

```

**测试文件**:
```

[测试框架配置 + 示例测试]

```

### 3. README.md内容

包括:
- 项目简介
- 安装步骤
- 使用方法
- API文档(如有)
- 开发指南
- 许可证

### 4. 开发工具配置

- [ ] pre-commit hooks
- [ ] linting配置 (.eslintrc / .pylintrc)
- [ ] formatting配置 (prettier / black)
- [ ] CI/CD配置 (.github/workflows)

### 5. 部署说明

- Docker部署步骤
- 环境变量清单
- 依赖服务配置

---

现在开始生成完整项目!
```

---

### 模板D: 代码审查与重构

**适用场景**: 改进现有代码的质量、性能或可维护性

```markdown
# 代码审查与重构提示词

## 🎯 审查目标

**现有代码**:
```

[粘贴需要审查/重构的代码]

```

**代码功能说明**: [这段代码做什么]

**审查重点**: [选择需要关注的方面]
- [ ] 性能优化
- [ ] 安全漏洞
- [ ] 代码异味(Code Smells)
- [ ] 设计模式应用
- [ ] 可测试性
- [ ] 错误处理
- [ ] 命名规范
- [ ] 重复代码消除

---

## 💻 审查指令

请提供以下分析:

### 1. 代码问题清单

| 严重级别 | 问题类型 | 问题描述 | 位置(行号) | 影响 |
|---------|---------|---------|-----------|------|
| 🔴严重 | 安全 | [具体问题] | L10-L15 | [影响说明] |
| 🟡警告 | 性能 | [具体问题] | L20 | [影响说明] |
| 🔵建议 | 可读性 | [具体问题] | L30 | [影响说明] |

### 2. 重构后的代码

```

[改进后的完整代码]

```

### 3. 改进说明

**主要变更**:
- [变更1]: [为什么这样改]
- [变更2]: [为什么这样改]

**性能对比** (如适用):
- 重构前: [时间/内存数据]
- 重构后: [时间/内存数据]
- 提升: [百分比]

### 4. 最佳实践建议

- [建议1]
- [建议2]
- [建议3]

---

现在开始审查!
```

---

### 模板E: Bug修复专用

**适用场景**: 诊断和修复程序错误

```markdown
# Bug修复提示词

## 🐛 Bug描述

**问题现象**: 
[描述程序出现的错误行为]

**复现步骤**:
1. [步骤1]
2. [步骤2]
3. [观察到的错误]

**预期行为**: 
[应该发生什么]

**实际行为**: 
[实际发生了什么]

---

## 💻 相关代码

**出错代码**:
```

[粘贴有问题的代码片段]

```

**错误信息**:
```

[完整的错误堆栈或日志]

```

**环境信息**:
- 语言版本: [Python 3.11/Node 20]
- 依赖版本: [关键库的版本]
- 操作系统: [macOS/Linux/Windows]

---

## 🎯 修复要求

**修复目标**: [选择]
- [ ] 仅修复bug,不改动其他逻辑
- [ ] 修复并优化相关代码
- [ ] 修复并添加防御性检查

**测试要求**:
- [ ] 提供修复后的代码
- [ ] 提供复现bug的测试用例
- [ ] 提供验证修复的测试用例

---

## 💻 生成指令

请提供:

### 1. 根因分析

- **问题根源**: [说明为什么会出现这个bug]
- **触发条件**: [什么情况下会触发]
- **影响范围**: [还有哪些地方可能受影响]

### 2. 修复方案

**修复后的代码**:
```

[完整修复后的代码]

```

**关键改动说明**:
- [改动点1]: [为什么这样改]
- [改动点2]: [为什么这样改]

### 3. 测试用例

**Bug复现测试**:
```

[能复现原始bug的测试(用于回归测试)]

```

**修复验证测试**:
```

[验证修复生效的测试]

```

### 4. 预防措施

- [如何避免类似bug再次出现]
- [建议添加的断言或检查]

---

现在开始诊断和修复!
```

---

### 模板F: 代码转换/迁移

**适用场景**: 语言转换、框架迁移、版本升级

```markdown
# 代码转换提示词

## 🎯 转换目标

**源语言**: [Python/JavaScript/Java/其他]

**目标语言**: [TypeScript/Go/Rust/其他]

**转换类型**: [选择一项]
- [ ] 语言迁移(保持相同功能)
- [ ] 框架迁移(如Express → FastAPI)
- [ ] 版本升级(如Python 2 → Python 3)
- [ ] 风格转换(如回调 → async/await)

---

## 💻 源代码

```

[粘贴需要转换的代码]

```

**代码说明**: [这段代码的功能和上下文]

**依赖库**: [列出使用的第三方库]

---

## 📝 转换要求

### 1. 功能等价性

- [ ] 完全等价(1:1转换)
- [ ] 惯用法适配(使用目标语言最佳实践)
- [ ] 功能增强(利用目标语言特性优化)

### 2. 特殊处理

- [ ] 类型系统转换(动态→静态)
- [ ] 异步模型转换(回调→Promise→async/await)
- [ ] 错误处理机制(异常→Result类型)
- [ ] 包管理器迁移(npm→poetry)

### 3. 保持不变的部分

- [ ] API接口
- [ ] 配置格式
- [ ] 数据结构

---

## 💻 生成指令

请提供:

### 1. 转换后的代码

```

[完整转换后的代码]

```

### 2. 转换对照表

| 源代码概念 | 目标代码实现 | 说明 |
|-----------|------------|------|
| [概念1] | [实现1] | [为什么这样转换] |
| [概念2] | [实现2] | [为什么这样转换] |

### 3. 依赖映射

| 源库 | 目标库 | 功能对应 |
|-----|-------|---------|
| requests | axios | HTTP客户端 |
| [源库] | [目标库] | [说明] |

### 4. 迁移注意事项

- [差异点1]
- [需要手动调整的部分]
- [性能/安全考虑]

### 5. 测试迁移建议

[如何验证转换后功能一致]

---

现在开始转换!
```

---

## 🎯 实战示例

### 示例1: CSV文件解析器

**使用模板**: 模板A

**完整输入**:

```markdown
## 🎯 任务定义
**功能描述**: 实现一个CSV文件解析器,支持自定义分隔符和类型转换
**编程语言**: Python
**使用场景**: 数据处理

## 📝 详细需求
### 1. 输入输出规范
**输入**:
- filepath (str) - CSV文件路径 - "data/users.csv"
- delimiter (str, 可选) - 分隔符,默认"," - "|"
- types (dict, 可选) - 列类型映射 - {"age": int, "score": float}

**输出**:
- 返回类型: List[Dict[str, Any]]
- 示例输出: [{"name": "Alice", "age": 25, "score": 95.5}]

### 2. 功能约束
- [x] 性能要求: 能处理100MB以内文件
- [x] 错误处理: 文件不存在/格式错误/类型转换失败
- [x] 边界条件: 空文件/只有表头/包含空值
- [x] 依赖限制: 仅使用标准库

### 3. 代码质量要求
- [x] 需要类型注解
- [x] 需要完整的文档字符串
- [x] 需要单元测试
- [x] 遵循PEP 8规范
```

---

### 示例2: 归并排序优化

**使用模板**: 模板B

**完整输入**:

```markdown
## 🎯 优化目标
**当前实现**:
```

def sort_list(arr):
for i in range(len(arr)):
for j in range(len(arr) - 1):
if arr[j] > arr[j + 1]:
arr[j], arr[j + 1] = arr[j + 1], arr[j]
return arr

```

**优化目标**:
- [x] 提升执行速度(从O(n²)到O(n log n))
- [x] 提高可读性

**问题规模**: n ≤ 100,000

## 📝 算法需求
### 1. 问题定义
**问题类型**: 排序
**具体描述**: 对整数数组进行升序排序,要求稳定排序

**示例**:
输入: [64, 34, 25, 12, 22, 11, 90]
输出: [11, 12, 22, 25, 34, 64, 90]

### 2. 约束条件
- 时间限制: O(n log n)
- 空间限制: O(n)辅助空间可接受
- 特殊要求: 必须是稳定排序
```

---

### 示例3: Todo API项目

**使用模板**: 模板C

**完整输入**:

```markdown
## 🎯 项目概述
**项目名称**: todo-api
**项目类型**: REST API服务

**技术栈**:
- 主语言: Python 3.11
- 框架: FastAPI
- 数据库: PostgreSQL
- 其他工具: Docker, pytest, SQLAlchemy

## 📝 功能模块
### API端点设计
| 方法 | 路径 | 功能 | 请求体 | 响应 |
|-----|------|-----|-------|------|
| POST | /auth/register | 用户注册 | {email, password} | {token} |
| POST | /auth/login | 用户登录 | {email, password} | {token} |
| GET | /todos | 获取列表 | - | Todo[] |
| POST | /todos | 创建 | {title, description} | Todo |
| PUT | /todos/{id} | 更新 | {title?, done?} | Todo |
| DELETE | /todos/{id} | 删除 | - | 204 |

### 数据模型
User: id, email, password_hash, created_at
Todo: id, user_id, title, description, done, created_at, updated_at

## 📂 项目结构要求
- [x] 分层架构(MVC)
- [x] Docker支持
- [x] 完整测试
```

---

## 📌 最佳实践

### 1. 提升代码生成质量的技巧

**✅ 明确性胜过简洁性**

```
❌ 差: "写一个排序函数"
✅ 好: "用Python实现归并排序,O(n log n)时间复杂度,包含类型注解和docstring"
```

**✅ 提供具体示例**

```
❌ 差: "处理用户输入"
✅ 好: "处理用户输入,示例:'  Alice  ' → 'Alice'(去除空格,首字母大写)"
```

**✅ 声明约束条件**

- 性能要求: "需要在1秒内处理100万条记录"
- 兼容性: "兼容Python 3.8+"
- 依赖限制: "不使用numpy,仅用标准库"

**✅ 指定输出格式**

```
"输出JSON格式: {code: '代码', explanation: '解释', tests: '测试用例'}"
```

**✅ 分步骤处理复杂任务**

```
第1步: 生成数据模型
第2步: 生成CRUD操作
第3步: 生成API路由
```

---

### 2. 常见错误与避免方法

| 错误类型       | 表现        | 解决方案       |
| ---------- | --------- | ---------- |
| **模糊需求**   | "写个好用的函数" | 明确输入/输出/约束 |
| **缺少上下文**  | 代码无法集成到项目 | 提供项目结构和依赖  |
| **忽略边界情况** | 遇到空值崩溃    | 列出所有边界条件   |
| **过度依赖默认** | 代码风格不统一   | 明确指定代码规范   |
| **缺少验证**   | 不确定代码正确性  | 要求生成测试用例   |

---

### 3. 代码生成迭代流程

```
写初始提示词
    ↓
生成代码 v1
    ↓
满足需求? → 否 → 分析问题 → 优化提示词 → 重新生成
    ↓ 是
要求测试用例
    ↓
运行测试
    ↓
测试通过? → 否 → 描述失败场景 → 优化提示词 → 重新生成
    ↓ 是
代码审查
    ↓
需要优化? → 是 → 要求重构 → 重新生成
    ↓ 否
完成
```

---

## 🚀 快速启动模板

### 场景1: 快速生成工具函数

```markdown
用[语言]写一个[功能]函数。
输入: [类型和示例]
输出: [类型和示例]
要求: [性能/错误处理/代码规范]
提供: 代码+注释+3个测试用例
```

**示例**:

```
用Python写一个计算两个日期间工作日数量的函数。
输入: start_date (datetime), end_date (datetime)
输出: int (工作日数量,排除周末)
要求: O(1)复杂度,处理start>end情况
提供: 代码+注释+3个测试用例
```

---

### 场景2: 算法实现

```markdown
实现[算法名称],解决[问题描述]。
约束: 时间O([复杂度]),空间O([复杂度])
测试: 输入[示例1]→输出[结果1]
提供: 代码+复杂度分析+优化说明
```

**示例**:

```
实现二分查找,在有序数组中查找目标值。
约束: 时间O(log n),空间O(1)
测试: 输入[1,2,3,4,5], target=3 → 输出2(索引)
提供: 代码+复杂度分析+优化说明
```

---

### 场景3: API端点

```markdown
用[框架]实现[HTTP方法] [路径]端点。
功能: [说明]
请求: [JSON结构]
响应: [JSON结构]
错误处理: [401/404/500场景]
提供: 路由代码+请求验证+单元测试
```

**示例**:

```
用FastAPI实现POST /users端点。
功能: 创建新用户
请求: {"email": "test@example.com", "password": "secret"}
响应: {"id": 1, "email": "test@example.com", "created_at": "2024-12-04"}
错误处理: 400(邮箱重复), 422(验证失败)
提供: 路由代码+请求验证+单元测试
```

---

### 场景4: Bug修复

```markdown
修复以下bug:
[粘贴代码]
错误: [错误信息]
复现: [步骤]
要求: 解释根因+提供修复+添加测试防止回归
```

**示例**:

```
修复以下bug:
def divide(a, b):
    return a / b

错误: ZeroDivisionError when b=0
复现: divide(10, 0)
要求: 解释根因+提供修复+添加测试防止回归
```

---

## 📚 附录

### A. 推荐学习资源

- **Prompt Engineering Guide** - AI代码生成最佳实践
- **GitHub Copilot Docs** - 提示词优化技巧
- **Google AI Code Best Practices** - 结构化提示词设计

### B. 工具推荐

**代码质量检查**:

- Python: pylint, black, mypy
- JavaScript: ESLint, Prettier
- 多语言: SonarQube

**性能分析**:

- Python: cProfile, memory_profiler
- JavaScript: Chrome DevTools

**测试框架**:

- Python: pytest, unittest
- JavaScript: Jest, Mocha
- Java: JUnit

---

**版本**: v1.0 | 2024-12-04\
**更新日志**: 初始发布,包含6个核心模板和4个快速启动模板\
**贡献**: 欢迎提交改进建议
