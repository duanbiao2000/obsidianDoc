/*
-------------------------------------------
JS Engine - Release Build
-------------------------------------------
By: Moritz Jung (https://www.moritzjung.dev/)
Time: Sun, 03 Nov 2024 14:41:12 GMT
Version: 0.1.20
-------------------------------------------
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
-------------------------------------------
Copyright (C) 2024 Moritz Jung
-------------------------------------------
This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.

This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for more details.

You should have received a copy of the GNU General Public License along with this program.  If not, see <https://www.gnu.org/licenses/>.
*/

"use strict";var lp=Object.create;var zo=Object.defineProperty;var fp=Object.getOwnPropertyDescriptor;var dp=Object.getOwnPropertyNames;var pp=Object.getPrototypeOf,hp=Object.prototype.hasOwnProperty;var Wn=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),$l=(t,e)=>{for(var r in e)zo(t,r,{get:e[r],enumerable:!0})},Pl=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of dp(e))!hp.call(t,i)&&i!==r&&zo(t,i,{get:()=>e[i],enumerable:!(n=fp(e,i))||n.enumerable});return t};var Ar=(t,e,r)=>(r=t!=null?lp(pp(t)):{},Pl(e||!t||!t.__esModule?zo(r,"default",{value:t,enumerable:!0}):r,t)),mp=t=>Pl(zo({},"__esModule",{value:!0}),t);var Ms=Wn(ot=>{"use strict";Object.defineProperty(ot,"__esModule",{value:!0});ot.P_HELPERS=ot.ParserHelpers=ot.validateRegexFlags=ot.validateRange=ot.getIndex=ot.arrayUnion=void 0;var Kc=xo();function Hm(t,e){if(t===void 0&&e===void 0)return;if(t===void 0)return e;if(e===void 0)return t;let r=[...t];for(let n of e)r.includes(n)||r.push(n);return r}ot.arrayUnion=Hm;function Gm(t){return t===void 0?-1:t.index}ot.getIndex=Gm;function Ym(t,e){if(e<t)throw new Error(`Invalid Range: max might not be smaller than min. Received [${t}, ${e}].`);if(t<0||e<0)throw new Error(`Invalid Range: max and min might not be smaller than 0. Received [${t}, ${e}].`);if(t===1/0||e===1/0)throw new Error(`Invalid Range: max and min might not be infinity. Received [${t}, ${e}].`);if(!Number.isInteger(t)||!Number.isInteger(e))throw new Error(`Invalid Range: max and min must be integers. Received [${t}, ${e}].`)}ot.validateRange=Ym;function Km(t){for(let e of t)if(e!=="i"&&e!=="m"&&e!=="s"&&e!=="u")throw new Error(`RegExp flag '${e}' is not allowed. The only allowed flags are 'i', 'm', 's' and 'u'.`)}ot.validateRegexFlags=Km;var Ps=class{followedBy(e){return new Kc.Parser(function(n){return e.p(n.copy())})}notFollowedBy(e){return new Kc.Parser(function(n){let i=n.copy(),o=e.p(i),s=n.sliceTo(i.position.index);return o.success?n.fail("not '"+s+"'"):n.succeed(void 0)})}test(e){return new Kc.Parser(function(n){let i=n.input[n.position.index];return!n.atEOF()&&e(i)?n.succeedOffset(1,i):n.fail(`a character matching ${e}`)})}};ot.ParserHelpers=Ps;ot.P_HELPERS=new Ps});var el=Wn(Cs=>{"use strict";Object.defineProperty(Cs,"__esModule",{value:!0});Cs.ParserContext=void 0;var Qc=Ms(),Xc=class t{constructor(e,r){this.input=e,this.position=r}moveToPosition(e){return this.position=e,this}copy(){return new t(this.input,{index:this.position.index,column:this.position.column,line:this.position.line})}getPosition(){return{index:this.position.index,column:this.position.column,line:this.position.line}}atEOF(){return this.position.index>=this.input.length}advanceTo(e){if(e<this.position.index)throw new Error(`Can not advance backwards. Current pos ${this.position.index}. Advance target index ${e}.`);if(e!==this.position.index){for(let r=this.position.index;r<e;r++)this.input[r]===`
`?(this.position.line+=1,this.position.column=1):this.position.column+=1;this.position.index=e}}sliceTo(e){return this.input.slice(this.position.index,e)}succeedOffset(e,r){return this.succeedAt(this.position.index+e,r)}failOffset(e,r){return this.failAt(this.position.index+e,r)}succeed(e){return this.succeedAt(this.position.index,e)}fail(e){return this.failAt(this.position.index,e)}succeedAt(e,r){return this.advanceTo(e),{success:!0,value:r,furthest:void 0,expected:void 0}}failAt(e,r){return this.advanceTo(e),{success:!1,value:void 0,furthest:this.position,expected:Array.isArray(r)?r:[r]}}merge(e,r){if(e===void 0)return r;let n=(0,Qc.getIndex)(e.furthest),i=(0,Qc.getIndex)(r.furthest);if(i>n)return r;let o=i===n?(0,Qc.arrayUnion)(e.expected,r.expected):e.expected;return r.furthest=e.furthest,r.expected=o,r}};Cs.ParserContext=Xc});var bo=Wn(Rs=>{"use strict";Object.defineProperty(Rs,"__esModule",{value:!0});Rs.P=void 0;var _t=xo(),Os=Ms(),tl=class t{static sequence(...e){if(e.length===0)throw new Error("sequence must have at least one parser argument");return new _t.Parser(function(n){let i,o=new Array(e.length);for(let s=0;s<e.length;s++){let u=e[s].p(n);if(i=n.merge(i,u),!i.success)return i;o[s]=i.value}return i.value=o,i})}static sequenceMap(e,...r){if(r.length===0)throw new Error("sequenceMap must have at least one parser argument");return new _t.Parser(function(i){let o,s=new Array(r.length);for(let a=0;a<r.length;a++){let c=r[a].p(i);if(o=i.merge(o,c),!o.success)return o;s[a]=o.value}return o.value=e(...s),o})}static createLanguage(e){let r={},n={},i={};for(let o in e)i[o]=t.reference(()=>e[o](r,i)),Object.defineProperty(n,o,{get:()=>{if(r[o]!==void 0)return r[o];throw new Error(`Can not access rule '${o}' in language. Rule is not yet defined. Try to access it via 'ref'.`)}});for(let o in e)r[o]=e[o](n,i);return r}static or(...e){if(e.length===0)throw new Error("or must have at least one alternative");return new _t.Parser(function(n){let i;for(let o of e){let s=o,a=n.copy(),u=s.p(a);if(i=n.merge(i,u),i.success)return n.moveToPosition(a.position),i}return i})}static separateBy(e,r){return this.separateByNotEmpty(e,r).or(t.succeed([]))}static separateByNotEmpty(e,r){return this.sequenceMap(function(i,o){return o.unshift(i),o},e,r.then(e).many())}static string(e){let r="'"+e+"'";return new _t.Parser(function(i){for(let o=0;o<e.length;o++)if(i.input[i.position.index+o]!==e[o])return i.fail(r);return i.succeedAt(i.position.index+e.length,e)})}static regexp(e,r){(0,Os.validateRegexFlags)(e.flags);let n=e.source;return r!==void 0?new _t.Parser(function(o){let s=o.input.slice(o.position.index),a=e.exec(s);if(a!==null){let u=r??0;if(u>=0&&u<=a.length){let l=a[0],p=a[u];return o.succeedOffset(l.length,p)}let c="expected valid match group (0 to "+a.length+") in "+n;return o.fail(c)}else return o.fail(n)}):new _t.Parser(function(o){let s=o.input.slice(o.position.index),a=e.exec(s);if(a!==null){let u=a[0];return o.succeedOffset(u.length,u)}else return o.fail(n)})}static succeed(e){return new _t.Parser(function(n){return n.succeed(e)})}static fail(e){return new _t.Parser(function(n){return n.fail(e)})}static oneOf(e){return Os.P_HELPERS.test(function(n){return e.includes(n)}).describe(`one character of '${e}'`)}static noneOf(e){return Os.P_HELPERS.test(function(n){return!e.includes(n)}).describe(`no character of '${e}'`)}static oneStringOf(e){return this.or(...e.map(r=>this.string(r))).describe(e.map(r=>`'${r}'`).join(" or "))}static manyOf(e){return new _t.Parser(function(n){let i=n.position.index;for(;i<n.input.length&&e.includes(n.input[i]);i++);return n.succeedAt(i,n.sliceTo(i))})}static manyNotOf(e){return new _t.Parser(function(n){let i=n.position.index;for(;i<n.input.length&&!e.includes(n.input[i]);i++);return n.succeedAt(i,n.sliceTo(i))})}static custom(e){return new _t.Parser(e)}static range(e,r){let n=e.charCodeAt(0),i=r.charCodeAt(0);return Os.P_HELPERS.test(function(s){let a=s.charCodeAt(0);return n<=a&&a<=i}).describe(`${e}-${r}`)}static takeWhile(e){return new _t.Parser(function(n){let i=n.position.index;for(;i<n.input.length&&e(n.input[i]);)i++;return n.succeedAt(i,n.input.slice(n.position.index,i))})}static reference(e){return new _t.Parser(function(n){return e().p(n)})}};Rs.P=tl});var nl=Wn(Ls=>{"use strict";Object.defineProperty(Ls,"__esModule",{value:!0});Ls.P_UTILS=void 0;var Ns=xo(),ue=bo(),rl=class t{static position(){return new Ns.Parser(e=>e.succeed(e.getPosition()))}static any(){return new Ns.Parser(e=>e.atEOF()?e.fail("any character"):e.succeedOffset(1,e.input[e.position.index]))}static remaining(){return new Ns.Parser(e=>e.succeedAt(e.input.length,e.input.slice(e.position.index)))}static eof(){return new Ns.Parser(e=>e.atEOF()?e.succeed(void 0):e.fail("eof"))}static digit(){return ue.P.regexp(/^[0-9]/).describe("a digit")}static digits(){return ue.P.regexp(/^[0-9]+/).describe("multiple digits")}static letter(){return ue.P.regexp(/^[a-z]/i).describe("a letter")}static letters(){return ue.P.regexp(/^[a-z]+/i).describe("multiple letters")}static unicodeLetter(){return ue.P.regexp(/^\p{L}/iu).describe("a unicode letter")}static unicodeLetters(){return ue.P.regexp(/^\p{L}+/iu).describe("multiple unicode letters")}static unicodeAlphanumeric(){return ue.P.regexp(/^[\p{L}\p{N}]/iu).describe("a unicode alphanumeric character")}static unicodeAlphanumerics(){return ue.P.regexp(/^[\p{L}\p{N}]+/iu).describe("multiple unicode alphanumeric characters")}static optionalWhitespace(){return ue.P.regexp(/^\s*/).describe("optional whitespace")}static whitespace(){return ue.P.regexp(/^\s+/).describe("whitespace")}static cr(){return ue.P.string("\r")}static lf(){return ue.P.string(`
`)}static crlf(){return ue.P.string(`\r
`)}static newline(){return ue.P.or(this.crlf(),this.lf(),this.cr()).describe("newline")}static prefix(e,r,n){return ue.P.sequenceMap((i,o)=>i.reduce((s,a)=>n(a,s),o),e.many(),r)}static postfix(e,r,n){return ue.P.sequenceMap((i,o)=>o.reduce((s,a)=>n(a,s),i),r,e.many())}static binaryRight(e,r,n){return ue.P.sequenceMap((i,o)=>i.reverse().reduce((s,a)=>{let[u,c]=a;return n(u,c,s)},o),ue.P.sequence(r,e.trim(this.optionalWhitespace())).many(),r)}static binaryLeft(e,r,n){return ue.P.sequenceMap((i,o)=>o.reduce((s,a)=>{let[u,c]=a;return n(s,u,c)},i),r,ue.P.sequence(e.trim(this.optionalWhitespace()),r).many())}static binaryRightRange(e,r,n){return ue.P.sequenceMap((i,o,s)=>i.reverse().reduce((a,u)=>{let[c,l,p]=u;return n({from:c,to:s},l,p,a)},o),ue.P.sequence(t.position(),r,e.trim(this.optionalWhitespace())).many(),r,t.position())}static binaryLeftRange(e,r,n){return ue.P.sequenceMap((i,o,s)=>s.reduce((a,u)=>{let[c,l,p]=u;return n({from:i,to:p},a,c,l)},o),t.position(),r,ue.P.sequence(e.trim(this.optionalWhitespace()),r,t.position()).many())}static func(e,r,n){let i=typeof e=="string"?ue.P.string(e):e;return ue.P.sequenceMap((o,s,a,u,c,l)=>n(o,u),i,ue.P.string("("),this.optionalWhitespace(),r,this.optionalWhitespace(),ue.P.string(")"))}};Ls.P_UTILS=rl});var ol=Wn(vi=>{"use strict";Object.defineProperty(vi,"__esModule",{value:!0});vi.ParsingError=vi.createParsingErrorMessage=void 0;function yd(t,e,r){let n=`Expected ${e.expected.sort().join(" or ")}`,i=`Parse Failure: ${n} at index ${e.furthest.index}, line ${e.furthest.line}, column ${e.furthest.column}.`;if(r){let s=t.split(`
`)[e.furthest.line-1],a=`${e.furthest.line} |   `;i+=`

${a}${s}`,i+=`
${" ".repeat(e.furthest.column-1+a.length)}^ (${n})`}return i}vi.createParsingErrorMessage=yd;var il=class extends Error{constructor(e,r){super(yd(e,r,!0))}};vi.ParsingError=il});var xo=Wn(js=>{"use strict";Object.defineProperty(js,"__esModule",{value:!0});js.Parser=void 0;var Qm=el(),Pt=bo(),sl=Ms(),gi=nl(),Xm=ol(),al=class t{constructor(e){this.p=e}tryParse(e){return this.p(new Qm.ParserContext(e,{index:0,line:1,column:1}))}parse(e){let r=this.tryParse(e);if(r.success)return r.value;throw new Xm.ParsingError(e,r)}or(e){return Pt.P.or(this,e)}trim(e){return this.wrap(e,e)}trimString(e){return this.trim(Pt.P.string(e))}wrap(e,r){let n=this;return new t(function(o){let s=e.p(o);if(!s.success)return s;let a=o.merge(s,n.p(o));if(!a.success)return a;let u=o.merge(a,r.p(o));return u.success?o.merge(u,o.succeed(a.value)):u})}wrapString(e,r){return this.wrap(Pt.P.string(e),Pt.P.string(r))}then(e){let r=this;return new t(function(i){let o=r.p(i);if(!o.success)return o;let s=i.merge(o,e.p(i));return s.success,s})}skip(e){let r=this;return new t(function(i){let o=r.p(i);if(!o.success)return o;let s=i.merge(o,e.p(i));return s.success?i.merge(s,i.succeed(o.value)):s})}and(e){return Pt.P.sequence(this,e)}many(){let e=this;return new t(function(n){let i,o=n.position.index,s=[];for(;;){let a=n.copy(),u=e.p(a);if(i=n.merge(i,u),i.success){if(a.position.index===o)throw new Error("infinite loop in many() parser detected");n.moveToPosition(a.position),s.push(i.value)}else return n.merge(i,n.succeed(s))}})}repeat(e,r){(0,sl.validateRange)(e,r);let n=this;return new t(function(o){let s,a,u=[],c=0;for(;c<e;c++)if(s=n.p(o),a=o.merge(a,s),s.success)u.push(s.value);else return a;for(;c<r;c++){let l=o.copy();if(s=n.p(l),a=o.merge(a,s),s.success)o.moveToPosition(l.position),u.push(s.value);else break}return o.merge(a,o.succeed(u))})}atMost(e){return this.repeat(0,e)}atLeast(e){return Pt.P.sequenceMap((r,n)=>r.concat(n),this.repeat(e,e),this.many())}separateBy(e){return Pt.P.separateBy(this,e)}separateByNotEmpty(e){return Pt.P.separateByNotEmpty(this,e)}result(e){return this.map(()=>e)}map(e){let r=this;return new t(function(i){let o=r.p(i);return o.success&&(o.value=e(o.value)),o})}marker(){return Pt.P.sequenceMap(function(r,n,i){return{value:n,range:{from:r,to:i}}},gi.P_UTILS.position(),this,gi.P_UTILS.position())}namedMarker(e){return Pt.P.sequenceMap(function(n,i,o){return{value:i,name:e,range:{from:n,to:o}}},gi.P_UTILS.position(),this,gi.P_UTILS.position())}node(e){return Pt.P.sequenceMap(function(n,i,o){return e(i,{from:n,to:o})},gi.P_UTILS.position(),this,gi.P_UTILS.position())}followedBy(e){return this.skip(sl.P_HELPERS.followedBy(e))}notFollowedBy(e){return this.skip(sl.P_HELPERS.notFollowedBy(e))}describe(e){typeof e=="string"&&(e=[e]);let r=this;return new t(function(i){let o=r.p(i);return o.expected!==void 0&&o.expected.length!==0&&(o.expected=e),o})}box(e){let r=this;return new t(function(i){var o;let s=r.p(i);return s.expected!==void 0&&s.expected.length!==0&&(s.expected=[`(${(o=s.expected)===null||o===void 0?void 0:o.join(" or ")} as part of ${e})`]),s})}optional(e){return this.or(Pt.P.succeed(e))}chain(e){let r=this;return new t(function(i){let o=r.p(i);if(!o.success)return o;let a=e(o.value).p(i);return i.merge(o,a)})}thenEof(){let e=this;return new t(function(n){let i=e.p(n);return i.success?n.atEOF()?i:n.merge(i,n.fail("eof")):i})}memorize(){let e=this,r="",n=new Map,i=new Map;return new t(function(s){let a=s.position.index;if(s.input!==r)r=s.input,n.clear(),i.clear();else{let c=n.get(a),l=i.get(a);if(c!==void 0&&l!==void 0)return s.moveToPosition(Object.assign({},l)),Object.assign({},c)}let u=e.p(s);return n.set(a,Object.assign({},u)),i.set(a,s.getPosition()),u})}};js.Parser=al});var Ty={};$l(Ty,{default:()=>Bu});module.exports=mp(Ty);function Vo(t){var e=t.statementIndent,r=t.jsonld,n=t.json||r,i=t.typescript,o=t.wordCharacters||/[\w$\xa1-\uffff]/,s=function(){function f(lt){return{type:lt,style:"keyword"}}var h=f("keyword a"),x=f("keyword b"),S=f("keyword c"),N=f("keyword d"),ne=f("operator"),ae={type:"atom",style:"atom"};return{if:f("if"),while:h,with:h,else:x,do:x,try:x,finally:x,return:N,break:N,continue:N,new:f("new"),delete:S,void:S,throw:S,debugger:f("debugger"),var:f("var"),const:f("var"),let:f("var"),function:f("function"),catch:f("catch"),for:f("for"),switch:f("switch"),case:f("case"),default:f("default"),in:ne,typeof:ne,instanceof:ne,true:ae,false:ae,null:ae,undefined:ae,NaN:ae,Infinity:ae,this:f("this"),class:f("class"),super:f("atom"),yield:S,export:f("export"),import:f("import"),extends:S,await:S}}(),a=/[+\-*&%=<>!?|~^@]/,u=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function c(f){for(var h=!1,x,S=!1;(x=f.next())!=null;){if(!h){if(x=="/"&&!S)return;x=="["?S=!0:S&&x=="]"&&(S=!1)}h=!h&&x=="\\"}}var l,p;function d(f,h,x){return l=f,p=x,h}function _(f,h){var x=f.next();if(x=='"'||x=="'")return h.tokenize=v(x),h.tokenize(f,h);if(x=="."&&f.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return d("number","number");if(x=="."&&f.match(".."))return d("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(x))return d(x);if(x=="="&&f.eat(">"))return d("=>","operator");if(x=="0"&&f.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return d("number","number");if(/\d/.test(x))return f.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),d("number","number");if(x=="/")return f.eat("*")?(h.tokenize=E,E(f,h)):f.eat("/")?(f.skipToEnd(),d("comment","comment")):cp(f,h,1)?(c(f),f.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),d("regexp","string.special")):(f.eat("="),d("operator","operator",f.current()));if(x=="`")return h.tokenize=$,$(f,h);if(x=="#"&&f.peek()=="!")return f.skipToEnd(),d("meta","meta");if(x=="#"&&f.eatWhile(o))return d("variable","property");if(x=="<"&&f.match("!--")||x=="-"&&f.match("->")&&!/\S/.test(f.string.slice(0,f.start)))return f.skipToEnd(),d("comment","comment");if(a.test(x))return(x!=">"||!h.lexical||h.lexical.type!=">")&&(f.eat("=")?(x=="!"||x=="=")&&f.eat("="):/[<>*+\-|&?]/.test(x)&&(f.eat(x),x==">"&&f.eat(x))),x=="?"&&f.eat(".")?d("."):d("operator","operator",f.current());if(o.test(x)){f.eatWhile(o);var S=f.current();if(h.lastType!="."){if(s.propertyIsEnumerable(S)){var N=s[S];return d(N.type,N.style,S)}if(S=="async"&&f.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return d("async","keyword",S)}return d("variable","variable",S)}}function v(f){return function(h,x){var S=!1,N;if(r&&h.peek()=="@"&&h.match(u))return x.tokenize=_,d("jsonld-keyword","meta");for(;(N=h.next())!=null&&!(N==f&&!S);)S=!S&&N=="\\";return S||(x.tokenize=_),d("string","string")}}function E(f,h){for(var x=!1,S;S=f.next();){if(S=="/"&&x){h.tokenize=_;break}x=S=="*"}return d("comment","comment")}function $(f,h){for(var x=!1,S;(S=f.next())!=null;){if(!x&&(S=="`"||S=="$"&&f.eat("{"))){h.tokenize=_;break}x=!x&&S=="\\"}return d("quasi","string.special",f.current())}var b="([{}])";function A(f,h){h.fatArrowAt&&(h.fatArrowAt=null);var x=f.string.indexOf("=>",f.start);if(!(x<0)){if(i){var S=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(f.string.slice(f.start,x));S&&(x=S.index)}for(var N=0,ne=!1,ae=x-1;ae>=0;--ae){var lt=f.string.charAt(ae),xt=b.indexOf(lt);if(xt>=0&&xt<3){if(!N){++ae;break}if(--N==0){lt=="("&&(ne=!0);break}}else if(xt>=3&&xt<6)++N;else if(o.test(lt))ne=!0;else if(/["'\/`]/.test(lt))for(;;--ae){if(ae==0)return;var Vi=f.string.charAt(ae-1);if(Vi==lt&&f.string.charAt(ae-2)!="\\"){ae--;break}}else if(ne&&!N){++ae;break}}ne&&!N&&(h.fatArrowAt=ae)}}var R={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function k(f,h,x,S,N,ne){this.indented=f,this.column=h,this.type=x,this.prev=N,this.info=ne,S!=null&&(this.align=S)}function C(f,h){for(var x=f.localVars;x;x=x.next)if(x.name==h)return!0;for(var S=f.context;S;S=S.prev)for(var x=S.vars;x;x=x.next)if(x.name==h)return!0}function J(f,h,x,S,N){var ne=f.cc;for(g.state=f,g.stream=N,g.marked=null,g.cc=ne,g.style=h,f.lexical.hasOwnProperty("align")||(f.lexical.align=!0);;){var ae=ne.length?ne.pop():n?he:Se;if(ae(x,S)){for(;ne.length&&ne[ne.length-1].lex;)ne.pop()();return g.marked?g.marked:x=="variable"&&C(f,S)?"variableName.local":h}}}var g={state:null,column:null,marked:null,cc:null};function T(){for(var f=arguments.length-1;f>=0;f--)g.cc.push(arguments[f])}function y(){return T.apply(null,arguments),!0}function ir(f,h){for(var x=h;x;x=x.next)if(x.name==f)return!0;return!1}function Fe(f){var h=g.state;if(g.marked="def",h.context){if(h.lexical.info=="var"&&h.context&&h.context.block){var x=qt(f,h.context);if(x!=null){h.context=x;return}}else if(!ir(f,h.localVars)){h.localVars=new Gr(f,h.localVars);return}}t.globalVars&&!ir(f,h.globalVars)&&(h.globalVars=new Gr(f,h.globalVars))}function qt(f,h){if(h)if(h.block){var x=qt(f,h.prev);return x?x==h.prev?h:new Er(x,h.vars,!0):null}else return ir(f,h.vars)?h:new Er(h.prev,new Gr(f,h.vars),!1);else return null}function wr(f){return f=="public"||f=="private"||f=="protected"||f=="abstract"||f=="readonly"}function Er(f,h,x){this.prev=f,this.vars=h,this.block=x}function Gr(f,h){this.name=f,this.next=h}var Dd=new Gr("this",new Gr("arguments",null));function Yr(){g.state.context=new Er(g.state.context,g.state.localVars,!1),g.state.localVars=Dd}function Oo(){g.state.context=new Er(g.state.context,g.state.localVars,!0),g.state.localVars=null}Yr.lex=Oo.lex=!0;function Ct(){g.state.localVars=g.state.context.vars,g.state.context=g.state.context.prev}Ct.lex=!0;function Y(f,h){var x=function(){var S=g.state,N=S.indented;if(S.lexical.type=="stat")N=S.lexical.indented;else for(var ne=S.lexical;ne&&ne.type==")"&&ne.align;ne=ne.prev)N=ne.indented;S.lexical=new k(N,g.stream.column(),f,null,S.lexical,h)};return x.lex=!0,x}function W(){var f=g.state;f.lexical.prev&&(f.lexical.type==")"&&(f.indented=f.lexical.indented),f.lexical=f.lexical.prev)}W.lex=!0;function re(f){function h(x){return x==f?y():f==";"||x=="}"||x==")"||x=="]"?T():y(h)}return h}function Se(f,h){return f=="var"?y(Y("vardef",h),Zu,re(";"),W):f=="keyword a"?y(Y("form"),zu,Se,W):f=="keyword b"?y(Y("form"),Se,W):f=="keyword d"?g.stream.match(/^\s*$/,!1)?y():y(Y("stat"),zn,re(";"),W):f=="debugger"?y(re(";")):f=="{"?y(Y("}"),Oo,Lo,W,Ct):f==";"?y():f=="if"?(g.state.lexical.info=="else"&&g.state.cc[g.state.cc.length-1]==W&&g.state.cc.pop()(),y(Y("form"),zu,Se,W,wl)):f=="function"?y(Tr):f=="for"?y(Y("form"),Oo,El,Se,Ct,W):f=="class"||i&&h=="interface"?(g.marked="keyword",y(Y("form",f=="class"?f:h),Tl,W)):f=="variable"?i&&h=="declare"?(g.marked="keyword",y(Se)):i&&(h=="module"||h=="enum"||h=="type")&&g.stream.match(/^\s*\w/,!1)?(g.marked="keyword",h=="enum"?y(Sl):h=="type"?y(kl,re("operator"),se,re(";")):y(Y("form"),Ot,re("{"),Y("}"),Lo,W,W)):i&&h=="namespace"?(g.marked="keyword",y(Y("form"),he,Se,W)):i&&h=="abstract"?(g.marked="keyword",y(Se)):y(Y("stat"),Ud):f=="switch"?y(Y("form"),zu,re("{"),Y("}","switch"),Oo,Lo,W,W,Ct):f=="case"?y(he,re(":")):f=="default"?y(re(":")):f=="catch"?y(Y("form"),Yr,Fd,Se,W,Ct):f=="export"?y(Y("stat"),np,W):f=="import"?y(Y("stat"),ip,W):f=="async"?y(Se):h=="@"?y(he,Se):T(Y("stat"),he,re(";"),W)}function Fd(f){if(f=="(")return y(Xr,re(")"))}function he(f,h){return _l(f,h,!1)}function ct(f,h){return _l(f,h,!0)}function zu(f){return f!="("?T():y(Y(")"),zn,re(")"),W)}function _l(f,h,x){if(g.state.fatArrowAt==g.stream.start){var S=x?gl:vl;if(f=="(")return y(Yr,Y(")"),Pe(Xr,")"),W,re("=>"),S,Ct);if(f=="variable")return T(Yr,Ot,re("=>"),S,Ct)}var N=x?Vn:Kr;return R.hasOwnProperty(f)?y(N):f=="function"?y(Tr,N):f=="class"||i&&h=="interface"?(g.marked="keyword",y(Y("form"),rp,W)):f=="keyword c"||f=="async"?y(x?ct:he):f=="("?y(Y(")"),zn,re(")"),W,N):f=="operator"||f=="spread"?y(x?ct:he):f=="["?y(Y("]"),sp,W,N):f=="{"?Bi(No,"}",null,N):f=="quasi"?T(Ro,N):f=="new"?y(zd(x)):y()}function zn(f){return f.match(/[;\}\)\],]/)?T():T(he)}function Kr(f,h){return f==","?y(zn):Vn(f,h,!1)}function Vn(f,h,x){var S=x==!1?Kr:Vn,N=x==!1?he:ct;if(f=="=>")return y(Yr,x?gl:vl,Ct);if(f=="operator")return/\+\+|--/.test(h)||i&&h=="!"?y(S):i&&h=="<"&&g.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?y(Y(">"),Pe(se,">"),W,S):h=="?"?y(he,re(":"),N):y(N);if(f=="quasi")return T(Ro,S);if(f!=";"){if(f=="(")return Bi(ct,")","call",S);if(f==".")return y(Zd,S);if(f=="[")return y(Y("]"),zn,re("]"),W,S);if(i&&h=="as")return g.marked="keyword",y(se,S);if(f=="regexp")return g.state.lastType=g.marked="operator",g.stream.backUp(g.stream.pos-g.stream.start-1),y(N)}}function Ro(f,h){return f!="quasi"?T():h.slice(h.length-2)!="${"?y(Ro):y(zn,Bd)}function Bd(f){if(f=="}")return g.marked="string.special",g.state.tokenize=$,y(Ro)}function vl(f){return A(g.stream,g.state),T(f=="{"?Se:he)}function gl(f){return A(g.stream,g.state),T(f=="{"?Se:ct)}function zd(f){return function(h){return h=="."?y(f?qd:Vd):h=="variable"&&i?y(Kd,f?Vn:Kr):T(f?ct:he)}}function Vd(f,h){if(h=="target")return g.marked="keyword",y(Kr)}function qd(f,h){if(h=="target")return g.marked="keyword",y(Vn)}function Ud(f){return f==":"?y(W,Se):T(Kr,re(";"),W)}function Zd(f){if(f=="variable")return g.marked="property",y()}function No(f,h){if(f=="async")return g.marked="property",y(No);if(f=="variable"||g.style=="keyword"){if(g.marked="property",h=="get"||h=="set")return y(Wd);var x;return i&&g.state.fatArrowAt==g.stream.start&&(x=g.stream.match(/^\s*:\s*/,!1))&&(g.state.fatArrowAt=g.stream.pos+x[0].length),y(Qr)}else{if(f=="number"||f=="string")return g.marked=r?"property":g.style+" property",y(Qr);if(f=="jsonld-keyword")return y(Qr);if(i&&wr(h))return g.marked="keyword",y(No);if(f=="[")return y(he,qn,re("]"),Qr);if(f=="spread")return y(ct,Qr);if(h=="*")return g.marked="keyword",y(No);if(f==":")return T(Qr)}}function Wd(f){return f!="variable"?T(Qr):(g.marked="property",y(Tr))}function Qr(f){if(f==":")return y(ct);if(f=="(")return T(Tr)}function Pe(f,h,x){function S(N,ne){if(x?x.indexOf(N)>-1:N==","){var ae=g.state.lexical;return ae.info=="call"&&(ae.pos=(ae.pos||0)+1),y(function(lt,xt){return lt==h||xt==h?T():T(f)},S)}return N==h||ne==h?y():x&&x.indexOf(";")>-1?T(f):y(re(h))}return function(N,ne){return N==h||ne==h?y():T(f,S)}}function Bi(f,h,x){for(var S=3;S<arguments.length;S++)g.cc.push(arguments[S]);return y(Y(h,x),Pe(f,h),W)}function Lo(f){return f=="}"?y():T(Se,Lo)}function qn(f,h){if(i){if(f==":")return y(se);if(h=="?")return y(qn)}}function Jd(f,h){if(i&&(f==":"||h=="in"))return y(se)}function xl(f){if(i&&f==":")return g.stream.match(/^\s*\w+\s+is\b/,!1)?y(he,Hd,se):y(se)}function Hd(f,h){if(h=="is")return g.marked="keyword",y()}function se(f,h){if(h=="keyof"||h=="typeof"||h=="infer"||h=="readonly")return g.marked="keyword",y(h=="typeof"?ct:se);if(f=="variable"||h=="void")return g.marked="type",y(or);if(h=="|"||h=="&")return y(se);if(f=="string"||f=="number"||f=="atom")return y(or);if(f=="[")return y(Y("]"),Pe(se,"]",","),W,or);if(f=="{")return y(Y("}"),Vu,W,or);if(f=="(")return y(Pe(Uu,")"),Gd,or);if(f=="<")return y(Pe(se,">"),se);if(f=="quasi")return T(qu,or)}function Gd(f){if(f=="=>")return y(se)}function Vu(f){return f.match(/[\}\)\]]/)?y():f==","||f==";"?y(Vu):T(zi,Vu)}function zi(f,h){if(f=="variable"||g.style=="keyword")return g.marked="property",y(zi);if(h=="?"||f=="number"||f=="string")return y(zi);if(f==":")return y(se);if(f=="[")return y(re("variable"),Jd,re("]"),zi);if(f=="(")return T(Zn,zi);if(!f.match(/[;\}\)\],]/))return y()}function qu(f,h){return f!="quasi"?T():h.slice(h.length-2)!="${"?y(qu):y(se,Yd)}function Yd(f){if(f=="}")return g.marked="string.special",g.state.tokenize=$,y(qu)}function Uu(f,h){return f=="variable"&&g.stream.match(/^\s*[?:]/,!1)||h=="?"?y(Uu):f==":"?y(se):f=="spread"?y(Uu):T(se)}function or(f,h){if(h=="<")return y(Y(">"),Pe(se,">"),W,or);if(h=="|"||f=="."||h=="&")return y(se);if(f=="[")return y(se,re("]"),or);if(h=="extends"||h=="implements")return g.marked="keyword",y(se);if(h=="?")return y(se,re(":"),se)}function Kd(f,h){if(h=="<")return y(Y(">"),Pe(se,">"),W,or)}function jo(){return T(se,Qd)}function Qd(f,h){if(h=="=")return y(se)}function Zu(f,h){return h=="enum"?(g.marked="keyword",y(Sl)):T(Ot,qn,kr,ep)}function Ot(f,h){if(i&&wr(h))return g.marked="keyword",y(Ot);if(f=="variable")return Fe(h),y();if(f=="spread")return y(Ot);if(f=="[")return Bi(Xd,"]");if(f=="{")return Bi(bl,"}")}function bl(f,h){return f=="variable"&&!g.stream.match(/^\s*:/,!1)?(Fe(h),y(kr)):(f=="variable"&&(g.marked="property"),f=="spread"?y(Ot):f=="}"?T():f=="["?y(he,re("]"),re(":"),bl):y(re(":"),Ot,kr))}function Xd(){return T(Ot,kr)}function kr(f,h){if(h=="=")return y(ct)}function ep(f){if(f==",")return y(Zu)}function wl(f,h){if(f=="keyword b"&&h=="else")return y(Y("form","else"),Se,W)}function El(f,h){if(h=="await")return y(El);if(f=="(")return y(Y(")"),tp,W)}function tp(f){return f=="var"?y(Zu,Un):f=="variable"?y(Un):T(Un)}function Un(f,h){return f==")"?y():f==";"?y(Un):h=="in"||h=="of"?(g.marked="keyword",y(he,Un)):T(he,Un)}function Tr(f,h){if(h=="*")return g.marked="keyword",y(Tr);if(f=="variable")return Fe(h),y(Tr);if(f=="(")return y(Yr,Y(")"),Pe(Xr,")"),W,xl,Se,Ct);if(i&&h=="<")return y(Y(">"),Pe(jo,">"),W,Tr)}function Zn(f,h){if(h=="*")return g.marked="keyword",y(Zn);if(f=="variable")return Fe(h),y(Zn);if(f=="(")return y(Yr,Y(")"),Pe(Xr,")"),W,xl,Ct);if(i&&h=="<")return y(Y(">"),Pe(jo,">"),W,Zn)}function kl(f,h){if(f=="keyword"||f=="variable")return g.marked="type",y(kl);if(h=="<")return y(Y(">"),Pe(jo,">"),W)}function Xr(f,h){return h=="@"&&y(he,Xr),f=="spread"?y(Xr):i&&wr(h)?(g.marked="keyword",y(Xr)):i&&f=="this"?y(qn,kr):T(Ot,qn,kr)}function rp(f,h){return f=="variable"?Tl(f,h):Do(f,h)}function Tl(f,h){if(f=="variable")return Fe(h),y(Do)}function Do(f,h){if(h=="<")return y(Y(">"),Pe(jo,">"),W,Do);if(h=="extends"||h=="implements"||i&&f==",")return h=="implements"&&(g.marked="keyword"),y(i?se:he,Do);if(f=="{")return y(Y("}"),sr,W)}function sr(f,h){if(f=="async"||f=="variable"&&(h=="static"||h=="get"||h=="set"||i&&wr(h))&&g.stream.match(/^\s+#?[\w$\xa1-\uffff]/,!1))return g.marked="keyword",y(sr);if(f=="variable"||g.style=="keyword")return g.marked="property",y(Fo,sr);if(f=="number"||f=="string")return y(Fo,sr);if(f=="[")return y(he,qn,re("]"),Fo,sr);if(h=="*")return g.marked="keyword",y(sr);if(i&&f=="(")return T(Zn,sr);if(f==";"||f==",")return y(sr);if(f=="}")return y();if(h=="@")return y(he,sr)}function Fo(f,h){if(h=="!"||h=="?")return y(Fo);if(f==":")return y(se,kr);if(h=="=")return y(ct);var x=g.state.lexical.prev,S=x&&x.info=="interface";return T(S?Zn:Tr)}function np(f,h){return h=="*"?(g.marked="keyword",y(Wu,re(";"))):h=="default"?(g.marked="keyword",y(he,re(";"))):f=="{"?y(Pe(Al,"}"),Wu,re(";")):T(Se)}function Al(f,h){if(h=="as")return g.marked="keyword",y(re("variable"));if(f=="variable")return T(ct,Al)}function ip(f){return f=="string"?y():f=="("?T(he):f=="."?T(Kr):T(Bo,Il,Wu)}function Bo(f,h){return f=="{"?Bi(Bo,"}"):(f=="variable"&&Fe(h),h=="*"&&(g.marked="keyword"),y(op))}function Il(f){if(f==",")return y(Bo,Il)}function op(f,h){if(h=="as")return g.marked="keyword",y(Bo)}function Wu(f,h){if(h=="from")return g.marked="keyword",y(he)}function sp(f){return f=="]"?y():T(Pe(ct,"]"))}function Sl(){return T(Y("form"),Ot,re("{"),Y("}"),Pe(ap,"}"),W,W)}function ap(){return T(Ot,kr)}function up(f,h){return f.lastType=="operator"||f.lastType==","||a.test(h.charAt(0))||/[,.]/.test(h.charAt(0))}function cp(f,h,x){return h.tokenize==_&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(h.lastType)||h.lastType=="quasi"&&/\{\s*$/.test(f.string.slice(0,f.pos-(x||0)))}return{name:t.name,startState:function(f){var h={tokenize:_,lastType:"sof",cc:[],lexical:new k(-f,0,"block",!1),localVars:t.localVars,context:t.localVars&&new Er(null,null,!1),indented:0};return t.globalVars&&typeof t.globalVars=="object"&&(h.globalVars=t.globalVars),h},token:function(f,h){if(f.sol()&&(h.lexical.hasOwnProperty("align")||(h.lexical.align=!1),h.indented=f.indentation(),A(f,h)),h.tokenize!=E&&f.eatSpace())return null;var x=h.tokenize(f,h);return l=="comment"?x:(h.lastType=l=="operator"&&(p=="++"||p=="--")?"incdec":l,J(h,x,l,p,f))},indent:function(f,h,x){if(f.tokenize==E||f.tokenize==$)return null;if(f.tokenize!=_)return 0;var S=h&&h.charAt(0),N=f.lexical,ne;if(!/^\s*else\b/.test(h))for(var ae=f.cc.length-1;ae>=0;--ae){var lt=f.cc[ae];if(lt==W)N=N.prev;else if(lt!=wl&&lt!=Ct)break}for(;(N.type=="stat"||N.type=="form")&&(S=="}"||(ne=f.cc[f.cc.length-1])&&(ne==Kr||ne==Vn)&&!/^[,\.=+\-*:?[\(]/.test(h));)N=N.prev;e&&N.type==")"&&N.prev.type=="stat"&&(N=N.prev);var xt=N.type,Vi=S==xt;return xt=="vardef"?N.indented+(f.lastType=="operator"||f.lastType==","?N.info.length+1:0):xt=="form"&&S=="{"?N.indented:xt=="form"?N.indented+x.unit:xt=="stat"?N.indented+(up(f,h)?e||x.unit:0):N.info=="switch"&&!Vi&&t.doubleIndentSwitch!=!1?N.indented+(/^(?:case|default)\b/.test(h)?x.unit:2*x.unit):N.align?N.column+(Vi?0:1):N.indented+(Vi?0:x.unit)},languageData:{indentOnInput:/^\s*(?:case .*?:|default:|\{|\})$/,commentTokens:n?void 0:{line:"//",block:{open:"/*",close:"*/"}},closeBrackets:{brackets:["(","[","{","'",'"',"`"]},wordChars:"$"}}}var qi=Vo({name:"javascript"}),Iy=Vo({name:"json",json:!0}),Sy=Vo({name:"json",jsonld:!0}),$y=Vo({name:"typescript",typescript:!0});var Ml="5";typeof window<"u"&&(window.__svelte||={v:new Set}).v.add(Ml);var Jn="[",en="[!",tn="]",ar={};var je=Symbol(),Me=Symbol("filename"),Cl=Symbol("hmr");var Hn="font-weight: bold",Gn="font-weight: normal";function Ol(t,e,r){console.warn("hydration_attribute_changed")}function Rl(t){console.warn("hydration_html_changed")}function rn(t){console.warn("hydration_mismatch")}function Nl(){console.warn("lifecycle_double_unmount")}function Ju(t,e){console.warn("ownership_invalid_mutation")}function qo(t){console.warn("state_proxy_equality_mismatch")}var Nt=Array.isArray,Ui=Array.from,Hu=Object.keys,bt=Object.defineProperty,wt=Object.getOwnPropertyDescriptor,Uo=Object.getOwnPropertyDescriptors,Gu=Object.prototype,Ll=Array.prototype,ur=Object.getPrototypeOf;function Yu(t){return typeof t=="function"}var Ye=()=>{};function Zo(t){for(var e=0;e<t.length;e++)t[e]()}var Et=Symbol("$state"),nn=Symbol("$state metadata"),jl=Symbol("");function Wo(t){return t===this.v}function Jo(t,e){return t!=t?e==e:t!==e||t!==null&&typeof t=="object"||typeof t=="function"}function Yn(t){return!Jo(t,this.v)}function Ku(){if(!1){let t=new Error("bind_invalid_checkbox_value\nUsing `bind:value` together with a checkbox input is not allowed. Use `bind:checked` instead");throw t.name="Svelte error",t}else throw new Error("bind_invalid_checkbox_value")}function Dl(){if(!1){let t=new Error(`derived_references_self
A derived value cannot reference itself recursively`);throw t.name="Svelte error",t}else throw new Error("derived_references_self")}function Fl(t){if(!1){let e=new Error(`effect_in_teardown
\`${t}\` cannot be used inside an effect cleanup function`);throw e.name="Svelte error",e}else throw new Error("effect_in_teardown")}function Bl(){if(!1){let t=new Error("effect_in_unowned_derived\nEffect cannot be created inside a `$derived` value that was not itself created inside an effect");throw t.name="Svelte error",t}else throw new Error("effect_in_unowned_derived")}function zl(t){if(!1){let e=new Error(`effect_orphan
\`${t}\` can only be used inside an effect (e.g. during component initialisation)`);throw e.name="Svelte error",e}else throw new Error("effect_orphan")}function Qu(){if(!1){let t=new Error(`effect_update_depth_exceeded
Maximum update depth exceeded. This can happen when a reactive block or effect repeatedly sets a new value. Svelte limits the number of nested updates to prevent infinite loops`);throw t.name="Svelte error",t}else throw new Error("effect_update_depth_exceeded")}function Vl(){if(!1){let t=new Error(`hydration_failed
Failed to hydrate the application`);throw t.name="Svelte error",t}else throw new Error("hydration_failed")}function ql(){if(!1){let t=new Error("invalid_snippet\nCould not `{@render}` snippet due to the expression being `null` or `undefined`. Consider using optional chaining `{@render snippet?.()}`");throw t.name="Svelte error",t}else throw new Error("invalid_snippet")}function Ul(t){if(!1){let e=new Error(`props_invalid_value
Cannot do \`bind:${t}={undefined}\` when \`${t}\` has a fallback value`);throw e.name="Svelte error",e}else throw new Error("props_invalid_value")}function Zl(t){if(!1){let e=new Error(`rune_outside_svelte
The \`${t}\` rune is only available inside \`.svelte\` and \`.svelte.js/ts\` files`);throw e.name="Svelte error",e}else throw new Error("rune_outside_svelte")}function Wl(){if(!1){let t=new Error("state_descriptors_fixed\nProperty descriptors defined on `$state` objects must contain `value` and always be `enumerable`, `configurable` and `writable`.");throw t.name="Svelte error",t}else throw new Error("state_descriptors_fixed")}function Jl(){if(!1){let t=new Error("state_prototype_fixed\nCannot set prototype of `$state` object");throw t.name="Svelte error",t}else throw new Error("state_prototype_fixed")}function Hl(){if(!1){let t=new Error("state_unsafe_local_read\nReading state that was created inside the same derived is forbidden. Consider using `untrack` to read locally created state");throw t.name="Svelte error",t}else throw new Error("state_unsafe_local_read")}function Gl(){if(!1){let t=new Error("state_unsafe_mutation\nUpdating state inside a derived or a template expression is forbidden. If the value should not be reactive, declare it without `$state`");throw t.name="Svelte error",t}else throw new Error("state_unsafe_mutation")}var on=new Set;function ec(t){on=t}function we(t){return{f:0,v:t,reactions:null,equals:Wo,version:0}}function an(t){return yp(we(t))}function Ir(t,e=!1){let r=we(t);return e||(r.equals=Yn),Q!==null&&Q.l!==null&&(Q.l.s??=[]).push(r),r}function yp(t){return X!==null&&X.f&2&&(Lt===null?Kl([t]):Lt.push(t)),t}function ce(t,e){return X!==null&&un()&&X.f&18&&(Lt===null||!Lt.includes(t))&&Gl(),Zi(t,e)}function Zi(t,e){if(!t.equals(e)&&(t.v=e,t.version=Ho(),Yl(t,1024),un()&&z!==null&&z.f&512&&!(z.f&32)&&(Oe!==null&&Oe.includes(t)?(Ke(z,1024),Qn(z)):cr===null?Ql([t]):cr.push(t)),!1)){let n=Array.from(on);var r=lr;Kn(!0);try{for(let i of n)i.f&512&&Ke(i,2048),Sr(i)&&cn(i)}finally{Kn(r)}on.clear()}return e}function Yl(t,e){var r=t.reactions;if(r!==null)for(var n=un(),i=r.length,o=0;o<i;o++){var s=r[o],a=s.f;if(!(a&1024)&&!(!n&&s===z)){if(!1){on.add(s);continue}Ke(s,e),a&640&&(a&2?Yl(s,2048):Qn(s))}}}function jt(t){var e=1026;z===null?e|=128:z.f|=524288;let r={children:null,ctx:Q,deps:null,equals:Wo,f:e,fn:t,reactions:null,v:null,version:0,parent:z};if(X!==null&&X.f&2){var n=X;(n.children??=[]).push(r)}return r}function ic(t){let e=jt(t);return e.equals=Yn,e}function rc(t){var e=t.children;if(e!==null){t.children=null;for(var r=0;r<e.length;r+=1){var n=e[r];n.f&2?Wi(n):Be(n)}}}var tc=[];function oc(t){var e,r=z;if(Ae(t.parent),!1){let n=on;ec(new Set);try{tc.includes(t)&&Dl(),tc.push(t),rc(t),e=Go(t)}finally{Ae(r),ec(n),tc.pop()}}else try{rc(t),e=Go(t)}finally{Ae(r)}return e}function sc(t){var e=oc(t),r=($r||t.f&128)&&t.deps!==null?2048:512;Ke(t,r),t.equals(e)||(t.v=e,t.version=Ho())}function Wi(t){rc(t),fn(t,0),Ke(t,8192),t.v=t.children=t.deps=t.ctx=t.reactions=null}function ef(t){z===null&&X===null&&zl(t),X!==null&&X.f&128&&Bl(),Qo&&Fl(t)}function _p(t,e){var r=e.last;r===null?e.last=e.first=t:(r.next=t,t.prev=r,e.last=t)}function Hi(t,e,r,n=!0){var i=(t&64)!==0,o=z;if(!1)for(;o!==null&&o.f&131072;)o=o.parent;var s={ctx:Q,deps:null,deriveds:null,nodes_start:null,nodes_end:null,f:t|1024,first:null,fn:e,last:null,next:null,parent:i?null:o,prev:null,teardown:null,transitions:null,version:0};if(!1,r){var a=lr;try{Kn(!0),cn(s),s.f|=16384}catch(l){throw Be(s),l}finally{Kn(a)}}else e!==null&&Qn(s);var u=r&&s.deps===null&&s.first===null&&s.nodes_start===null&&s.teardown===null&&(s.f&524288)===0;if(!u&&!i&&n&&(o!==null&&_p(s,o),X!==null&&X.f&2)){var c=X;(c.children??=[]).push(s)}return s}function Yo(t){ef("$effect");var e=z!==null&&(z.f&32)!==0&&Q!==null&&!Q.m;if(!1,e){var r=Q;(r.e??=[]).push({fn:t,effect:z,reaction:X})}else{var n=Xe(t);return n}}function Gi(t){let e=Hi(64,t,!0);return()=>{Be(e)}}function Xe(t){return Hi(4,t,!1)}function Ve(t){return Hi(8,t,!0)}function ye(t){return!1,qe(t)}function qe(t,e=0){return Hi(24|e,t,!0)}function Re(t,e=!0){return Hi(40,t,!0,e)}function lc(t){var e=t.teardown;if(e!==null){let r=Qo,n=X;ac(!0),ze(null);try{e.call(null)}finally{ac(r),ze(n)}}}function fc(t){var e=t.deriveds;if(e!==null){t.deriveds=null;for(var r=0;r<e.length;r+=1)Wi(e[r])}}function dc(t,e=!1){var r=t.first;for(t.first=t.last=null;r!==null;){var n=r.next;Be(r,e),r=n}}function tf(t){for(var e=t.first;e!==null;){var r=e.next;e.f&32||Be(e),e=r}}function Be(t,e=!0){var r=!1;if((e||t.f&262144)&&t.nodes_start!==null){for(var n=t.nodes_start,i=t.nodes_end;n!==null;){var o=n===i?null:Ne(n);n.remove(),n=o}r=!0}dc(t,e&&!r),fc(t),fn(t,0),Ke(t,8192);var s=t.transitions;if(s!==null)for(let u of s)u.stop();lc(t);var a=t.parent;a!==null&&a.first!==null&&pc(t),!1,t.next=t.prev=t.teardown=t.ctx=t.deps=t.parent=t.fn=t.nodes_start=t.nodes_end=null}function pc(t){var e=t.parent,r=t.prev,n=t.next;r!==null&&(r.next=n),n!==null&&(n.prev=r),e!==null&&(e.first===t&&(e.first=n),e.last===t&&(e.last=r))}function fr(t,e){var r=[];Ko(t,r,!0),hc(r,()=>{Be(t),e&&e()})}function hc(t,e){var r=t.length;if(r>0){var n=()=>--r||e();for(var i of t)i.out(n)}else e()}function Ko(t,e,r){if(!(t.f&4096)){if(t.f^=4096,t.transitions!==null)for(let s of t.transitions)(s.is_global||r)&&e.push(s);for(var n=t.first;n!==null;){var i=n.next,o=(n.f&32768)!==0||(n.f&32)!==0;Ko(n,e,o?r:!1),n=i}}}function Pr(t){rf(t,!0)}function rf(t,e){if(t.f&4096){Sr(t)&&cn(t),t.f^=4096;for(var r=t.first;r!==null;){var n=r.next,i=(r.f&32768)!==0||(r.f&32)!==0;rf(r,i?e:!1),r=n}if(t.transitions!==null)for(let o of t.transitions)(o.is_global||e)&&o.in()}}var vp=typeof requestIdleCallback>"u"?t=>setTimeout(t,1):requestIdleCallback,Xo=!1,es=!1,mc=[],yc=[];function nf(){Xo=!1;let t=mc.slice();mc=[],Zo(t)}function of(){es=!1;let t=yc.slice();yc=[],Zo(t)}function Ue(t){Xo||(Xo=!0,queueMicrotask(nf)),mc.push(t)}function sf(t){es||(es=!0,vp(of)),yc.push(t)}function af(){Xo&&nf(),es&&of()}var gp={},xp=/at (?:.+ \()?(.+):(\d+):(\d+)\)?$/,bp=/@(.+):(\d+):(\d+)$/;function wp(){let t=new Error().stack;if(!t)return null;let e=[];for(let r of t.split(`
`)){let n=xp.exec(r)??bp.exec(r);n&&e.push({file:n[1],line:+n[2],column:+n[3]})}return e}function uf(){let t=wp()?.slice(4);if(!t)return null;for(let e=0;e<t.length;e++){let r=t[e],n=gp[r.file];if(!n){if(e===0)return null;continue}for(let i of n)if(i.start.line<r.line&&i.end.line>r.line)return i.component}return null}var Ep=Symbol("ADD_OWNER");function _c(t,e){if(e.owners!==null)for(;t;){if(t.owners===null){e.owners=null;break}for(let r of t.owners)e.owners.add(r);t=t.parent}}function cf(t,e){return t.owners===null?!0:t.owners.has(e)||t.parent!==null&&cf(t.parent,e)}function lf(t){return t?.owners?.values().next().value??lf(t.parent)}var kp=!1;function ff(t){if(kp)return;let e=uf();if(e&&!cf(t,e)){let r=lf(t);r[Me]!==e[Me]?Ju(e[Me],r[Me]):Ju()}}function Yi(t){if(!1){let e=new Error(`lifecycle_outside_component
\`${t}(...)\` can only be used during component initialisation`);throw e.name="Svelte error",e}else throw new Error("lifecycle_outside_component")}var hf=0,Sp=1,df=new WeakSet,rs=hf,Ki=!1,lr=!1,Qo=!1;function Kn(t){lr=t}function ac(t){Qo=t}var pn=[],Xn=0,Qi=[],X=null;function ze(t){X=t}var z=null;function Ae(t){z=t}var Lt=null;function Kl(t){Lt=t}var Oe=null,ft=0,cr=null;function Ql(t){cr=t}var mf=0,$r=!1,vc=!1,$p=new Set,Q=null;var et=null;function Ho(){return++mf}function un(){return Q!==null&&Q.l===null}function Sr(t){var e=t.f;if(e&1024)return!0;if(e&2048){var r=t.deps,n=(e&128)!==0;if(r!==null){var i;if(e&256){for(i=0;i<r.length;i++)(r[i].reactions??=[]).push(t);t.f^=256}for(i=0;i<r.length;i++){var o=r[i];if(Sr(o)&&sc(o),n&&z!==null&&!$r&&!o?.reactions?.includes(t)&&(o.reactions??=[]).push(t),o.version>t.version)return!0}}n||Ke(t,512)}return!1}function Pp(t,e,r){if(!!1||df.has(t)||r===null)throw t;let n=[],i=e.fn?.name;i&&n.push(i);let o=r;for(;o!==null;){if(!1){var s=o.function?.[Me];if(s){let c=s.split("/").pop();n.push(c)}}o=o.p}let a=/Firefox/.test(navigator.userAgent)?"  ":"	";bt(t,"message",{value:t.message+`
${n.map(c=>`
${a}in ${c}`).join("")}
`});let u=t.stack;if(u){let c=u.split(`
`),l=[];for(let p=0;p<c.length;p++){let d=c[p];d.includes("svelte/src/internal")||l.push(d)}bt(t,"stack",{value:t.stack+l.join(`
`)})}throw df.add(t),t}function Go(t){var e=Oe,r=ft,n=cr,i=X,o=$r,s=Lt,a=Q,u=t.f;Oe=null,ft=0,cr=null,X=u&96?null:t,$r=!lr&&(u&128)!==0,Lt=null,Q=t.ctx;try{var c=(0,t.fn)(),l=t.deps;if(Oe!==null){var p;if(fn(t,ft),l!==null&&ft>0)for(l.length=ft+Oe.length,p=0;p<Oe.length;p++)l[ft+p]=Oe[p];else t.deps=l=Oe;if(!$r)for(p=ft;p<l.length;p++)(l[p].reactions??=[]).push(t)}else l!==null&&ft<l.length&&(fn(t,ft),l.length=ft);return c}finally{Oe=e,ft=r,cr=n,X=i,$r=o,Lt=s,Q=a}}function Mp(t,e){let r=e.reactions;if(r!==null){var n=r.indexOf(t);if(n!==-1){var i=r.length-1;i===0?r=e.reactions=null:(r[n]=r[i],r.pop())}}r===null&&e.f&2&&(Oe===null||!Oe.includes(e))&&(Ke(e,2048),e.f&384||(e.f^=256),fn(e,0))}function fn(t,e){var r=t.deps;if(r!==null)for(var n=e;n<r.length;n++)Mp(t,r[n])}function cn(t){var e=t.f;if(!(e&8192)){Ke(t,512);var r=z,n=Q;if(z=t,!1){var i=et;et=t.component_function}try{e&16?tf(t):dc(t),fc(t),lc(t);var o=Go(t);t.teardown=typeof o=="function"?o:null,t.version=mf,!1}catch(s){Pp(s,t,n)}finally{z=r,!1}}}function yf(){if(Xn>1e3)if(Xn=0,!1)try{Qu()}catch(t){throw bt(t,"stack",{value:""}),console.error("Last ten effects were: ",Qi.slice(-10).map(e=>e.fn)),Qi=[],t}else Qu();Xn++}function _f(t){var e=t.length;if(e!==0){yf();var r=lr;lr=!0;try{for(var n=0;n<e;n++){var i=t[n];i.f&512||(i.f^=512);var o=[];vf(i,o),Cp(o)}}finally{lr=r}}}function Cp(t){var e=t.length;if(e!==0)for(var r=0;r<e;r++){var n=t[r];!(n.f&12288)&&Sr(n)&&(cn(n),n.deps===null&&n.first===null&&n.nodes_start===null&&(n.teardown===null?pc(n):n.fn=null))}}function Op(){if(Ki=!1,Xn>1001)return;let t=pn;pn=[],_f(t),Ki||(Xn=0,!1)}function Qn(t){rs===hf&&(Ki||(Ki=!0,queueMicrotask(Op)));for(var e=t;e.parent!==null;){e=e.parent;var r=e.f;if(r&96){if(!(r&512))return;e.f^=512}}pn.push(e)}function vf(t,e){var r=t.first,n=[];e:for(;r!==null;){var i=r.f,o=(i&32)!==0,s=o&&(i&512)!==0;if(!s&&!(i&4096))if(i&8){o?r.f^=512:Sr(r)&&cn(r);var a=r.first;if(a!==null){r=a;continue}}else i&4&&n.push(r);var u=r.next;if(u===null){let p=r.parent;for(;p!==null;){if(t===p)break e;var c=p.next;if(c!==null){r=c;continue e}p=p.parent}}r=u}for(var l=0;l<n.length;l++)a=n[l],e.push(a),vf(a,e)}function ei(t){var e=rs,r=pn;try{yf();let i=[];rs=Sp,pn=i,Ki=!1,_f(r);var n=t?.();return af(),(pn.length>0||i.length>0)&&ei(),Xn=0,!1,n}finally{rs=e,pn=r}}function V(t){var e=t.f,r=(e&2)!==0;if(r&&e&8192){var n=oc(t);return Wi(t),n}if(vc&&$p.add(t),X!==null){Lt!==null&&Lt.includes(t)&&Hl();var i=X.deps;Oe===null&&i!==null&&i[ft]===t?ft++:Oe===null?Oe=[t]:Oe.push(t),cr!==null&&z!==null&&z.f&512&&!(z.f&32)&&cr.includes(t)&&(Ke(z,1024),Qn(z))}else if(r&&t.deps===null){var o=t,s=o.parent;s!==null&&!s.deriveds?.includes(o)&&(s.deriveds??=[]).push(o)}return r&&(o=t,Sr(o)&&sc(o)),t.v}function ge(t){let e=X;try{return X=null,t()}finally{X=e}}var Rp=-3585;function Ke(t,e){t.f=t.f&Rp|e}function Ze(t,e=!1,r){Q={p:Q,c:null,e:null,m:!1,s:t,x:null,l:null},e||(Q.l={s:null,u:null,r1:[],r2:we(!1)}),!1}function We(t){let e=Q;if(e!==null){t!==void 0&&(e.x=t);let s=e.e;if(s!==null){var r=z,n=X;e.e=null;try{for(var i=0;i<s.length;i++){var o=s[i];Ae(o.effect),ze(o.reaction),Xe(o.fn)}}finally{Ae(r),ze(n)}}Q=e.p,!1,e.m=!0}return t||{}}function os(t){if(!(typeof t!="object"||!t||t instanceof EventTarget)){if(Et in t)is(t);else if(!Array.isArray(t))for(let e in t){let r=t[e];typeof r=="object"&&r&&Et in r&&is(r)}}}function is(t,e=new Set){if(typeof t=="object"&&t!==null&&!(t instanceof EventTarget)&&!e.has(t)){e.add(t),t instanceof Date&&t.getTime();for(let n in t)try{is(t[n],e)}catch{}let r=ur(t);if(r!==Object.prototype&&r!==Array.prototype&&r!==Map.prototype&&r!==Set.prototype&&r!==Date.prototype){let n=Uo(r);for(let i in n){let o=n[i].get;if(o)try{o.call(t)}catch{}}}}}if(!1){let t=function(e){if(!(e in globalThis)){let r;Object.defineProperty(globalThis,e,{configurable:!0,get:()=>{if(r!==void 0)return r;Zl(e)},set:n=>{r=n}})}};t("$state"),t("$effect"),t("$derived"),t("$inspect"),t("$props"),t("$bindable")}function dt(t,e=null,r){if(typeof t!="object"||t===null||Et in t)return t;let n=ur(t);if(n!==Gu&&n!==Ll)return t;var i=new Map,o=Nt(t),s=we(0);o&&i.set("length",we(t.length));var a;if(!1)if(a={parent:e,owners:null},r){let u=r.v?.[nn]?.owners;a.owners=u?new Set(u):null}else a.owners=e===null?Q!==null?new Set([Q.function]):null:new Set;return new Proxy(t,{defineProperty(u,c,l){(!("value"in l)||l.configurable===!1||l.enumerable===!1||l.writable===!1)&&Wl();var p=i.get(c);return p===void 0?(p=we(l.value),i.set(c,p)):ce(p,dt(l.value,a)),!0},deleteProperty(u,c){var l=i.get(c);if(l===void 0)c in u&&i.set(c,we(je));else{if(o&&typeof c=="string"){var p=i.get("length"),d=Number(c);Number.isInteger(d)&&d<p.v&&ce(p,d)}ce(l,je),gf(s)}return!0},get(u,c,l){if(!1)return a;if(c===Et)return t;var p=i.get(c),d=c in u;if(p===void 0&&(!d||wt(u,c)?.writable)&&(p=we(dt(d?u[c]:je,a)),i.set(c,p)),p!==void 0){var _=V(p);if(!1){var v=_?.[nn];v&&v?.parent!==a&&_c(a,v)}return _===je?void 0:_}return Reflect.get(u,c,l)},getOwnPropertyDescriptor(u,c){var l=Reflect.getOwnPropertyDescriptor(u,c);if(l&&"value"in l){var p=i.get(c);p&&(l.value=V(p))}else if(l===void 0){var d=i.get(c),_=d?.v;if(d!==void 0&&_!==je)return{enumerable:!0,configurable:!0,value:_,writable:!0}}return l},has(u,c){if(c===Et)return!0;var l=i.get(c),p=l!==void 0&&l.v!==je||Reflect.has(u,c);if(l!==void 0||z!==null&&(!p||wt(u,c)?.writable)){l===void 0&&(l=we(p?dt(u[c],a):je),i.set(c,l));var d=V(l);if(d===je)return!1}return p},set(u,c,l,p){var d=i.get(c),_=c in u;if(o&&c==="length")for(var v=l;v<d.v;v+=1){var E=i.get(v+"");E!==void 0?ce(E,je):v in u&&(E=we(je),i.set(v+"",E))}if(d===void 0?(!_||wt(u,c)?.writable)&&(d=we(void 0),ce(d,dt(l,a)),i.set(c,d)):(_=d.v!==je,ce(d,dt(l,a))),!1){var $=l?.[nn];$&&$?.parent!==a&&_c(a,$),ff(a)}var b=Reflect.getOwnPropertyDescriptor(u,c);if(b?.set&&b.set.call(p,l),!_){if(o&&typeof c=="string"){var A=i.get("length"),R=Number(c);Number.isInteger(R)&&R>=A.v&&ce(A,R+1)}gf(s)}return!0},ownKeys(u){V(s);var c=Reflect.ownKeys(u).filter(d=>{var _=i.get(d);return _===void 0||_.v!==je});for(var[l,p]of i)p.v!==je&&!(l in u)&&c.push(l);return c},setPrototypeOf(){Jl()}})}function gf(t,e=1){ce(t,t.v+e)}function hn(t){return t!==null&&typeof t=="object"&&Et in t?t[Et]:t}function xf(){let t=Array.prototype,e=Array.__svelte_cleanup;e&&e();let{indexOf:r,lastIndexOf:n,includes:i}=t;t.indexOf=function(o,s){let a=r.call(this,o,s);return a===-1&&r.call(hn(this),hn(o),s)!==-1&&qo("array.indexOf(...)"),a},t.lastIndexOf=function(o,s){let a=n.call(this,o,s??this.length-1);return a===-1&&n.call(hn(this),hn(o),s??this.length-1)!==-1&&qo("array.lastIndexOf(...)"),a},t.includes=function(o,s){let a=i.call(this,o,s);return a||i.call(hn(this),hn(o),s)&&qo("array.includes(...)"),a},Array.__svelte_cleanup=()=>{t.indexOf=r,t.lastIndexOf=n,t.includes=i}}var gc,bf,wf,Ef;function ss(){if(gc===void 0){gc=window,bf=document;var t=Element.prototype,e=Node.prototype;wf=wt(e,"firstChild").get,Ef=wt(e,"nextSibling").get,t.__click=void 0,t.__className="",t.__attributes=null,t.__styles=null,t.__e=void 0,Text.prototype.__t=void 0,!1}}function tt(t=""){return document.createTextNode(t)}function xe(t){return wf.call(t)}function Ne(t){return Ef.call(t)}function ee(t,e){if(!F)return xe(t);var r=xe(Z);if(r===null)r=Z.appendChild(tt());else if(e&&r.nodeType!==3){var n=tt();return r?.before(n),_e(n),n}return _e(r),r}function Wt(t,e){if(!F){var r=xe(t);return r instanceof Comment&&r.data===""?Ne(r):r}if(e&&Z?.nodeType!==3){var n=tt();return Z?.before(n),_e(n),n}return Z}function oe(t,e=1,r=!1){let n=F?Z:t;for(;e--;)n=Ne(n);if(!F)return n;var i=n.nodeType;if(r&&i!==3){var o=tt();return n?.before(o),_e(o),o}return _e(n),n}function ti(t){t.textContent=""}var F=!1;function rt(t){F=t}var Z;function _e(t){if(t===null)throw rn(),ar;return Z=t}function Le(){return _e(Ne(Z))}function K(t){if(F){if(Ne(Z)!==null)throw rn(),ar;Z=t}}function Mr(t=1){if(F){for(var e=t,r=Z;e--;)r=Ne(r);Z=r}}function Xi(){for(var t=0,e=Z;;){if(e.nodeType===8){var r=e.data;if(r===tn){if(t===0)return e;t-=1}else(r===Jn||r===en)&&(t+=1)}var n=Ne(e);e.remove(),e=n}}var xc=new Set,as=new Set;function bc(t,e,r,n){function i(o){if(n.capture||ri.call(e,o),!o.cancelBubble){var s=X,a=z;ze(null),Ae(null);try{return r.call(this,o)}finally{ze(s),Ae(a)}}}return t.startsWith("pointer")||t.startsWith("touch")||t==="wheel"?Ue(()=>{e.addEventListener(t,i,n)}):e.addEventListener(t,i,n),i}function mn(t){for(var e=0;e<t.length;e++)xc.add(t[e]);for(var r of as)r(t)}function ri(t){var e=this,r=e.ownerDocument,n=t.type,i=t.composedPath?.()||[],o=i[0]||t.target,s=0,a=t.__root;if(a){var u=i.indexOf(a);if(u!==-1&&(e===document||e===window)){t.__root=e;return}var c=i.indexOf(e);if(c===-1)return;u<=c&&(s=u)}if(o=i[s]||t.target,o!==e){bt(t,"currentTarget",{configurable:!0,get(){return o||r}});var l=X,p=z;ze(null),Ae(null);try{for(var d,_=[];o!==null;){var v=o.assignedSlot||o.parentNode||o.host||null;try{var E=o["__"+n];if(E!==void 0&&!o.disabled)if(Nt(E)){var[$,...b]=E;$.apply(o,[t,...b])}else E.call(o,t)}catch(A){d?_.push(A):d=A}if(t.cancelBubble||v===e||v===null)break;o=v}if(d){for(let A of _)queueMicrotask(()=>{throw A});throw d}}finally{t.__root=e,delete t.currentTarget,ze(l),Ae(p)}}}var Np;function kf(){Np=void 0}function eo(t){var e=document.createElement("template");return e.innerHTML=t,e.content}function nt(t,e){var r=z;r.nodes_start===null&&(r.nodes_start=t,r.nodes_end=e)}function de(t,e){var r=(e&1)!==0,n=(e&2)!==0,i,o=!t.startsWith("<!>");return()=>{if(F)return nt(Z,null),Z;i===void 0&&(i=eo(o?t:"<!>"+t),r||(i=xe(i)));var s=n?document.importNode(i,!0):i.cloneNode(!0);if(r){var a=xe(s),u=s.lastChild;nt(a,u)}else nt(s,s);return s}}function Cr(t=""){if(!F){var e=tt(t+"");return nt(e,e),e}var r=Z;return r.nodeType!==3&&(r.before(r=tt()),_e(r)),nt(r,r),r}function wc(){if(F)return nt(Z,null),Z;var t=document.createDocumentFragment(),e=document.createComment(""),r=tt();return t.append(e,r),nt(e,r),t}function ie(t,e){if(F){z.nodes_end=Z,Le();return}t!==null&&t.before(e)}var Dp=/\r/g;function Tf(t){t=t.replace(Dp,"");let e=5381,r=t.length;for(;r--;)e=(e<<5)-e^t.charCodeAt(r);return(e>>>0).toString(36)}function Af(t){return t.endsWith("capture")&&t!=="gotpointercapture"&&t!=="lostpointercapture"}var Fp=["beforeinput","click","change","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"];function If(t){return Fp.includes(t)}var Bp=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected","webkitdirectory"];var zp={formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly"};function Sf(t){return t=t.toLowerCase(),zp[t]??t}var vv=[...Bp,"formNoValidate","isMap","noModule","playsInline","readOnly","value","inert","volume"];var Vp=["touchstart","touchmove"];function $f(t){return Vp.includes(t)}var us=!0;function Ee(t,e){var r=e==null?"":typeof e=="object"?e+"":e;r!==(t.__t??=t.nodeValue)&&(t.__t=r,t.nodeValue=r==null?"":r+"")}function Je(t,e){return Pf(t,e)}function kc(t,e){ss(),e.intro=e.intro??!1;let r=e.target,n=F,i=Z;try{for(var o=xe(r);o&&(o.nodeType!==8||o.data!==Jn);)o=Ne(o);if(!o)throw ar;rt(!0),_e(o),Le();let s=Pf(t,{...e,anchor:o});if(Z===null||Z.nodeType!==8||Z.data!==tn)throw rn(),ar;return rt(!1),s}catch(s){if(s===ar)return e.recover===!1&&Vl(),ss(),ti(r),rt(!1),Je(t,e);throw s}finally{rt(n),_e(i),kf()}}var ni=new Map;function Pf(t,{target:e,anchor:r,props:n={},events:i,context:o,intro:s=!0}){ss();var a=new Set,u=p=>{for(var d=0;d<p.length;d++){var _=p[d];if(!a.has(_)){a.add(_);var v=$f(_);e.addEventListener(_,ri,{passive:v});var E=ni.get(_);E===void 0?(document.addEventListener(_,ri,{passive:v}),ni.set(_,1)):ni.set(_,E+1)}}};u(Ui(xc)),as.add(u);var c=void 0,l=Gi(()=>{var p=r??e.appendChild(tt());return Re(()=>{if(o){Ze({});var d=Q;d.c=o}i&&(n.$$events=i),F&&nt(p,null),us=s,c=t(p,n)||{},us=!0,F&&(z.nodes_end=Z),o&&We()}),()=>{for(var d of a){e.removeEventListener(d,ri);var _=ni.get(d);--_===0?(document.removeEventListener(d,ri),ni.delete(d)):ni.set(d,_)}as.delete(u),Ec.delete(c),p!==r&&p.parentNode?.removeChild(p)}});return Ec.set(c,l),c}var Ec=new WeakMap;function pt(t){let e=Ec.get(t);e?e():!1}function Ht(t,e,r,n=null,i=!1){F&&Le();var o=t,s=null,a=null,u=null,c=i?32768:0;qe(()=>{if(u===(u=!!e()))return;let l=!1;if(F){let p=o.data===en;u===p&&(o=Xi(),_e(o),rt(!1),l=!0)}u?(s?Pr(s):s=Re(()=>r(o)),a&&fr(a,()=>{a=null})):(a?Pr(a):n&&(a=Re(()=>n(o))),s&&fr(s,()=>{s=null})),l&&rt(!0)},c),F&&(o=Z)}var to=null;function ro(t,e){return e}function Jp(t,e,r,n){for(var i=[],o=e.length,s=0;s<o;s++)Ko(e[s].e,i,!0);var a=o>0&&i.length===0&&r!==null;if(a){var u=r.parentNode;ti(u),u.append(r),n.clear(),Or(t,e[0].prev,e[o-1].next)}hc(i,()=>{for(var c=0;c<o;c++){var l=e[c];a||(n.delete(l.k),Or(t,l.prev,l.next)),Be(l.e,!a)}})}function Rr(t,e,r,n,i,o=null){var s=t,a={flags:e,items:new Map,first:null},u=(e&4)!==0;if(u){var c=t;s=F?_e(xe(c)):c.appendChild(tt())}F&&Le();var l=null,p=!1;qe(()=>{var d=r(),_=Nt(d)?d:d==null?[]:Ui(d),v=_.length;if(p&&v===0)return;p=v===0;let E=!1;if(F){var $=s.data===en;$!==(v===0)&&(s=Xi(),_e(s),rt(!1),E=!0)}if(F){for(var b=null,A,R=0;R<v;R++){if(Z.nodeType===8&&Z.data===tn){s=Z,E=!0,rt(!1);break}var k=_[R],C=n(k,R);A=Nf(Z,a,b,null,k,C,R,i,e),a.items.set(C,A),b=A}v>0&&_e(Xi())}if(!F){var J=X;Hp(_,a,s,i,e,(J.f&4096)!==0,n)}o!==null&&(v===0?l?Pr(l):l=Re(()=>o(s)):l!==null&&fr(l,()=>{l=null})),E&&rt(!0),r()}),F&&(s=Z)}function Hp(t,e,r,n,i,o,s){var a=(i&8)!==0,u=(i&3)!==0,c=t.length,l=e.items,p=e.first,d=p,_,v=null,E,$=[],b=[],A,R,k,C;if(a)for(C=0;C<c;C+=1)A=t[C],R=s(A,C),k=l.get(R),k!==void 0&&(k.a?.measure(),(E??=new Set).add(k));for(C=0;C<c;C+=1){if(A=t[C],R=s(A,C),k=l.get(R),k===void 0){var J=d?d.e.nodes_start:r;v=Nf(J,e,v,v===null?e.first:v.next,A,R,C,n,i),l.set(R,v),$=[],b=[],d=v.next;continue}if(u&&Gp(k,A,C,i),k.e.f&4096&&(Pr(k.e),a&&(k.a?.unfix(),(E??=new Set).delete(k))),k!==d){if(_!==void 0&&_.has(k)){if($.length<b.length){var g=b[0],T;v=g.prev;var y=$[0],ir=$[$.length-1];for(T=0;T<$.length;T+=1)Of($[T],g,r);for(T=0;T<b.length;T+=1)_.delete(b[T]);Or(e,y.prev,ir.next),Or(e,v,y),Or(e,ir,g),d=g,v=ir,C-=1,$=[],b=[]}else _.delete(k),Of(k,d,r),Or(e,k.prev,k.next),Or(e,k,v===null?e.first:v.next),Or(e,v,k),v=k;continue}for($=[],b=[];d!==null&&d.k!==R;)(o||!(d.e.f&4096))&&(_??=new Set).add(d),b.push(d),d=d.next;if(d===null)continue;k=d}$.push(k),v=k,d=k.next}if(d!==null||_!==void 0){for(var Fe=_===void 0?[]:Ui(_);d!==null;)(o||!(d.e.f&4096))&&Fe.push(d),d=d.next;var qt=Fe.length;if(qt>0){var wr=i&4&&c===0?r:null;if(a){for(C=0;C<qt;C+=1)Fe[C].a?.measure();for(C=0;C<qt;C+=1)Fe[C].a?.fix()}Jp(e,Fe,wr,l)}}a&&Ue(()=>{if(E!==void 0)for(k of E)k.a?.apply()}),z.first=e.first&&e.first.e,z.last=v&&v.e}function Gp(t,e,r,n){n&1&&Zi(t.v,e),n&2?Zi(t.i,r):t.i=r}function Nf(t,e,r,n,i,o,s,a,u){var c=to;try{var l=(u&1)!==0,p=(u&16)===0,d=l?p?Ir(i):we(i):i,_=u&2?we(s):s,v={i:_,v:d,k:o,a:null,e:null,prev:r,next:n};return to=v,v.e=Re(()=>a(t,d,_),F),v.e.prev=r&&r.e,v.e.next=n&&n.e,r===null?e.first=v:(r.next=v,r.e.next=v.e),n!==null&&(n.prev=v,n.e.prev=v.e),v}finally{to=c}}function Of(t,e,r){for(var n=t.next?t.next.e.nodes_start:r,i=e?e.e.nodes_start:r,o=t.e.nodes_start;o!==n;){var s=Ne(o);i.before(o),o=s}}function Or(t,e,r){e===null?t.first=r:(e.next=r,e.e.next=r&&r.e),r!==null&&(r.prev=e,r.e.prev=e&&e.e)}function Yp(t,e,r){if(!e||e===Tf(String(r??"")))return;let n,i=t.__svelte_meta?.loc;i?n=`near ${i.file}:${i.line}:${i.column}`:et?.[Me]&&(n=`in ${et[Me]}`),Rl(n?.replace(/\//g,"/\u200B"))}function Ic(t,e,r,n,i){var o=t,s="",a;qe(()=>{if(s===(s=e()??"")){F&&Le();return}a!==void 0&&(Be(a),a=void 0),s!==""&&(a=Re(()=>{if(F){for(var u=Z.data,c=Le(),l=c;c!==null&&(c.nodeType!==8||c.data!=="");)l=c,c=Ne(c);if(c===null)throw rn(),ar;!1,nt(Z,l),o=_e(c);return}var p=s+"";r?p=`<svg>${p}</svg>`:n&&(p=`<math>${p}</math>`);var d=eo(p);if((r||n)&&(d=xe(d)),nt(xe(d),d.lastChild),r||n)for(;xe(d);)o.before(xe(d));else o.before(d)}))})}function Sc(t,e,...r){var n=t,i=Ye,o;qe(()=>{i!==(i=e())&&(o&&(Be(o),o=null),!1,o=Re(()=>i(n,...r)))},32768),F&&(n=Z)}function no(t,e,r){Xe(()=>{var n=ge(()=>e(t,r?.())||{});if(r&&n?.update){var i=!1,o={};Ve(()=>{var s=r();os(s),i&&Jo(o,s)&&(o=s,n.update(s))}),i=!0}if(n?.destroy)return()=>n.destroy()})}function $c(t,e){if(e){let r=document.body;t.autofocus=!0,Ue(()=>{document.activeElement===r&&t.focus()})}}function Pc(t){F&&xe(t)!==null&&ti(t)}var Lf=!1;function cs(){Lf||(Lf=!0,document.addEventListener("reset",t=>{Promise.resolve().then(()=>{if(!t.defaultPrevented)for(let e of t.target.elements)e.__on_r?.()})},{capture:!0}))}function ls(t){if(F){var e=!1,r=()=>{if(!e){if(e=!0,t.hasAttribute("value")){var n=t.value;Ft(t,"value",null),t.value=n}if(t.hasAttribute("checked")){var i=t.checked;Ft(t,"checked",null),t.checked=i}}};t.__on_r=r,sf(r),cs()}}function Ft(t,e,r,n){var i=t.__attributes??={};if(F&&(i[e]=t.getAttribute(e),e==="src"||e==="srcset"||e==="href"&&t.nodeName==="LINK")){n||Bf(t,e,r??"");return}i[e]!==(i[e]=r)&&(e==="style"&&"__styles"in t&&(t.__styles={}),e==="loading"&&(t[jl]=r),r==null?t.removeAttribute(e):typeof r!="string"&&Ff(t).includes(e)?t[e]=r:t.setAttribute(e,r))}function Cc(t,e,r,n,i=!1,o=!1,s=!1){var a=e||{},u=t.tagName==="OPTION";for(var c in e)c in r||(r[c]=null);n!==void 0&&(r.class=r.class?r.class+" "+n:n);var l=Ff(t),p=t.__attributes??={},d=[];for(let b in r){let A=r[b];if(u&&b==="value"&&A==null){t.value=t.__value="",a[b]=A;continue}var _=a[b];if(A!==_){a[b]=A;var v=b[0]+b[1];if(v!=="$$"){if(v==="on"){let R={},k="$$"+b,C=b.slice(2);var E=If(C);if(Af(C)&&(C=C.slice(0,-7),R.capture=!0),!E&&_){if(A!=null)continue;t.removeEventListener(C,a[k],R),a[k]=null}if(A!=null)if(E)t[`__${C}`]=A,mn([C]);else{let J=function(g){a[b].call(this,g)};e?a[k]=bc(C,t,J,R):d.push([b,A,()=>a[k]=bc(C,t,J,R)])}}else if(b==="style"&&A!=null)t.style.cssText=A+"";else if(b==="autofocus")$c(t,!!A);else if(b==="__value"||b==="value"&&A!=null)t.value=t[b]=t.__value=A;else{var $=b;i||($=Sf($)),A==null&&!o?(p[b]=null,t.removeAttribute(b)):l.includes($)&&(o||typeof A!="string")?t[$]=A:typeof A!="function"&&(F&&($==="src"||$==="href"||$==="srcset")?s||Bf(t,$,A??""):Ft(t,$,A))}b==="style"&&"__styles"in t&&(t.__styles={})}}}return e||Ue(()=>{if(t.isConnected)for(let[b,A,R]of d)a[b]===A&&R()}),a}var jf=new Map;function Ff(t){var e=jf.get(t.nodeName);if(e)return e;jf.set(t.nodeName,e=[]);for(var r,n=ur(t),i=Element.prototype;i!==n;){r=Uo(n);for(var o in r)r[o].set&&e.push(o);n=ur(n)}return e}function Bf(t,e,r){!1}function Mc(t,e){return t===e?!0:new URL(t,document.baseURI).href===new URL(e,document.baseURI).href}function Df(t){return t.split(",").map(e=>e.trim().split(" ").filter(Boolean))}function Qp(t,e){var r=Df(t.srcset),n=Df(e);return n.length===r.length&&n.every(([i,o],s)=>o===r[s][1]&&(Mc(r[s][0],i)||Mc(i,r[s][0])))}function Oc(t,e){var r=t.__className,n=Xp(e);F&&t.className===n?t.__className=n:(r!==n||F&&t.className!==n)&&(e==null?t.removeAttribute("class"):t.className=n,t.__className=n)}function Xp(t){return t??""}function ii(t,e,r){if(r){if(t.classList.contains(e))return;t.classList.add(e)}else{if(!t.classList.contains(e))return;t.classList.remove(e)}}var eh=()=>performance.now(),Gt={tick:t=>requestAnimationFrame(t),now:()=>eh(),tasks:new Set};function Vf(t){Gt.tasks.forEach(e=>{e.c(t)||(Gt.tasks.delete(e),e.f())}),Gt.tasks.size!==0&&Gt.tick(Vf)}function qf(t){let e;return Gt.tasks.size===0&&Gt.tick(Vf),{promise:new Promise(r=>{Gt.tasks.add(e={c:t,f:r})}),abort(){Gt.tasks.delete(e)}}}function fs(t,e){t.dispatchEvent(new CustomEvent(e))}function ih(t){if(t==="float")return"cssFloat";if(t==="offset")return"cssOffset";if(t.startsWith("--"))return t;let e=t.split("-");return e.length===1?e[0]:e[0]+e.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("")}function Uf(t){let e={},r=t.split(";");for(let n of r){let[i,o]=n.split(":");if(!i||o===void 0)break;let s=ih(i.trim());e[s]=o.trim()}return e}var oh=t=>t;function Nc(t,e,r,n){var i=(t&1)!==0,o=(t&2)!==0,s=i&&o,a=(t&4)!==0,u=s?"both":i?"in":"out",c,l=e.inert,p,d;function _(){var A=X,R=z;ze(null),Ae(null);try{return c??=r()(e,n?.()??{},{direction:u})}finally{ze(A),Ae(R)}}var v={is_global:a,in(){if(e.inert=l,!i){d?.abort(),d?.reset?.();return}o||p?.abort(),fs(e,"introstart"),p=Rc(e,_(),d,1,()=>{fs(e,"introend"),p?.abort(),p=c=void 0})},out(A){if(!o){A?.(),c=void 0;return}e.inert=!0,fs(e,"outrostart"),d=Rc(e,_(),p,0,()=>{fs(e,"outroend"),A?.()})},stop:()=>{p?.abort(),d?.abort()}},E=z;if((E.transitions??=[]).push(v),i&&us){var $=a;if(!$){for(var b=E.parent;b&&b.f&32768;)for(;(b=b.parent)&&!(b.f&16););$=!b||(b.f&16384)!==0}$&&Xe(()=>{ge(()=>v.in())})}}function Rc(t,e,r,n,i){var o=n===1;if(Yu(e)){var s,a=!1;return Ue(()=>{if(!a){var $=e({direction:o?"in":"out"});s=Rc(t,$,r,n,i)}}),{abort:()=>{a=!0,s?.abort()},deactivate:()=>s.deactivate(),reset:()=>s.reset(),t:()=>s.t()}}if(r?.deactivate(),!e?.duration)return i(),{abort:Ye,deactivate:Ye,reset:Ye,t:()=>n};let{delay:u=0,css:c,tick:l,easing:p=oh}=e;var d=[];if(o&&r===void 0&&(l&&l(0,1),c)){var _=Uf(c(0,1));d.push(_,_)}var v=()=>1-n,E=t.animate(d,{duration:u});return E.onfinish=()=>{var $=r?.t()??1-n;r?.abort();var b=n-$,A=e.duration*Math.abs(b),R=[];if(A>0){if(c)for(var k=Math.ceil(A/16.666666666666668),C=0;C<=k;C+=1){var J=$+b*p(C/k),g=c(J,1-J);R.push(Uf(g))}v=()=>{var T=E.currentTime;return $+b*p(T/A)},l&&qf(()=>{if(E.playState!=="running")return!1;var T=v();return l(T,1-T),!0})}E=t.animate(R,{duration:A,fill:"forwards"}),E.onfinish=()=>{v=()=>n,l?.(n,1-n),i()}},{abort:()=>{E&&(E.cancel(),E.effect=null,E.onfinish=Ye)},deactivate:()=>{i=Ye},reset:()=>{n===0&&l?.(1,0)},t:()=>v()}}function Lc(t,e,r,n=r){t.addEventListener(e,r);let i=t.__on_r;i?t.__on_r=()=>{i(),n()}:t.__on_r=n,cs()}function io(t,e,r=e){var n=un();Lc(t,"input",()=>{!1;var i=Zf(t)?Wf(t.value):t.value;r(i),n&&i!==(i=e())&&(t.value=i??"")}),Ve(()=>{!1;var i=e();if(F&&t.defaultValue!==t.value){r(t.value);return}Zf(t)&&i===Wf(t.value)||t.type==="date"&&!i&&!t.value||i!==t.value&&(t.value=i??"")})}function Zf(t){var e=t.type;return e==="number"||e==="range"}function Wf(t){return t===""?null:+t}function Jf(t,e){return t===e||t?.[Et]===e}function jc(t={},e,r,n){return Xe(()=>{var i,o;return Ve(()=>{i=o,o=n?.()||[],ge(()=>{t!==r(...o)&&(e(t,...o),i&&Jf(r(...i),t)&&e(null,...i))})}),()=>{Ue(()=>{o&&Jf(r(...o),t)&&e(null,...o)})}}),t}function Dc(t){Q===null&&Yi("onMount"),Q.l!==null?dh(Q).m.push(t):Yo(()=>{let e=ge(t);if(typeof e=="function")return e})}function Hf(t){Q===null&&Yi("onDestroy"),Dc(()=>()=>ge(t))}function dh(t){var e=t.l;return e.u??={a:[],b:[],m:[]}}var ps=!1;function Fc(t){var e=ps;try{return ps=!1,[t(),ps]}finally{ps=e}}function Gf(t){for(var e=z,r=z;e!==null&&!(e.f&96);)e=e.parent;try{return Ae(e),t()}finally{Ae(r)}}function Yt(t,e,r,n){var i=(r&1)!==0,o=(r&2)!==0,s=(r&8)!==0,a=(r&16)!==0,u=!1,c;s?[c,u]=Fc(()=>t[e]):c=t[e];var l=wt(t,e)?.set,p=n,d=!0,_=!1,v=()=>(_=!0,d&&(d=!1,a?p=ge(n):p=n),p);c===void 0&&n!==void 0&&(l&&o&&Ul(e),c=v(),l&&l(c));var E;if(o)E=()=>{var J=t[e];return J===void 0?v():(d=!0,_=!1,J)};else{var $=Gf(()=>(i?jt:ic)(()=>t[e]));$.f|=65536,E=()=>{var J=V($);return J!==void 0&&(p=void 0),J===void 0?p:J}}if(!(r&4))return E;if(l){var b=t.$$legacy;return function(J,g){return arguments.length>0?((!o||!g||b||u)&&l(g?E():J),J):E()}}var A=!1,R=!1,k=Ir(c),C=Gf(()=>jt(()=>{var J=E(),g=V(k);return A?(A=!1,R=!0,g):(R=!1,k.v=J)}));return i||(C.equals=Yn),function(J,g){if(vc&&(A=R,E(),V(k)),arguments.length>0){let T=g?V(C):o&&s?dt(J):J;return C.equals(T)||(A=!0,ce(k,T),_&&p!==void 0&&(p=T),ge(()=>V(C))),J}return V(C)}}function Yf(t){return new Bc(t)}var Bc=class{#t;#e;constructor(e){var r=new Map,n=(o,s)=>{var a=Ir(s);return r.set(o,a),a};let i=new Proxy({...e.props||{},$$events:{}},{get(o,s){return V(r.get(s)??n(s,Reflect.get(o,s)))},has(o,s){return V(r.get(s)??n(s,Reflect.get(o,s))),Reflect.has(o,s)},set(o,s,a){return ce(r.get(s)??n(s,a),a),Reflect.set(o,s,a)}});this.#e=(e.hydrate?kc:Je)(e.component,{target:e.target,props:i,context:e.context,intro:e.intro??!1,recover:e.recover}),(!e?.props?.$$host||e.sync===!1)&&ei(),this.#t=i.$$events;for(let o of Object.keys(this.#e))o==="$set"||o==="$destroy"||o==="$on"||bt(this,o,{get(){return this.#e[o]},set(s){this.#e[o]=s},enumerable:!0});this.#e.$set=o=>{Object.assign(i,o)},this.#e.$destroy=()=>{pt(this.#e)}}$set(e){this.#e.$set(e)}$on(e,r){this.#t[e]=this.#t[e]||[];let n=(...i)=>r.call(this,...i);return this.#t[e].push(n),()=>{this.#t[e]=this.#t[e].filter(i=>i!==n)}}$destroy(){this.#e.$destroy()}};var Th;typeof HTMLElement=="function"&&(Th=class extends HTMLElement{$$ctor;$$s;$$c;$$cn=!1;$$d={};$$r=!1;$$p_d={};$$l={};$$l_u=new Map;$$me;constructor(t,e,r){super(),this.$$ctor=t,this.$$s=e,r&&this.attachShadow({mode:"open"})}addEventListener(t,e,r){if(this.$$l[t]=this.$$l[t]||[],this.$$l[t].push(e),this.$$c){let n=this.$$c.$on(t,e);this.$$l_u.set(e,n)}super.addEventListener(t,e,r)}removeEventListener(t,e,r){if(super.removeEventListener(t,e,r),this.$$c){let n=this.$$l_u.get(e);n&&(n(),this.$$l_u.delete(e))}}async connectedCallback(){if(this.$$cn=!0,!this.$$c){let t=function(n){return i=>{let o=document.createElement("slot");n!=="default"&&(o.name=n),ie(i,o)}};if(await Promise.resolve(),!this.$$cn||this.$$c)return;let e={},r=Ah(this);for(let n of this.$$s)n in r&&(n==="default"&&!this.$$d.children?(this.$$d.children=t(n),e.default=!0):e[n]=t(n));for(let n of this.attributes){let i=this.$$g_p(n.name);i in this.$$d||(this.$$d[i]=zc(i,n.value,this.$$p_d,"toProp"))}for(let n in this.$$p_d)!(n in this.$$d)&&this[n]!==void 0&&(this.$$d[n]=this[n],delete this[n]);this.$$c=Yf({component:this.$$ctor,target:this.shadowRoot||this,props:{...this.$$d,$$slots:e,$$host:this}}),this.$$me=Gi(()=>{Ve(()=>{this.$$r=!0;for(let n of Hu(this.$$c)){if(!this.$$p_d[n]?.reflect)continue;this.$$d[n]=this.$$c[n];let i=zc(n,this.$$d[n],this.$$p_d,"toAttribute");i==null?this.removeAttribute(this.$$p_d[n].attribute||n):this.setAttribute(this.$$p_d[n].attribute||n,i)}this.$$r=!1})});for(let n in this.$$l)for(let i of this.$$l[n]){let o=this.$$c.$on(n,i);this.$$l_u.set(i,o)}this.$$l={}}}attributeChangedCallback(t,e,r){this.$$r||(t=this.$$g_p(t),this.$$d[t]=zc(t,r,this.$$p_d,"toProp"),this.$$c?.$set({[t]:this.$$d[t]}))}disconnectedCallback(){this.$$cn=!1,Promise.resolve().then(()=>{!this.$$cn&&this.$$c&&(this.$$c.$destroy(),this.$$me(),this.$$c=void 0)})}$$g_p(t){return Hu(this.$$p_d).find(e=>this.$$p_d[e].attribute===t||!this.$$p_d[e].attribute&&e.toLowerCase()===t)||t}});function zc(t,e,r,n){let i=r[t]?.type;if(e=i==="Boolean"&&typeof e!="boolean"?e!=null:e,!n||!r[t])return e;if(n==="toAttribute")switch(i){case"Object":case"Array":return e==null?null:JSON.stringify(e);case"Boolean":return e?"":null;case"Number":return e??null;default:return e}else switch(i){case"Object":case"Array":return e&&JSON.parse(e);case"Boolean":return e;case"Number":return e!=null?+e:e;default:return e}}function Ah(t){let e={};return t.childNodes.forEach(r=>{e[r.slot||"default"]=!0}),e}var Vc=require("obsidian");function hs(t,e){return(0,Vc.setIcon)(t,e),{update(r){(0,Vc.setIcon)(t,r)}}}function Sh(t){let e=t-1;return e*e*e+1}function Kf(t,{delay:e=0,duration:r=400,easing:n=Sh,axis:i="y"}={}){let o=getComputedStyle(t),s=+o.opacity,a=i==="y"?"height":"width",u=parseFloat(o[a]),c=i==="y"?["top","bottom"]:["left","right"],l=c.map(b=>`${b[0].toUpperCase()}${b.slice(1)}`),p=parseFloat(o[`padding${l[0]}`]),d=parseFloat(o[`padding${l[1]}`]),_=parseFloat(o[`margin${l[0]}`]),v=parseFloat(o[`margin${l[1]}`]),E=parseFloat(o[`border${l[0]}Width`]),$=parseFloat(o[`border${l[1]}Width`]);return{delay:e,duration:r,easing:n,css:b=>`overflow: hidden;opacity: ${Math.min(b*20,1)*s};${a}: ${b*u}px;padding-${c[0]}: ${b*p}px;padding-${c[1]}: ${b*d}px;margin-${c[0]}: ${b*_}px;margin-${c[1]}: ${b*v}px;border-${c[0]}-width: ${b*E}px;border-${c[1]}-width: ${b*$}px;`}}var $h=(t,e)=>e.messageManager.removeMessage(e.messageWrapper.uuid),Ph=(t,e)=>t.key===" "?e.messageManager.removeMessage(e.messageWrapper.uuid):void 0,Mh=de('<div class="js-engine-message-delete-icon callout-icon" aria-label="remove" role="button" tabindex="0"></div>'),Ch=de("<p> </p>"),Oh=de('<pre class="language-none"><code> </code></pre>'),Rh=(t,e)=>ce(e,!V(e)),Nh=(t,e)=>t.key===" "?ce(e,!V(e)):void 0,Lh=de("<p> </p> <p> </p>",1),jh=de('<div class="js-engine-message-detail-content"><p> </p> <p> </p> <!></div>'),Dh=de('<div><div class="js-engine-message-header callout-title"><div class="js-engine-message-icon callout-icon"></div> <span class="js-engine-message-title"> </span> <!></div> <div class="js-engine-message-content callout-content"><!> <!> <div class="js-engine-message-detail"><div class="js-engine-message-detail-row" role="button" tabindex="0"><span>Details</span> <div class="js-engine-message-icon"></div></div> <!></div></div></div>');function yn(t,e){Ze(e,!0);let r=Yt(e,"showDeleteButton",3,!0),n=Yt(e,"showMessageSource",3,!0),i=an(!1);var o=Dh();let s=jt(()=>`js-engine-message callout ${Qf(e.messageWrapper.message.type)??""}`);var a=ee(o),u=ee(a);no(u,(R,k)=>hs(R,k),()=>Xf(e.messageWrapper.message.type));var c=oe(u,2),l=ee(c,!0);K(c);var p=oe(c,2);Ht(p,r,R=>{var k=Mh();k.__click=[$h,e],k.__keydown=[Ph,e],no(k,(C,J)=>hs(C,J),()=>"x"),ie(R,k)}),K(a);var d=oe(a,2),_=ee(d);Ht(_,()=>e.messageWrapper.message.content,R=>{var k=Ch(),C=ee(k,!0);K(k),ye(()=>Ee(C,e.messageWrapper.message.content)),ie(R,k)});var v=oe(_,2);Ht(v,()=>e.messageWrapper.message.code,R=>{var k=Oh(),C=ee(k),J=ee(C,!0);K(C),K(k),ye(()=>Ee(J,e.messageWrapper.message.code)),ie(R,k)});var E=oe(v,2),$=ee(E);$.__click=[Rh,i],$.__keydown=[Nh,i];var b=oe(ee($),2);no(b,(R,k)=>hs(R,k),()=>V(i)?"chevron-down":"chevron-right"),K($);var A=oe($,2);Ht(A,()=>V(i),R=>{var k=jh(),C=ee(k),J=ee(C);K(C);var g=oe(C,2),T=ee(g);ye(()=>Ee(T,`Time: ${e.messageWrapper.time.toISOString()??""}`)),K(g);var y=oe(g,2);Ht(y,n,ir=>{var Fe=Lh(),qt=Wt(Fe),wr=ee(qt);K(qt);var Er=oe(qt,2),Gr=ee(Er);K(Er),ye(()=>{Ee(wr,`Source Name: ${e.messageWrapper.source.name??""}`),Ee(Gr,`Source ID: ${e.messageWrapper.source.id??""}`)}),ie(ir,Fe)}),K(k),ye(()=>Ee(J,`Type: ${e.messageWrapper.message.type??""}`)),Nc(3,k,()=>Kf,()=>({duration:100})),ie(R,k)}),K(E),K(d),K(o),ye(()=>{Oc(o,V(s)),Ft(o,"data-callout",e.messageWrapper.message.type),Ee(l,e.messageWrapper.message.title),Ft($,"aria-expanded",V(i)?"true":"false")}),ie(t,o),We()}mn(["click","keydown"]);function ed(t){return[...t]}var Nr=(i=>(i.DEFAULT="default",i.PRIMARY="primary",i.DESTRUCTIVE="destructive",i.PLAIN="plain",i))(Nr||{});function td(t,e){return(t%e+e)%e}var Fh=de("<button><!></button>");function Lr(t,e){Ze(e,!0);let r=Yt(e,"variant",19,()=>"default"),n=Yt(e,"disabled",3,!1),i=Yt(e,"tooltip",3,""),o=Yt(e,"other",19,()=>({})),s=Yt(e,"onclick",3,()=>{});var a=Fh();let u;var c=ee(a);Sc(c,()=>e.children),K(a),ye(()=>{u=Cc(a,u,{class:"js-engine-button","aria-label":i(),onclick:s(),disabled:n(),...o()}),ii(a,"mod-cta",r()==="primary"),ii(a,"mod-warning",r()==="destructive"),ii(a,"mod-plain",r()==="plain"),ii(a,"disabled",n())}),ie(t,a),We()}var Bh=de("<p>None</p>"),zh=de("<h2>Messages</h2> <!> <div></div>",1);function qc(t,e){Ze(e,!0);let r=an(dt(e.messageManager.messages.get())),n;Dc(()=>{n=e.messageManager.messages.registerListener({callback:a=>{console.log("Messages updated",a),ce(r,dt(a))}})}),Hf(()=>{e.messageManager.messages.unregisterListener(n)});var i=zh(),o=oe(Wt(i),2);Lr(o,{get variant(){return"destructive"},onclick:()=>e.messageManager.removeAllMessages(),children:(a,u)=>{Mr();var c=Cr("Clear All Messages");ie(a,c)},$$slots:{default:!0}});var s=oe(o,2);Rr(s,21,()=>V(r),a=>a.uuid,(a,u)=>{yn(a,{get messageWrapper(){return V(u)},get messageManager(){return e.messageManager}})},a=>{var u=Bh();ie(a,u)}),K(s),ie(t,i),We()}var rd=require("obsidian");var ms=class extends rd.Modal{plugin;component;constructor(e,r){super(e),this.plugin=r}onOpen(){this.contentEl.empty(),this.component&&pt(this.component),this.component=Je(qc,{target:this.contentEl,props:{messageManager:this.plugin.messageManager}})}onClose(){this.contentEl.empty(),this.component&&pt(this.component)}};var Uc=class{listeners;constructor(){this.listeners=[]}registerListener(e){let r=e;return r.uuid=self.crypto.randomUUID(),this.listeners.push(r),r}unregisterListener(e){this.unregisterListenerById(e.uuid)}unregisterListenerById(e){this.listeners=this.listeners.filter(r=>r.uuid!==e)}unregisterAllListeners(){this.listeners=[]}notifyListeners(e){for(let r of this.listeners)try{r.callback(e)}catch(n){let i=n instanceof Error?n:String(n);console.error(new Error(`Error while notifying listener with UUID ${r.uuid}.`),i)}}},ys=class extends Uc{value;constructor(e){super(),this.value=e}get(){return this.value}set(e){this.value=e,this.notifyListeners(e)}update(e){this.set(e(this.get()))}};var gs=require("obsidian"),oo=(o=>(o.INFO="info",o.TIP="tip",o.SUCCESS="success",o.WANING="warning",o.ERROR="error",o))(oo||{}),Vh=["error","warning","success","tip","info"];function Qf(t){return`js-engine-message-mod-${t}`}function Xf(t){let e=new Map;return e.set("error","zap"),e.set("warning","alert-triangle"),e.set("success","check"),e.set("tip","flame"),e.set("info","info"),e.get(t)??"info"}function qh(t){return`js-engine-message-indicator-mod-${t}`}var _s=class{type;title;content;code;constructor(e,r,n,i){this.type=e,this.title=r,this.content=n,this.code=i}},si=class{uuid;source;message;time;constructor(e,r){this.message=e,this.source=r,this.uuid=self.crypto.randomUUID(),this.time=(0,gs.moment)()}},vs=class{app;plugin;messages;statusBarItem;messageDisplay;constructor(e,r){this.app=e,this.plugin=r,this.messages=new ys([])}initStatusBarItem(){this.messageDisplay=new ms(this.app,this.plugin),this.statusBarItem=this.plugin.addStatusBarItem(),this.statusBarItem.addClass("mod-clickable"),this.statusBarItem.addEventListener("click",()=>{this.messageDisplay?.open()}),this.updateStatusBarItem(),this.messages.registerListener({callback:()=>{this.updateStatusBarItem()}})}addMessage(e,r){let n=new si(e,r);return this.messages.update(i=>(i.push(n),i)),n}removeMessage(e){this.messages.update(r=>r.filter(n=>n.uuid!==e))}removeAllMessages(){this.messages.set([])}updateStatusBarItem(){if(!this.statusBarItem)return;this.statusBarItem.empty();let e=this.statusBarItem.createEl("div");(0,gs.setIcon)(e,"message-square");let r=this.statusBarItem.createEl("span");r.addClass("js-engine-message-counter"),r.innerText=this.messages.get().length.toString();let n=new Set(Array.from(this.messages.get().values()).map(i=>i.message.type));for(let i of Vh)if(n.has(i)){r.addClass(qh(i));break}n.size===0&&r.addClass("js-engine-message-indicator-mod-info")}getMessagesFromSource(e){let r=this.messages.get();return ed(r.values()).filter(n=>n.source.id===e.id)}};var Zc=class extends Error{errorLevel;effect;cause;tip;docs;context;positionContext;constructor(e){super(""),this.errorLevel=e.errorLevel,this.effect=e.effect,this.cause=e.cause,this.tip=e.tip,this.docs=e.docs,this.context=e.context,this.positionContext=e.positionContext,this.updateMessage()}updateMessage(){this.cause instanceof Error?this.message=`[${this.getErrorType()}] "${this.effect}" caused by error "${this.cause.message}"`:this.message=`[${this.getErrorType()}] "${this.effect}" caused by "${this.cause}"`}log(){console.log(this.message,this.stack,this.context)}};var xs=class extends Zc{getErrorType(){return"JSE_VALIDATION"}};var Ss=require("obsidian");var te;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function r(i){throw new Error}t.assertNever=r,t.arrayToEnum=i=>{let o={};for(let s of i)o[s]=s;return o},t.getValidEnumValues=i=>{let o=t.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),s={};for(let a of o)s[a]=i[a];return t.objectValues(s)},t.objectValues=i=>t.objectKeys(i).map(function(o){return i[o]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{let o=[];for(let s in i)Object.prototype.hasOwnProperty.call(i,s)&&o.push(s);return o},t.find=(i,o)=>{for(let s of i)if(o(s))return s},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function n(i,o=" | "){return i.map(s=>typeof s=="string"?`'${s}'`:s).join(o)}t.joinValues=n,t.jsonStringifyReplacer=(i,o)=>typeof o=="bigint"?o.toString():o})(te||(te={}));var Jc;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(Jc||(Jc={}));var O=te.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),jr=t=>{switch(typeof t){case"undefined":return O.undefined;case"string":return O.string;case"number":return isNaN(t)?O.nan:O.number;case"boolean":return O.boolean;case"function":return O.function;case"bigint":return O.bigint;case"symbol":return O.symbol;case"object":return Array.isArray(t)?O.array:t===null?O.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?O.promise:typeof Map<"u"&&t instanceof Map?O.map:typeof Set<"u"&&t instanceof Set?O.set:typeof Date<"u"&&t instanceof Date?O.date:O.object;default:return O.unknown}},w=te.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Uh=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:"),ht=class t extends Error{constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};let r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){let r=e||function(o){return o.message},n={_errors:[]},i=o=>{for(let s of o.issues)if(s.code==="invalid_union")s.unionErrors.map(i);else if(s.code==="invalid_return_type")i(s.returnTypeError);else if(s.code==="invalid_arguments")i(s.argumentsError);else if(s.path.length===0)n._errors.push(r(s));else{let a=n,u=0;for(;u<s.path.length;){let c=s.path[u];u===s.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(r(s))):a[c]=a[c]||{_errors:[]},a=a[c],u++}}};return i(this),n}static assert(e){if(!(e instanceof t))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,te.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){let r={},n=[];for(let i of this.issues)i.path.length>0?(r[i.path[0]]=r[i.path[0]]||[],r[i.path[0]].push(e(i))):n.push(e(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}};ht.create=t=>new ht(t);var ci=(t,e)=>{let r;switch(t.code){case w.invalid_type:t.received===O.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case w.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,te.jsonStringifyReplacer)}`;break;case w.unrecognized_keys:r=`Unrecognized key(s) in object: ${te.joinValues(t.keys,", ")}`;break;case w.invalid_union:r="Invalid input";break;case w.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${te.joinValues(t.options)}`;break;case w.invalid_enum_value:r=`Invalid enum value. Expected ${te.joinValues(t.options)}, received '${t.received}'`;break;case w.invalid_arguments:r="Invalid function arguments";break;case w.invalid_return_type:r="Invalid function return type";break;case w.invalid_date:r="Invalid date";break;case w.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:te.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case w.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case w.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case w.custom:r="Invalid input";break;case w.invalid_intersection_types:r="Intersection results could not be merged";break;case w.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case w.not_finite:r="Number must be finite";break;default:r=e.defaultError,te.assertNever(t)}return{message:r}},od=ci;function Zh(t){od=t}function bs(){return od}var ws=t=>{let{data:e,path:r,errorMaps:n,issueData:i}=t,o=[...r,...i.path||[]],s={...i,path:o};if(i.message!==void 0)return{...i,path:o,message:i.message};let a="",u=n.filter(c=>!!c).slice().reverse();for(let c of u)a=c(s,{data:e,defaultError:a}).message;return{...i,path:o,message:a}},Wh=[];function M(t,e){let r=bs(),n=ws({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===ci?void 0:ci].filter(i=>!!i)});t.common.issues.push(n)}var De=class t{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){let n=[];for(let i of r){if(i.status==="aborted")return U;i.status==="dirty"&&e.dirty(),n.push(i.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){let n=[];for(let i of r){let o=await i.key,s=await i.value;n.push({key:o,value:s})}return t.mergeObjectSync(e,n)}static mergeObjectSync(e,r){let n={};for(let i of r){let{key:o,value:s}=i;if(o.status==="aborted"||s.status==="aborted")return U;o.status==="dirty"&&e.dirty(),s.status==="dirty"&&e.dirty(),o.value!=="__proto__"&&(typeof s.value<"u"||i.alwaysSet)&&(n[o.value]=s.value)}return{status:e.value,value:n}}},U=Object.freeze({status:"aborted"}),ui=t=>({status:"dirty",value:t}),He=t=>({status:"valid",value:t}),Hc=t=>t.status==="aborted",Gc=t=>t.status==="dirty",uo=t=>t.status==="valid",co=t=>typeof Promise<"u"&&t instanceof Promise;function Es(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function sd(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r}var j;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(j||(j={}));var so,ao,$t=class{constructor(e,r,n,i){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},nd=(t,e)=>{if(uo(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let r=new ht(t.common.issues);return this._error=r,this._error}}};function H(t){if(!t)return{};let{errorMap:e,invalid_type_error:r,required_error:n,description:i}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(s,a)=>{var u,c;let{message:l}=t;return s.code==="invalid_enum_value"?{message:l??a.defaultError}:typeof a.data>"u"?{message:(u=l??n)!==null&&u!==void 0?u:a.defaultError}:s.code!=="invalid_type"?{message:a.defaultError}:{message:(c=l??r)!==null&&c!==void 0?c:a.defaultError}},description:i}}var G=class{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return jr(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:jr(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new De,ctx:{common:e.parent.common,data:e.data,parsedType:jr(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let r=this._parse(e);if(co(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){let r=this._parse(e);return Promise.resolve(r)}parse(e,r){let n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){var n;let i={common:{issues:[],async:(n=r?.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:jr(e)},o=this._parseSync({data:e,path:i.path,parent:i});return nd(i,o)}async parseAsync(e,r){let n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){let n={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:jr(e)},i=this._parse({data:e,path:n.path,parent:n}),o=await(co(i)?i:Promise.resolve(i));return nd(n,o)}refine(e,r){let n=i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r;return this._refinement((i,o)=>{let s=e(i),a=()=>o.addIssue({code:w.custom,...n(i)});return typeof Promise<"u"&&s instanceof Promise?s.then(u=>u?!0:(a(),!1)):s?!0:(a(),!1)})}refinement(e,r){return this._refinement((n,i)=>e(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(e){return new mt({schema:this,typeName:q.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return St.create(this,this._def)}nullable(){return Qt.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return hr.create(this,this._def)}promise(){return Br.create(this,this._def)}or(e){return En.create([this,e],this._def)}and(e){return kn.create(this,e,this._def)}transform(e){return new mt({...H(this._def),schema:this,typeName:q.ZodEffects,effect:{type:"transform",transform:e}})}default(e){let r=typeof e=="function"?e:()=>e;return new $n({...H(this._def),innerType:this,defaultValue:r,typeName:q.ZodDefault})}brand(){return new lo({typeName:q.ZodBranded,type:this,...H(this._def)})}catch(e){let r=typeof e=="function"?e:()=>e;return new Pn({...H(this._def),innerType:this,catchValue:r,typeName:q.ZodCatch})}describe(e){let r=this.constructor;return new r({...this._def,description:e})}pipe(e){return fo.create(this,e)}readonly(){return Mn.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},Jh=/^c[^\s-]{8,}$/i,Hh=/^[0-9a-z]+$/,Gh=/^[0-9A-HJKMNP-TV-Z]{26}$/,Yh=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Kh=/^[a-z0-9_-]{21}$/i,Qh=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Xh=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,em="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",Wc,tm=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,rm=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,nm=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,ad="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",im=new RegExp(`^${ad}$`);function ud(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function om(t){return new RegExp(`^${ud(t)}$`)}function cd(t){let e=`${ad}T${ud(t)}`,r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function sm(t,e){return!!((e==="v4"||!e)&&tm.test(t)||(e==="v6"||!e)&&rm.test(t))}var Dr=class t extends G{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==O.string){let o=this._getOrReturnCtx(e);return M(o,{code:w.invalid_type,expected:O.string,received:o.parsedType}),U}let n=new De,i;for(let o of this._def.checks)if(o.kind==="min")e.data.length<o.value&&(i=this._getOrReturnCtx(e,i),M(i,{code:w.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),n.dirty());else if(o.kind==="max")e.data.length>o.value&&(i=this._getOrReturnCtx(e,i),M(i,{code:w.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),n.dirty());else if(o.kind==="length"){let s=e.data.length>o.value,a=e.data.length<o.value;(s||a)&&(i=this._getOrReturnCtx(e,i),s?M(i,{code:w.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):a&&M(i,{code:w.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),n.dirty())}else if(o.kind==="email")Xh.test(e.data)||(i=this._getOrReturnCtx(e,i),M(i,{validation:"email",code:w.invalid_string,message:o.message}),n.dirty());else if(o.kind==="emoji")Wc||(Wc=new RegExp(em,"u")),Wc.test(e.data)||(i=this._getOrReturnCtx(e,i),M(i,{validation:"emoji",code:w.invalid_string,message:o.message}),n.dirty());else if(o.kind==="uuid")Yh.test(e.data)||(i=this._getOrReturnCtx(e,i),M(i,{validation:"uuid",code:w.invalid_string,message:o.message}),n.dirty());else if(o.kind==="nanoid")Kh.test(e.data)||(i=this._getOrReturnCtx(e,i),M(i,{validation:"nanoid",code:w.invalid_string,message:o.message}),n.dirty());else if(o.kind==="cuid")Jh.test(e.data)||(i=this._getOrReturnCtx(e,i),M(i,{validation:"cuid",code:w.invalid_string,message:o.message}),n.dirty());else if(o.kind==="cuid2")Hh.test(e.data)||(i=this._getOrReturnCtx(e,i),M(i,{validation:"cuid2",code:w.invalid_string,message:o.message}),n.dirty());else if(o.kind==="ulid")Gh.test(e.data)||(i=this._getOrReturnCtx(e,i),M(i,{validation:"ulid",code:w.invalid_string,message:o.message}),n.dirty());else if(o.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),M(i,{validation:"url",code:w.invalid_string,message:o.message}),n.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),M(i,{validation:"regex",code:w.invalid_string,message:o.message}),n.dirty())):o.kind==="trim"?e.data=e.data.trim():o.kind==="includes"?e.data.includes(o.value,o.position)||(i=this._getOrReturnCtx(e,i),M(i,{code:w.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),n.dirty()):o.kind==="toLowerCase"?e.data=e.data.toLowerCase():o.kind==="toUpperCase"?e.data=e.data.toUpperCase():o.kind==="startsWith"?e.data.startsWith(o.value)||(i=this._getOrReturnCtx(e,i),M(i,{code:w.invalid_string,validation:{startsWith:o.value},message:o.message}),n.dirty()):o.kind==="endsWith"?e.data.endsWith(o.value)||(i=this._getOrReturnCtx(e,i),M(i,{code:w.invalid_string,validation:{endsWith:o.value},message:o.message}),n.dirty()):o.kind==="datetime"?cd(o).test(e.data)||(i=this._getOrReturnCtx(e,i),M(i,{code:w.invalid_string,validation:"datetime",message:o.message}),n.dirty()):o.kind==="date"?im.test(e.data)||(i=this._getOrReturnCtx(e,i),M(i,{code:w.invalid_string,validation:"date",message:o.message}),n.dirty()):o.kind==="time"?om(o).test(e.data)||(i=this._getOrReturnCtx(e,i),M(i,{code:w.invalid_string,validation:"time",message:o.message}),n.dirty()):o.kind==="duration"?Qh.test(e.data)||(i=this._getOrReturnCtx(e,i),M(i,{validation:"duration",code:w.invalid_string,message:o.message}),n.dirty()):o.kind==="ip"?sm(e.data,o.version)||(i=this._getOrReturnCtx(e,i),M(i,{validation:"ip",code:w.invalid_string,message:o.message}),n.dirty()):o.kind==="base64"?nm.test(e.data)||(i=this._getOrReturnCtx(e,i),M(i,{validation:"base64",code:w.invalid_string,message:o.message}),n.dirty()):te.assertNever(o);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(i=>e.test(i),{validation:r,code:w.invalid_string,...j.errToObj(n)})}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...j.errToObj(e)})}url(e){return this._addCheck({kind:"url",...j.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...j.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...j.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...j.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...j.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...j.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...j.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...j.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...j.errToObj(e)})}datetime(e){var r,n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:(r=e?.offset)!==null&&r!==void 0?r:!1,local:(n=e?.local)!==null&&n!==void 0?n:!1,...j.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...j.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...j.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...j.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r?.position,...j.errToObj(r?.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...j.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...j.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...j.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...j.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...j.errToObj(r)})}nonempty(e){return this.min(1,j.errToObj(e))}trim(){return new t({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new t({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new t({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get minLength(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}};Dr.create=t=>{var e;return new Dr({checks:[],typeName:q.ZodString,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...H(t)})};function am(t,e){let r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,i=r>n?r:n,o=parseInt(t.toFixed(i).replace(".","")),s=parseInt(e.toFixed(i).replace(".",""));return o%s/Math.pow(10,i)}var _n=class t extends G{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==O.number){let o=this._getOrReturnCtx(e);return M(o,{code:w.invalid_type,expected:O.number,received:o.parsedType}),U}let n,i=new De;for(let o of this._def.checks)o.kind==="int"?te.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),M(n,{code:w.invalid_type,expected:"integer",received:"float",message:o.message}),i.dirty()):o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(n=this._getOrReturnCtx(e,n),M(n,{code:w.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(n=this._getOrReturnCtx(e,n),M(n,{code:w.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):o.kind==="multipleOf"?am(e.data,o.value)!==0&&(n=this._getOrReturnCtx(e,n),M(n,{code:w.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):o.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),M(n,{code:w.not_finite,message:o.message}),i.dirty()):te.assertNever(o);return{status:i.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,j.toString(r))}gt(e,r){return this.setLimit("min",e,!1,j.toString(r))}lte(e,r){return this.setLimit("max",e,!0,j.toString(r))}lt(e,r){return this.setLimit("max",e,!1,j.toString(r))}setLimit(e,r,n,i){return new t({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:j.toString(i)}]})}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:j.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:j.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:j.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:j.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:j.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:j.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:j.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:j.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:j.toString(e)})}get minValue(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&te.isInteger(e.value))}get isFinite(){let e=null,r=null;for(let n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}};_n.create=t=>new _n({checks:[],typeName:q.ZodNumber,coerce:t?.coerce||!1,...H(t)});var vn=class t extends G{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==O.bigint){let o=this._getOrReturnCtx(e);return M(o,{code:w.invalid_type,expected:O.bigint,received:o.parsedType}),U}let n,i=new De;for(let o of this._def.checks)o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(n=this._getOrReturnCtx(e,n),M(n,{code:w.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(n=this._getOrReturnCtx(e,n),M(n,{code:w.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):o.kind==="multipleOf"?e.data%o.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),M(n,{code:w.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):te.assertNever(o);return{status:i.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,j.toString(r))}gt(e,r){return this.setLimit("min",e,!1,j.toString(r))}lte(e,r){return this.setLimit("max",e,!0,j.toString(r))}lt(e,r){return this.setLimit("max",e,!1,j.toString(r))}setLimit(e,r,n,i){return new t({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:j.toString(i)}]})}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:j.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:j.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:j.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:j.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:j.toString(r)})}get minValue(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}};vn.create=t=>{var e;return new vn({checks:[],typeName:q.ZodBigInt,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...H(t)})};var gn=class extends G{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==O.boolean){let n=this._getOrReturnCtx(e);return M(n,{code:w.invalid_type,expected:O.boolean,received:n.parsedType}),U}return He(e.data)}};gn.create=t=>new gn({typeName:q.ZodBoolean,coerce:t?.coerce||!1,...H(t)});var xn=class t extends G{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==O.date){let o=this._getOrReturnCtx(e);return M(o,{code:w.invalid_type,expected:O.date,received:o.parsedType}),U}if(isNaN(e.data.getTime())){let o=this._getOrReturnCtx(e);return M(o,{code:w.invalid_date}),U}let n=new De,i;for(let o of this._def.checks)o.kind==="min"?e.data.getTime()<o.value&&(i=this._getOrReturnCtx(e,i),M(i,{code:w.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),n.dirty()):o.kind==="max"?e.data.getTime()>o.value&&(i=this._getOrReturnCtx(e,i),M(i,{code:w.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),n.dirty()):te.assertNever(o);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:j.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:j.toString(r)})}get minDate(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}};xn.create=t=>new xn({checks:[],coerce:t?.coerce||!1,typeName:q.ZodDate,...H(t)});var li=class extends G{_parse(e){if(this._getType(e)!==O.symbol){let n=this._getOrReturnCtx(e);return M(n,{code:w.invalid_type,expected:O.symbol,received:n.parsedType}),U}return He(e.data)}};li.create=t=>new li({typeName:q.ZodSymbol,...H(t)});var bn=class extends G{_parse(e){if(this._getType(e)!==O.undefined){let n=this._getOrReturnCtx(e);return M(n,{code:w.invalid_type,expected:O.undefined,received:n.parsedType}),U}return He(e.data)}};bn.create=t=>new bn({typeName:q.ZodUndefined,...H(t)});var wn=class extends G{_parse(e){if(this._getType(e)!==O.null){let n=this._getOrReturnCtx(e);return M(n,{code:w.invalid_type,expected:O.null,received:n.parsedType}),U}return He(e.data)}};wn.create=t=>new wn({typeName:q.ZodNull,...H(t)});var Fr=class extends G{constructor(){super(...arguments),this._any=!0}_parse(e){return He(e.data)}};Fr.create=t=>new Fr({typeName:q.ZodAny,...H(t)});var pr=class extends G{constructor(){super(...arguments),this._unknown=!0}_parse(e){return He(e.data)}};pr.create=t=>new pr({typeName:q.ZodUnknown,...H(t)});var Bt=class extends G{_parse(e){let r=this._getOrReturnCtx(e);return M(r,{code:w.invalid_type,expected:O.never,received:r.parsedType}),U}};Bt.create=t=>new Bt({typeName:q.ZodNever,...H(t)});var fi=class extends G{_parse(e){if(this._getType(e)!==O.undefined){let n=this._getOrReturnCtx(e);return M(n,{code:w.invalid_type,expected:O.void,received:n.parsedType}),U}return He(e.data)}};fi.create=t=>new fi({typeName:q.ZodVoid,...H(t)});var hr=class t extends G{_parse(e){let{ctx:r,status:n}=this._processInputParams(e),i=this._def;if(r.parsedType!==O.array)return M(r,{code:w.invalid_type,expected:O.array,received:r.parsedType}),U;if(i.exactLength!==null){let s=r.data.length>i.exactLength.value,a=r.data.length<i.exactLength.value;(s||a)&&(M(r,{code:s?w.too_big:w.too_small,minimum:a?i.exactLength.value:void 0,maximum:s?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(M(r,{code:w.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(M(r,{code:w.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((s,a)=>i.type._parseAsync(new $t(r,s,r.path,a)))).then(s=>De.mergeArray(n,s));let o=[...r.data].map((s,a)=>i.type._parseSync(new $t(r,s,r.path,a)));return De.mergeArray(n,o)}get element(){return this._def.type}min(e,r){return new t({...this._def,minLength:{value:e,message:j.toString(r)}})}max(e,r){return new t({...this._def,maxLength:{value:e,message:j.toString(r)}})}length(e,r){return new t({...this._def,exactLength:{value:e,message:j.toString(r)}})}nonempty(e){return this.min(1,e)}};hr.create=(t,e)=>new hr({type:t,minLength:null,maxLength:null,exactLength:null,typeName:q.ZodArray,...H(e)});function ai(t){if(t instanceof it){let e={};for(let r in t.shape){let n=t.shape[r];e[r]=St.create(ai(n))}return new it({...t._def,shape:()=>e})}else return t instanceof hr?new hr({...t._def,type:ai(t.element)}):t instanceof St?St.create(ai(t.unwrap())):t instanceof Qt?Qt.create(ai(t.unwrap())):t instanceof Kt?Kt.create(t.items.map(e=>ai(e))):t}var it=class t extends G{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let e=this._def.shape(),r=te.objectKeys(e);return this._cached={shape:e,keys:r}}_parse(e){if(this._getType(e)!==O.object){let c=this._getOrReturnCtx(e);return M(c,{code:w.invalid_type,expected:O.object,received:c.parsedType}),U}let{status:n,ctx:i}=this._processInputParams(e),{shape:o,keys:s}=this._getCached(),a=[];if(!(this._def.catchall instanceof Bt&&this._def.unknownKeys==="strip"))for(let c in i.data)s.includes(c)||a.push(c);let u=[];for(let c of s){let l=o[c],p=i.data[c];u.push({key:{status:"valid",value:c},value:l._parse(new $t(i,p,i.path,c)),alwaysSet:c in i.data})}if(this._def.catchall instanceof Bt){let c=this._def.unknownKeys;if(c==="passthrough")for(let l of a)u.push({key:{status:"valid",value:l},value:{status:"valid",value:i.data[l]}});else if(c==="strict")a.length>0&&(M(i,{code:w.unrecognized_keys,keys:a}),n.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let c=this._def.catchall;for(let l of a){let p=i.data[l];u.push({key:{status:"valid",value:l},value:c._parse(new $t(i,p,i.path,l)),alwaysSet:l in i.data})}}return i.common.async?Promise.resolve().then(async()=>{let c=[];for(let l of u){let p=await l.key,d=await l.value;c.push({key:p,value:d,alwaysSet:l.alwaysSet})}return c}).then(c=>De.mergeObjectSync(n,c)):De.mergeObjectSync(n,u)}get shape(){return this._def.shape()}strict(e){return j.errToObj,new t({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var i,o,s,a;let u=(s=(o=(i=this._def).errorMap)===null||o===void 0?void 0:o.call(i,r,n).message)!==null&&s!==void 0?s:n.defaultError;return r.code==="unrecognized_keys"?{message:(a=j.errToObj(e).message)!==null&&a!==void 0?a:u}:{message:u}}}:{}})}strip(){return new t({...this._def,unknownKeys:"strip"})}passthrough(){return new t({...this._def,unknownKeys:"passthrough"})}extend(e){return new t({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new t({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:q.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new t({...this._def,catchall:e})}pick(e){let r={};return te.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new t({...this._def,shape:()=>r})}omit(e){let r={};return te.objectKeys(this.shape).forEach(n=>{e[n]||(r[n]=this.shape[n])}),new t({...this._def,shape:()=>r})}deepPartial(){return ai(this)}partial(e){let r={};return te.objectKeys(this.shape).forEach(n=>{let i=this.shape[n];e&&!e[n]?r[n]=i:r[n]=i.optional()}),new t({...this._def,shape:()=>r})}required(e){let r={};return te.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])r[n]=this.shape[n];else{let o=this.shape[n];for(;o instanceof St;)o=o._def.innerType;r[n]=o}}),new t({...this._def,shape:()=>r})}keyof(){return ld(te.objectKeys(this.shape))}};it.create=(t,e)=>new it({shape:()=>t,unknownKeys:"strip",catchall:Bt.create(),typeName:q.ZodObject,...H(e)});it.strictCreate=(t,e)=>new it({shape:()=>t,unknownKeys:"strict",catchall:Bt.create(),typeName:q.ZodObject,...H(e)});it.lazycreate=(t,e)=>new it({shape:t,unknownKeys:"strip",catchall:Bt.create(),typeName:q.ZodObject,...H(e)});var En=class extends G{_parse(e){let{ctx:r}=this._processInputParams(e),n=this._def.options;function i(o){for(let a of o)if(a.result.status==="valid")return a.result;for(let a of o)if(a.result.status==="dirty")return r.common.issues.push(...a.ctx.common.issues),a.result;let s=o.map(a=>new ht(a.ctx.common.issues));return M(r,{code:w.invalid_union,unionErrors:s}),U}if(r.common.async)return Promise.all(n.map(async o=>{let s={...r,common:{...r.common,issues:[]},parent:null};return{result:await o._parseAsync({data:r.data,path:r.path,parent:s}),ctx:s}})).then(i);{let o,s=[];for(let u of n){let c={...r,common:{...r.common,issues:[]},parent:null},l=u._parseSync({data:r.data,path:r.path,parent:c});if(l.status==="valid")return l;l.status==="dirty"&&!o&&(o={result:l,ctx:c}),c.common.issues.length&&s.push(c.common.issues)}if(o)return r.common.issues.push(...o.ctx.common.issues),o.result;let a=s.map(u=>new ht(u));return M(r,{code:w.invalid_union,unionErrors:a}),U}}get options(){return this._def.options}};En.create=(t,e)=>new En({options:t,typeName:q.ZodUnion,...H(e)});var dr=t=>t instanceof Tn?dr(t.schema):t instanceof mt?dr(t.innerType()):t instanceof An?[t.value]:t instanceof In?t.options:t instanceof Sn?te.objectValues(t.enum):t instanceof $n?dr(t._def.innerType):t instanceof bn?[void 0]:t instanceof wn?[null]:t instanceof St?[void 0,...dr(t.unwrap())]:t instanceof Qt?[null,...dr(t.unwrap())]:t instanceof lo||t instanceof Mn?dr(t.unwrap()):t instanceof Pn?dr(t._def.innerType):[],ks=class t extends G{_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==O.object)return M(r,{code:w.invalid_type,expected:O.object,received:r.parsedType}),U;let n=this.discriminator,i=r.data[n],o=this.optionsMap.get(i);return o?r.common.async?o._parseAsync({data:r.data,path:r.path,parent:r}):o._parseSync({data:r.data,path:r.path,parent:r}):(M(r,{code:w.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),U)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,n){let i=new Map;for(let o of r){let s=dr(o.shape[e]);if(!s.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let a of s){if(i.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);i.set(a,o)}}return new t({typeName:q.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:i,...H(n)})}};function Yc(t,e){let r=jr(t),n=jr(e);if(t===e)return{valid:!0,data:t};if(r===O.object&&n===O.object){let i=te.objectKeys(e),o=te.objectKeys(t).filter(a=>i.indexOf(a)!==-1),s={...t,...e};for(let a of o){let u=Yc(t[a],e[a]);if(!u.valid)return{valid:!1};s[a]=u.data}return{valid:!0,data:s}}else if(r===O.array&&n===O.array){if(t.length!==e.length)return{valid:!1};let i=[];for(let o=0;o<t.length;o++){let s=t[o],a=e[o],u=Yc(s,a);if(!u.valid)return{valid:!1};i.push(u.data)}return{valid:!0,data:i}}else return r===O.date&&n===O.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}var kn=class extends G{_parse(e){let{status:r,ctx:n}=this._processInputParams(e),i=(o,s)=>{if(Hc(o)||Hc(s))return U;let a=Yc(o.value,s.value);return a.valid?((Gc(o)||Gc(s))&&r.dirty(),{status:r.value,value:a.data}):(M(n,{code:w.invalid_intersection_types}),U)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([o,s])=>i(o,s)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}};kn.create=(t,e,r)=>new kn({left:t,right:e,typeName:q.ZodIntersection,...H(r)});var Kt=class t extends G{_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==O.array)return M(n,{code:w.invalid_type,expected:O.array,received:n.parsedType}),U;if(n.data.length<this._def.items.length)return M(n,{code:w.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),U;!this._def.rest&&n.data.length>this._def.items.length&&(M(n,{code:w.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());let o=[...n.data].map((s,a)=>{let u=this._def.items[a]||this._def.rest;return u?u._parse(new $t(n,s,n.path,a)):null}).filter(s=>!!s);return n.common.async?Promise.all(o).then(s=>De.mergeArray(r,s)):De.mergeArray(r,o)}get items(){return this._def.items}rest(e){return new t({...this._def,rest:e})}};Kt.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Kt({items:t,typeName:q.ZodTuple,rest:null,...H(e)})};var Ts=class t extends G{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==O.object)return M(n,{code:w.invalid_type,expected:O.object,received:n.parsedType}),U;let i=[],o=this._def.keyType,s=this._def.valueType;for(let a in n.data)i.push({key:o._parse(new $t(n,a,n.path,a)),value:s._parse(new $t(n,n.data[a],n.path,a)),alwaysSet:a in n.data});return n.common.async?De.mergeObjectAsync(r,i):De.mergeObjectSync(r,i)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof G?new t({keyType:e,valueType:r,typeName:q.ZodRecord,...H(n)}):new t({keyType:Dr.create(),valueType:e,typeName:q.ZodRecord,...H(r)})}},di=class extends G{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==O.map)return M(n,{code:w.invalid_type,expected:O.map,received:n.parsedType}),U;let i=this._def.keyType,o=this._def.valueType,s=[...n.data.entries()].map(([a,u],c)=>({key:i._parse(new $t(n,a,n.path,[c,"key"])),value:o._parse(new $t(n,u,n.path,[c,"value"]))}));if(n.common.async){let a=new Map;return Promise.resolve().then(async()=>{for(let u of s){let c=await u.key,l=await u.value;if(c.status==="aborted"||l.status==="aborted")return U;(c.status==="dirty"||l.status==="dirty")&&r.dirty(),a.set(c.value,l.value)}return{status:r.value,value:a}})}else{let a=new Map;for(let u of s){let c=u.key,l=u.value;if(c.status==="aborted"||l.status==="aborted")return U;(c.status==="dirty"||l.status==="dirty")&&r.dirty(),a.set(c.value,l.value)}return{status:r.value,value:a}}}};di.create=(t,e,r)=>new di({valueType:e,keyType:t,typeName:q.ZodMap,...H(r)});var pi=class t extends G{_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==O.set)return M(n,{code:w.invalid_type,expected:O.set,received:n.parsedType}),U;let i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(M(n,{code:w.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(M(n,{code:w.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());let o=this._def.valueType;function s(u){let c=new Set;for(let l of u){if(l.status==="aborted")return U;l.status==="dirty"&&r.dirty(),c.add(l.value)}return{status:r.value,value:c}}let a=[...n.data.values()].map((u,c)=>o._parse(new $t(n,u,n.path,c)));return n.common.async?Promise.all(a).then(u=>s(u)):s(a)}min(e,r){return new t({...this._def,minSize:{value:e,message:j.toString(r)}})}max(e,r){return new t({...this._def,maxSize:{value:e,message:j.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}};pi.create=(t,e)=>new pi({valueType:t,minSize:null,maxSize:null,typeName:q.ZodSet,...H(e)});var As=class t extends G{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==O.function)return M(r,{code:w.invalid_type,expected:O.function,received:r.parsedType}),U;function n(a,u){return ws({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,bs(),ci].filter(c=>!!c),issueData:{code:w.invalid_arguments,argumentsError:u}})}function i(a,u){return ws({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,bs(),ci].filter(c=>!!c),issueData:{code:w.invalid_return_type,returnTypeError:u}})}let o={errorMap:r.common.contextualErrorMap},s=r.data;if(this._def.returns instanceof Br){let a=this;return He(async function(...u){let c=new ht([]),l=await a._def.args.parseAsync(u,o).catch(_=>{throw c.addIssue(n(u,_)),c}),p=await Reflect.apply(s,this,l);return await a._def.returns._def.type.parseAsync(p,o).catch(_=>{throw c.addIssue(i(p,_)),c})})}else{let a=this;return He(function(...u){let c=a._def.args.safeParse(u,o);if(!c.success)throw new ht([n(u,c.error)]);let l=Reflect.apply(s,this,c.data),p=a._def.returns.safeParse(l,o);if(!p.success)throw new ht([i(l,p.error)]);return p.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new t({...this._def,args:Kt.create(e).rest(pr.create())})}returns(e){return new t({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,n){return new t({args:e||Kt.create([]).rest(pr.create()),returns:r||pr.create(),typeName:q.ZodFunction,...H(n)})}},Tn=class extends G{get schema(){return this._def.getter()}_parse(e){let{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}};Tn.create=(t,e)=>new Tn({getter:t,typeName:q.ZodLazy,...H(e)});var An=class extends G{_parse(e){if(e.data!==this._def.value){let r=this._getOrReturnCtx(e);return M(r,{received:r.data,code:w.invalid_literal,expected:this._def.value}),U}return{status:"valid",value:e.data}}get value(){return this._def.value}};An.create=(t,e)=>new An({value:t,typeName:q.ZodLiteral,...H(e)});function ld(t,e){return new In({values:t,typeName:q.ZodEnum,...H(e)})}var In=class t extends G{constructor(){super(...arguments),so.set(this,void 0)}_parse(e){if(typeof e.data!="string"){let r=this._getOrReturnCtx(e),n=this._def.values;return M(r,{expected:te.joinValues(n),received:r.parsedType,code:w.invalid_type}),U}if(Es(this,so,"f")||sd(this,so,new Set(this._def.values),"f"),!Es(this,so,"f").has(e.data)){let r=this._getOrReturnCtx(e),n=this._def.values;return M(r,{received:r.data,code:w.invalid_enum_value,options:n}),U}return He(e.data)}get options(){return this._def.values}get enum(){let e={};for(let r of this._def.values)e[r]=r;return e}get Values(){let e={};for(let r of this._def.values)e[r]=r;return e}get Enum(){let e={};for(let r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return t.create(e,{...this._def,...r})}exclude(e,r=this._def){return t.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}};so=new WeakMap;In.create=ld;var Sn=class extends G{constructor(){super(...arguments),ao.set(this,void 0)}_parse(e){let r=te.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==O.string&&n.parsedType!==O.number){let i=te.objectValues(r);return M(n,{expected:te.joinValues(i),received:n.parsedType,code:w.invalid_type}),U}if(Es(this,ao,"f")||sd(this,ao,new Set(te.getValidEnumValues(this._def.values)),"f"),!Es(this,ao,"f").has(e.data)){let i=te.objectValues(r);return M(n,{received:n.data,code:w.invalid_enum_value,options:i}),U}return He(e.data)}get enum(){return this._def.values}};ao=new WeakMap;Sn.create=(t,e)=>new Sn({values:t,typeName:q.ZodNativeEnum,...H(e)});var Br=class extends G{unwrap(){return this._def.type}_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==O.promise&&r.common.async===!1)return M(r,{code:w.invalid_type,expected:O.promise,received:r.parsedType}),U;let n=r.parsedType===O.promise?r.data:Promise.resolve(r.data);return He(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}};Br.create=(t,e)=>new Br({type:t,typeName:q.ZodPromise,...H(e)});var mt=class extends G{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===q.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:r,ctx:n}=this._processInputParams(e),i=this._def.effect||null,o={addIssue:s=>{M(n,s),s.fatal?r.abort():r.dirty()},get path(){return n.path}};if(o.addIssue=o.addIssue.bind(o),i.type==="preprocess"){let s=i.transform(n.data,o);if(n.common.async)return Promise.resolve(s).then(async a=>{if(r.value==="aborted")return U;let u=await this._def.schema._parseAsync({data:a,path:n.path,parent:n});return u.status==="aborted"?U:u.status==="dirty"||r.value==="dirty"?ui(u.value):u});{if(r.value==="aborted")return U;let a=this._def.schema._parseSync({data:s,path:n.path,parent:n});return a.status==="aborted"?U:a.status==="dirty"||r.value==="dirty"?ui(a.value):a}}if(i.type==="refinement"){let s=a=>{let u=i.refinement(a,o);if(n.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(n.common.async===!1){let a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?U:(a.status==="dirty"&&r.dirty(),s(a.value),{status:r.value,value:a.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>a.status==="aborted"?U:(a.status==="dirty"&&r.dirty(),s(a.value).then(()=>({status:r.value,value:a.value}))))}if(i.type==="transform")if(n.common.async===!1){let s=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!uo(s))return s;let a=i.transform(s.value,o);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:a}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(s=>uo(s)?Promise.resolve(i.transform(s.value,o)).then(a=>({status:r.value,value:a})):s);te.assertNever(i)}};mt.create=(t,e,r)=>new mt({schema:t,typeName:q.ZodEffects,effect:e,...H(r)});mt.createWithPreprocess=(t,e,r)=>new mt({schema:e,effect:{type:"preprocess",transform:t},typeName:q.ZodEffects,...H(r)});var St=class extends G{_parse(e){return this._getType(e)===O.undefined?He(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};St.create=(t,e)=>new St({innerType:t,typeName:q.ZodOptional,...H(e)});var Qt=class extends G{_parse(e){return this._getType(e)===O.null?He(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};Qt.create=(t,e)=>new Qt({innerType:t,typeName:q.ZodNullable,...H(e)});var $n=class extends G{_parse(e){let{ctx:r}=this._processInputParams(e),n=r.data;return r.parsedType===O.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}};$n.create=(t,e)=>new $n({innerType:t,typeName:q.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...H(e)});var Pn=class extends G{_parse(e){let{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return co(i)?i.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new ht(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new ht(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}};Pn.create=(t,e)=>new Pn({innerType:t,typeName:q.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...H(e)});var hi=class extends G{_parse(e){if(this._getType(e)!==O.nan){let n=this._getOrReturnCtx(e);return M(n,{code:w.invalid_type,expected:O.nan,received:n.parsedType}),U}return{status:"valid",value:e.data}}};hi.create=t=>new hi({typeName:q.ZodNaN,...H(t)});var um=Symbol("zod_brand"),lo=class extends G{_parse(e){let{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}},fo=class t extends G{_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{let o=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?U:o.status==="dirty"?(r.dirty(),ui(o.value)):this._def.out._parseAsync({data:o.value,path:n.path,parent:n})})();{let i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?U:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(e,r){return new t({in:e,out:r,typeName:q.ZodPipeline})}},Mn=class extends G{_parse(e){let r=this._def.innerType._parse(e),n=i=>(uo(i)&&(i.value=Object.freeze(i.value)),i);return co(r)?r.then(i=>n(i)):n(r)}unwrap(){return this._def.innerType}};Mn.create=(t,e)=>new Mn({innerType:t,typeName:q.ZodReadonly,...H(e)});function fd(t,e={},r){return t?Fr.create().superRefine((n,i)=>{var o,s;if(!t(n)){let a=typeof e=="function"?e(n):typeof e=="string"?{message:e}:e,u=(s=(o=a.fatal)!==null&&o!==void 0?o:r)!==null&&s!==void 0?s:!0,c=typeof a=="string"?{message:a}:a;i.addIssue({code:"custom",...c,fatal:u})}}):Fr.create()}var cm={object:it.lazycreate},q;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(q||(q={}));var lm=(t,e={message:`Input not instance of ${t.name}`})=>fd(r=>r instanceof t,e),dd=Dr.create,pd=_n.create,fm=hi.create,dm=vn.create,hd=gn.create,pm=xn.create,hm=li.create,mm=bn.create,ym=wn.create,_m=Fr.create,vm=pr.create,gm=Bt.create,xm=fi.create,bm=hr.create,wm=it.create,Em=it.strictCreate,km=En.create,Tm=ks.create,Am=kn.create,Im=Kt.create,Sm=Ts.create,$m=di.create,Pm=pi.create,Mm=As.create,Cm=Tn.create,Om=An.create,Rm=In.create,Nm=Sn.create,Lm=Br.create,id=mt.create,jm=St.create,Dm=Qt.create,Fm=mt.createWithPreprocess,Bm=fo.create,zm=()=>dd().optional(),Vm=()=>pd().optional(),qm=()=>hd().optional(),Um={string:t=>Dr.create({...t,coerce:!0}),number:t=>_n.create({...t,coerce:!0}),boolean:t=>gn.create({...t,coerce:!0}),bigint:t=>vn.create({...t,coerce:!0}),date:t=>xn.create({...t,coerce:!0})},Zm=U,m=Object.freeze({__proto__:null,defaultErrorMap:ci,setErrorMap:Zh,getErrorMap:bs,makeIssue:ws,EMPTY_PATH:Wh,addIssueToContext:M,ParseStatus:De,INVALID:U,DIRTY:ui,OK:He,isAborted:Hc,isDirty:Gc,isValid:uo,isAsync:co,get util(){return te},get objectUtil(){return Jc},ZodParsedType:O,getParsedType:jr,ZodType:G,datetimeRegex:cd,ZodString:Dr,ZodNumber:_n,ZodBigInt:vn,ZodBoolean:gn,ZodDate:xn,ZodSymbol:li,ZodUndefined:bn,ZodNull:wn,ZodAny:Fr,ZodUnknown:pr,ZodNever:Bt,ZodVoid:fi,ZodArray:hr,ZodObject:it,ZodUnion:En,ZodDiscriminatedUnion:ks,ZodIntersection:kn,ZodTuple:Kt,ZodRecord:Ts,ZodMap:di,ZodSet:pi,ZodFunction:As,ZodLazy:Tn,ZodLiteral:An,ZodEnum:In,ZodNativeEnum:Sn,ZodPromise:Br,ZodEffects:mt,ZodTransformer:mt,ZodOptional:St,ZodNullable:Qt,ZodDefault:$n,ZodCatch:Pn,ZodNaN:hi,BRAND:um,ZodBranded:lo,ZodPipeline:fo,ZodReadonly:Mn,custom:fd,Schema:G,ZodSchema:G,late:cm,get ZodFirstPartyTypeKind(){return q},coerce:Um,any:_m,array:bm,bigint:dm,boolean:hd,date:pm,discriminatedUnion:Tm,effect:id,enum:Rm,function:Mm,instanceof:lm,intersection:Am,lazy:Cm,literal:Om,map:$m,nan:fm,nativeEnum:Nm,never:gm,null:ym,nullable:Dm,number:pd,object:wm,oboolean:qm,onumber:Vm,optional:jm,ostring:zm,pipeline:Bm,preprocess:Fm,promise:Lm,record:Sm,set:Pm,strictObject:Em,string:dd,symbol:hm,transformer:id,tuple:Im,undefined:mm,union:km,unknown:vm,void:xm,NEVER:Zm,ZodIssueCode:w,quotelessJson:Uh,ZodError:ht});function ve(){return function(t){return t}}function L(t,e){let r=t.safeParse(e);if(!r.success)throw new xs({errorLevel:"CRITICAL",effect:"Failed to run function due to invalid arguments. Check that the arguments that you are passing to the function match the type definition of the function.",cause:r.error})}var Is=class{htmlElement;voidFunction;component;tFile;cachedMetadata;block;jsExecutionContext;engineExecutionParams;engineExecutionParamsNoCode;engineExecutionParamsNoCodeAndComponent;jsExecutionGlobalsConstructionOptions;abstractMarkdownElement;messageType;buttonStyleType;buttonPromptButtonOptions;buttonModalPromptOptions;confirmPromptOptions;yesNoPromptOptions;suggesterOption;suggesterPromptOptions;inputPromptOptions;numberInputPromptOptions;constructor(){this.htmlElement=ve()(m.instanceof(HTMLElement)),this.voidFunction=ve()(m.function().args().returns(m.void())),this.component=ve()(m.instanceof(Ss.Component)),this.tFile=ve()(m.instanceof(Ss.TFile)),this.cachedMetadata=ve()(m.record(m.unknown())),this.block=ve()(m.object({from:m.number(),to:m.number()})),this.jsExecutionContext=ve()(m.object({file:this.tFile.optional(),metadata:this.cachedMetadata.optional(),block:this.block.optional()})),this.engineExecutionParams=ve()(m.object({code:m.string(),component:this.component,container:this.htmlElement.optional(),context:this.jsExecutionContext.optional(),contextOverrides:m.record(m.unknown()).optional()})),this.engineExecutionParamsNoCode=ve()(m.object({component:this.component,container:this.htmlElement.optional(),context:this.jsExecutionContext.optional(),contextOverrides:m.record(m.unknown()).optional()})),this.engineExecutionParamsNoCodeAndComponent=ve()(m.object({container:this.htmlElement.optional(),context:this.jsExecutionContext.optional(),contextOverrides:m.record(m.unknown()).optional()})),this.jsExecutionGlobalsConstructionOptions=ve()(m.object({engine:m.instanceof(Vr).optional(),component:this.component,context:m.record(m.unknown()),container:this.htmlElement.optional()})),this.abstractMarkdownElement=ve()(m.instanceof(zr)),this.messageType=ve()(m.nativeEnum(oo)),this.buttonStyleType=ve()(m.nativeEnum(Nr)),this.buttonPromptButtonOptions=ve()(m.object({label:m.string(),value:m.unknown(),variant:this.buttonStyleType.optional()})),this.buttonModalPromptOptions=ve()(m.object({title:m.string(),classes:m.string().array().optional(),content:m.string().optional(),buttons:this.buttonPromptButtonOptions.array()})),this.confirmPromptOptions=ve()(m.object({title:m.string(),classes:m.string().array().optional(),content:m.string().optional()})),this.yesNoPromptOptions=ve()(m.object({title:m.string(),classes:m.string().array().optional(),content:m.string().optional()})),this.suggesterOption=ve()(m.object({value:m.unknown(),label:m.string()})),this.suggesterPromptOptions=ve()(m.object({placeholder:m.string().optional(),options:this.suggesterOption.array()})),this.inputPromptOptions=ve()(m.object({title:m.string(),classes:m.string().array().optional(),content:m.string().optional(),placeholder:m.string().optional(),initialValue:m.string().optional()})),this.numberInputPromptOptions=ve()(m.object({title:m.string(),classes:m.string().array().optional(),content:m.string().optional(),placeholder:m.string().optional(),initialValue:m.number().optional()}))}};var md=require("obsidian");var mr=class{content;apiInstance;constructor(e,r){this.apiInstance=e,this.content=r}async render(e,r,n,i){L(m.object({app:m.object({}),element:this.apiInstance.validators.htmlElement,sourcePath:m.string(),component:this.apiInstance.validators.component}),{app:e,element:r,sourcePath:n,component:i}),await md.MarkdownRenderer.render(e,this.content,r,n,i)}};var zr=class{apiInstance;constructor(e){this.apiInstance=e}toMarkdown(){return new mr(this.apiInstance,this.toString())}};var mi=class extends zr{getType(){return"LITERAL"}};var Xt=class extends zr{markdownElements;constructor(e){super(e),this.markdownElements=[]}getType(){return"NON_LITERAL"}addElement(e){if(L(m.object({element:this.apiInstance.validators.abstractMarkdownElement}),{element:e}),this.allowElement(e))this.markdownElements.push(e);else throw new Error("Element not allowed in container.")}addText(e){L(m.object({text:m.string()}),{text:e});let r=new yt(this.apiInstance,e,!1,!1,!1,!1);return this.addElement(r),this}addBoldText(e){L(m.object({text:m.string()}),{text:e});let r=new yt(this.apiInstance,e,!0,!1,!1,!1);return this.addElement(r),this}addCursiveText(e){L(m.object({text:m.string()}),{text:e});let r=new yt(this.apiInstance,e,!1,!0,!1,!1);return this.addElement(r),this}addUnderlinedText(e){L(m.object({text:m.string()}),{text:e});let r=new yt(this.apiInstance,e,!1,!1,!0,!1);return this.addElement(r),this}addHighlightedText(e){L(m.object({text:m.string()}),{text:e});let r=new yt(this.apiInstance,e,!1,!1,!1,!0);return this.addElement(r),this}addCode(e){L(m.object({text:m.string()}),{text:e});let r=new po(this.apiInstance,e);return this.addElement(r),this}createParagraph(e){L(m.object({content:m.string()}),{content:e});let r=new yo(this.apiInstance,e);return this.addElement(r),r}createHeading(e,r){L(m.object({level:m.number(),content:m.string()}),{level:e,content:r});let n=new mo(this.apiInstance,e,r);return this.addElement(n),n}createBlockQuote(){let e=new vo(this.apiInstance);return this.addElement(e),e}createCallout(e,r,n=""){L(m.object({title:m.string(),type:m.string(),args:m.string()}),{title:e,type:r,args:n});let i=new Cn(this.apiInstance,e,r,n,!1,!1);return this.addElement(i),i}createCollapsibleCallout(e,r,n="",i=!1){L(m.object({title:m.string(),type:m.string(),args:m.string(),collapsed:m.boolean()}),{title:e,type:r,args:n,collapsed:i});let o=new Cn(this.apiInstance,e,r,n,!0,i);return this.addElement(o),o}createCodeBlock(e,r){L(m.object({language:m.string(),content:m.string()}),{language:e,content:r});let n=new _o(this.apiInstance,e,r);return this.addElement(n),n}createTable(e,r){L(m.object({header:m.array(m.string()),body:m.array(m.array(m.string()))}),{header:e,body:r});let n=new ho(this.apiInstance,e,r);return this.addElement(n),n}createList(e=!1){L(m.object({ordered:m.boolean()}),{ordered:e});let r=new On(this.apiInstance,e);return this.addElement(r),r}createOrderedList(){let e=new On(this.apiInstance,!0);return this.addElement(e),e}},yt=class extends mi{content;bold;cursive;underline;highlight;constructor(e,r,n,i,o,s){super(e),this.content=r,this.bold=n,this.cursive=i,this.underline=o,this.highlight=s}toString(){let e="",r="";return this.underline&&(e+="<u>",r="</u>"+r),this.bold&&(e+="**",r="**"+r),this.cursive&&(e+="*",r="*"+r),this.highlight&&(e+="==",r="=="+r),e+this.content+r}},po=class extends mi{content;constructor(e,r){super(e),this.content=r}toString(){return`\`${this.content}\``}},ho=class extends mi{header;body;constructor(e,r,n){super(e),this.header=r,this.body=n}toString(){let e=this.body.length;if(e===0)return"";let r=this.header.length;if(r===0)return"";for(let o of this.body)if(o.length!==r)throw new Error("Table rows are do not contain the same number of columns.");let n=[];for(let o=0;o<r;o++){let s=0;this.header[o].length>s&&(s=this.header[o].length);for(let a of this.body)a[o].length>s&&(s=a[o].length);n.push(s)}let i="";i+="|";for(let o=0;o<r;o++){let s=this.header[o];s+=" ".repeat(n[o]-s.length),i+=" "+s+" |"}i+=`
`,i+="|";for(let o=0;o<r;o++)i+=" "+"-".repeat(n[o])+" |";i+=`
`;for(let o=0;o<e;o++){i+="|";for(let s=0;s<r;s++){let a=this.body[o][s];a+=" ".repeat(n[s]-a.length),i+=" "+a+" |"}i+=`
`}return i}},mo=class extends Xt{level;constructor(e,r,n){super(e),this.level=r,this.addText(n)}toString(){return`${"#".repeat(this.level)} ${this.markdownElements.map(e=>e.toString()).join("")}`}allowElement(e){return e.getType()==="LITERAL"}},yo=class extends Xt{constructor(e,r){super(e),this.addText(r)}toString(){return this.markdownElements.map(e=>e.toString()).join("")}allowElement(e){return e.getType()==="LITERAL"}},_o=class extends Xt{language;constructor(e,r,n){super(e),this.language=r,this.addText(n)}toString(){return`\`\`\`${this.language}
${this.markdownElements.map(e=>e.toString()).join("")}
\`\`\``}allowElement(e){return e.getType()==="LITERAL"}},vo=class extends Xt{toString(){return"> "+this.markdownElements.map(e=>e.toString().replaceAll(`
`,`
> `)).join(`
> 
> `)}allowElement(e){return!0}},Cn=class extends Xt{title;type;args;collapsible;collapsed;constructor(e,r,n,i,o=!1,s=!1){super(e),this.title=r,this.type=n,this.args=i,this.collapsible=o,this.collapsed=s}toString(){return`> [!${this.type}|${this.args}]${this.collapseChar()} ${this.title}
> `+this.markdownElements.map(e=>e.toString().replaceAll(`
`,`
> `)).join(`
> 
> `)}collapseChar(){return this.collapsible?this.collapsed?"-":"+":""}allowElement(e){return!0}},On=class t extends Xt{ordered;constructor(e,r){super(e),this.ordered=r}getPrefix(e){return this.ordered?`${e+1}. `:"- "}toString(){return this.markdownElements.map((e,r)=>e instanceof t?`	${e.toString().replaceAll(`
`,`
	`)}`:`${this.getPrefix(r)}${e.toString().replaceAll(`
`,`
	`)}`).join(`
`)}allowElement(e){return!0}};var Rn=class extends Xt{constructor(e){super(e)}toString(){return this.markdownElements.map(e=>e.toString()).join(`

`)}allowElement(e){return!0}};var yi=class{apiInstance;_render;initialArgs;renderer;constructor(e,r,n){this.apiInstance=e,this._render=r,this.initialArgs=n}async refresh(...e){let r;try{r=await this._render(...e)}catch(n){console.warn("failed to execute JS",n),n instanceof Error&&(r=this.apiInstance.message.createMessage("error","Failed to execute JS",`Failed to execute JS during reactive execution in execution "${this.apiInstance.instanceId.id}"`,n.stack))}this.renderer?.render(r)}initialRender(){this.refresh(...this.initialArgs)}setRenderer(e){this.renderer=e}};var _i=class{plugin;container;sourcePath;component;constructor(e,r,n,i){this.plugin=e,this.container=r,this.sourcePath=n,this.component=i}async render(e){if(e!=null){if(this.container.empty(),typeof e=="string"){this.container.innerText=e;return}if(e instanceof Rn&&(e=e.toMarkdown()),e instanceof mr){await e.render(this.plugin.app,this.container,this.sourcePath,this.component);return}if(e instanceof HTMLElement){this.container.append(e);return}if(e instanceof si){let r=Je(yn,{target:this.container,props:{messageWrapper:e,messageManager:this.plugin.messageManager,showDeleteButton:!1,showMessageSource:!1}});this.component.register(()=>{pt(r)});return}if(e instanceof yi){e.setRenderer(this),e.initialRender();return}this.container.innerText=JSON.stringify(e)}}convertToSimpleObject(e){return e instanceof Rn?e.toMarkdown().content:e instanceof mr?e.content:e instanceof HTMLElement?e.outerHTML:e instanceof si?e.message:e}};var go=require("obsidian"),Jm=Ar(require("obsidian"));var $s=class{apiInstance;constructor(e){this.apiInstance=e}async execute(e){return L(m.object({params:this.apiInstance.validators.engineExecutionParams}),{params:e}),await this.apiInstance.plugin.jsEngine.execute(e)}createRenderer(e,r,n){return L(m.object({container:this.apiInstance.validators.htmlElement,sourcePath:m.string(),component:this.apiInstance.validators.component}),{container:e,sourcePath:r,component:n}),new _i(this.apiInstance.plugin,e,r,n)}async executeFile(e,r){L(m.object({path:m.string(),params:this.apiInstance.validators.engineExecutionParamsNoCode}),{path:e,params:r});let n=this.apiInstance.app.vault.getAbstractFileByPath(e);if(!n||!(n instanceof go.TFile))throw new Error(`File ${e} not found.`);let i=r;return i.code=await this.apiInstance.app.vault.read(n),await this.execute(i)}async executeFileSimple(e,r){L(m.object({path:m.string(),params:this.apiInstance.validators.engineExecutionParamsNoCodeAndComponent.optional()}),{path:e,params:r});let n=new go.Component;n.load();try{return await this.executeFile(e,{component:n,...r})}finally{n.unload()}}async getContextForFile(e){L(m.object({path:m.string()}),{path:e});let r=this.apiInstance.app.vault.getAbstractFileByPath(e);if(!r||!(r instanceof go.TFile))throw new Error(`File ${e} not found.`);let n=this.apiInstance.app.metadataCache.getFileCache(r);return{file:r,metadata:n??void 0,block:void 0}}createExecutionGlobals(e){return L(m.object({options:this.apiInstance.validators.jsExecutionGlobalsConstructionOptions}),{options:e}),{app:this.apiInstance.app,engine:e.engine??this.apiInstance,component:e.component,context:e.context,container:e.container,obsidian:Jm}}};var Sd=Ar(xo()),$d=Ar(el()),Su=Ar(ol()),Pd=Ar(nl()),Md=Ar(bo());var pl={};$l(pl,{AsyncStream:()=>Au,InvalidArgumentError:()=>le,LengthError:()=>st,Stream:()=>qr,infinite:()=>br,math:()=>iy,multi:()=>oy,reduce:()=>Bs,set:()=>sy,single:()=>xi,summary:()=>ay,transform:()=>uy});var le=class extends Error{},st=class extends Error{};var Nn=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{c(n.next(l))}catch(p){s(p)}}function u(l){try{c(n.throw(l))}catch(p){s(p)}}function c(l){l.done?o(l.value):i(l.value).then(a,u)}c((n=n.apply(t,e||[])).next())})},er=function(t){return this instanceof er?(this.v=t,this):new er(t)},_d=function(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(d){n[d]&&(i[d]=function(_){return new Promise(function(v,E){o.push([d,_,v,E])>1||a(d,_)})})}function a(d,_){try{u(n[d](_))}catch(v){p(o[0][3],v)}}function u(d){d.value instanceof er?Promise.resolve(d.value.v).then(c,l):p(o[0][2],d)}function c(d){a("next",d)}function l(d){a("throw",d)}function p(d,_){d(_),o.shift(),o.length&&a(o[0][0],o[0][1])}},ke;(function(t){t[t.SHORTEST=0]="SHORTEST",t[t.LONGEST=1]="LONGEST",t[t.STRICT_EQUAL=2]="STRICT_EQUAL"})(ke||(ke={}));function*Ur(t,e,...r){if(r.length===0)return;let n=[];for(let i of r)n.push(wo(i));e:for(;;){let i=xi.map(n,u=>u.next()),o=[],s=!0,a=!1;for(let u of i){let c;u.done?(s=!1,c=e):(a=!0,c=u.value),o.push(c)}if(!s&&a)switch(t){case ke.SHORTEST:break e;case ke.STRICT_EQUAL:throw new st("Iterators must have equal lengths")}if(!a)break;yield o}}function Zr(t,e,...r){return _d(this,arguments,function*(){if(r.length===0)return yield er(void 0);let i=[];for(let o of r)i.push(Eo(o));e:for(;;){let o=[];for(let c of i){let l=yield er(c.next());o.push(l)}let s=[],a=!0,u=!1;for(let c of o){let l;c.done?(a=!1,l=e):(u=!0,l=c.value),s.push(l)}if(!a&&u)switch(t){case ke.SHORTEST:break e;case ke.STRICT_EQUAL:throw new st("Iterators must have equal lengths")}if(!u)break;yield yield er(s)}})}var Ln=class{constructor(){this.addedMap=new Map,this.deletedMap=new Map}addUsage(e,r){this.addedMap.has(e)||this.addedMap.set(e,new Map);let n=this.addedMap.get(e);n.has(r)||n.set(r,0),n.set(r,n.get(r)+1)}deleteUsage(e){this.deletedMap.has(e)?this.deletedMap.set(e,this.deletedMap.get(e)+1):this.deletedMap.set(e,1)}getOwnersCount(e){var r,n;let i=(r=this.deletedMap.get(e))!==null&&r!==void 0?r:0;return qr.of((n=this.addedMap.get(e))!==null&&n!==void 0?n:new Map).map(o=>o[1]).filter(o=>o>i).toValue(o=>o+1,0)}getUsagesCount(e,r=1){var n,i;let o=(n=this.deletedMap.get(e))!==null&&n!==void 0?n:0,s=qr.of((i=this.addedMap.get(e))!==null&&i!==void 0?i:new Map).map(a=>a[1]).map(a=>a-o).filter(a=>a>0).toArray();for(;s.length>r;){let a=Bs.toMin(s);s=qr.of(s).map(u=>u-a).filter(u=>u>0).toArray()}return Bs.toSum(s)}},Te=class{},Ds=class{constructor(e,r){this.related=[],this.positions=[],this.cache=new Map,this.lastCacheIndex=0,this.isValid=!0,this.iterator=e;for(let n=0;n<r;++n)this.related.push(new ul(this,n)),this.positions.push(0);this.cacheNextValue()}current(e){let r=this.getPosition(e);return this.cache.get(r)}next(e){let[r,n,i]=[this.getPosition(e),Math.min(...this.positions),Math.max(...this.positions)];r===i&&this.cacheNextValue(),this.positions[e.getId()]++,n<Math.min(...this.positions)&&this.cache.delete(n)}valid(e){return this.getPosition(e)<this.lastCacheIndex||this.isValid}getRelatedIterables(){return this.related}cacheNextValue(){let e=this.iterator.next();e.done||this.cache.set(this.lastCacheIndex++,e.value),this.isValid=!e.done}getPosition(e){return this.positions[e.getId()]}},ul=class{constructor(e,r){this.parent=e,this.id=r}getId(){return this.id}valid(){return this.parent.valid(this)}next(){let e={value:this.current(),done:!this.valid()};return e.done||this.parent.next(this),e}current(){return this.parent.valid(this)?this.parent.current(this):void 0}*[Symbol.iterator](){for(;this.parent.valid(this);)yield this.parent.current(this),this.parent.next(this)}},Fs=class{constructor(e,r){this.related=[],this.positions=[],this.cache=new Map,this.lastCacheIndex=0,this.isValid=!0,this.isFirstIteration=!0,this.iterator=e;for(let n=0;n<r;++n)this.related.push(new cl(this,n)),this.positions.push(0)}current(e){return Nn(this,void 0,void 0,function*(){this.isFirstIteration&&(yield this.cacheNextValue());let r=this.getPosition(e);return this.cache.get(r)})}next(e){return Nn(this,void 0,void 0,function*(){let[r,n,i]=[this.getPosition(e),Math.min(...this.positions),Math.max(...this.positions)];r===i&&(yield this.cacheNextValue()),this.positions[e.getId()]++,n<Math.min(...this.positions)&&this.cache.delete(n)})}valid(e){return Nn(this,void 0,void 0,function*(){return this.isFirstIteration&&(yield this.cacheNextValue()),this.getPosition(e)<this.lastCacheIndex||this.isValid})}getRelatedIterables(){return this.related}cacheNextValue(){return Nn(this,void 0,void 0,function*(){let e=yield this.iterator.next();e.done||this.cache.set(this.lastCacheIndex++,e.value),this.isFirstIteration=!1,this.isValid=!e.done})}getPosition(e){return this.positions[e.getId()]}},cl=class{constructor(e,r){this.parent=e,this.id=r}getId(){return this.id}valid(){return Nn(this,void 0,void 0,function*(){return yield this.parent.valid(this)})}next(){return Nn(this,void 0,void 0,function*(){let e={value:yield this.current(),done:!(yield this.valid())};return e.done||(yield this.parent.next(this)),e})}current(){return Nn(this,void 0,void 0,function*(){return(yield this.parent.valid(this))?yield this.parent.current(this):void 0})}[Symbol.asyncIterator](){return _d(this,arguments,function*(){for(;yield er(this.parent.valid(this));)yield yield er(yield er(this.parent.current(this))),yield er(this.parent.next(this))})}};var ko=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof __values=="function"?__values(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=t[o]&&function(s){return new Promise(function(a,u){s=t[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(c){o({value:c,done:a})},s)}},$e=function(t){return this instanceof $e?(this.v=t,this):new $e(t)},To=function(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(d){n[d]&&(i[d]=function(_){return new Promise(function(v,E){o.push([d,_,v,E])>1||a(d,_)})})}function a(d,_){try{u(n[d](_))}catch(v){p(o[0][3],v)}}function u(d){d.value instanceof $e?Promise.resolve(d.value.v).then(c,l):p(o[0][2],d)}function c(d){a("next",d)}function l(d){a("throw",d)}function p(d,_){d(_),o.shift(),o.length&&a(o[0][0],o[0][1])}};function*bi(...t){for(let e of Ur(ke.SHORTEST,void 0,...t))yield e}function wi(...t){return To(this,arguments,function*(){var r,n,i,o;try{for(var s=!0,a=ko(Zr(ke.SHORTEST,void 0,...t)),u;u=yield $e(a.next()),r=u.done,!r;){o=u.value,s=!1;try{yield yield $e(o)}finally{s=!0}}}catch(c){n={error:c}}finally{try{!s&&!r&&(i=a.return)&&(yield $e(i.call(a)))}finally{if(n)throw n.error}}})}function*zs(t,...e){for(let r of Ur(ke.LONGEST,t,...e))yield r}function Vs(t,...e){return To(this,arguments,function*(){var n,i,o,s;try{for(var a=!0,u=ko(Zr(ke.LONGEST,t,...e)),c;c=yield $e(u.next()),n=c.done,!n;){s=c.value,a=!1;try{yield yield $e(s)}finally{a=!0}}}catch(l){i={error:l}}finally{try{!a&&!n&&(o=u.return)&&(yield $e(o.call(u)))}finally{if(i)throw i.error}}})}function*qs(...t){for(let e of Ur(ke.LONGEST,void 0,...t))yield e}function Us(...t){return To(this,arguments,function*(){var r,n,i,o;try{for(var s=!0,a=ko(Zr(ke.LONGEST,void 0,...t)),u;u=yield $e(a.next()),r=u.done,!r;){o=u.value,s=!1;try{yield yield $e(o)}finally{s=!0}}}catch(c){n={error:c}}finally{try{!s&&!r&&(i=a.return)&&(yield $e(i.call(a)))}finally{if(n)throw n.error}}})}function*Ei(...t){for(let e of Ur(ke.STRICT_EQUAL,void 0,...t))yield e}function ki(...t){return To(this,arguments,function*(){var r,n,i,o;try{for(var s=!0,a=ko(Zr(ke.STRICT_EQUAL,void 0,...t)),u;u=yield $e(a.next()),r=u.done,!r;){o=u.value,s=!1;try{yield yield $e(o)}finally{s=!0}}}catch(c){n={error:c}}finally{try{!s&&!r&&(i=a.return)&&(yield $e(i.call(a)))}finally{if(n)throw n.error}}})}function*Zs(...t){for(let e of t)for(let r of B(e))yield r}function Ws(...t){return To(this,arguments,function*(){var r,n,i,o;for(let c of t)try{for(var s=!0,a=(n=void 0,ko(D(c))),u;u=yield $e(a.next()),r=u.done,!r;){o=u.value,s=!1;try{yield yield $e(o)}finally{s=!0}}}catch(l){n={error:l}}finally{try{!s&&!r&&(i=a.return)&&(yield $e(i.call(a)))}finally{if(n)throw n.error}}})}var Ge=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{c(n.next(l))}catch(p){s(p)}}function u(l){try{c(n.throw(l))}catch(p){s(p)}}function c(l){l.done?o(l.value):i(l.value).then(a,u)}c((n=n.apply(t,e||[])).next())})},Js=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof __values=="function"?__values(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=t[o]&&function(s){return new Promise(function(a,u){s=t[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(c){o({value:c,done:a})},s)}};function vt(t,e,r){let n=r;for(let i of B(t))n=e(n,i);return n}function gt(t,e,r){var n,i,o,s;return Ge(this,void 0,void 0,function*(){let a=r;try{for(var u=!0,c=Js(D(t)),l;l=yield c.next(),n=l.done,!n;){s=l.value,u=!1;try{a=yield e(a,s)}finally{u=!0}}}catch(p){i={error:p}}finally{try{!u&&!n&&(o=c.return)&&(yield o.call(c))}finally{if(i)throw i.error}}return a})}function Hs(t){let[e,r]=vt(t,(n,i)=>{let[o,s]=n;return[o+1,s+Number(i)]},[0,0]);return e?r/e:void 0}function Gs(t){return Ge(this,void 0,void 0,function*(){let[e,r]=yield gt(t,(n,i)=>{let[o,s]=n;return[o+1,s+Number(i)]},[0,0]);return e?r/e:void 0})}function Ys(t,e){return e!==void 0?vt(t,(r,n)=>e(n)>e(r??n)?n:r??n):vt(t,(r,n)=>{let i=r??n,o=n;return i>=o?i:o})}function Ks(t,e){return Ge(this,void 0,void 0,function*(){return e!==void 0?yield gt(t,(r,n)=>Ge(this,void 0,void 0,function*(){return(yield e(n))>(yield e(r??n))?n:r??n})):yield gt(t,(r,n)=>{let i=r??n,o=n;return i>=o?i:o})})}function Qs(t,e){return e!==void 0?vt(t,(r,n)=>e(n)<e(r??n)?n:r??n):vt(t,(r,n)=>{let i=r??n,o=n;return i<=o?i:o})}function Xs(t,e){return Ge(this,void 0,void 0,function*(){return e!==void 0?yield gt(t,(r,n)=>Ge(this,void 0,void 0,function*(){return(yield e(n))<(yield e(r??n))?n:r??n})):yield gt(t,(r,n)=>{let i=r??n,o=n;return i<=o?i:o})})}function Ao(t,e){let r=e!==void 0?e:n=>n;return vt(t,(n,i)=>{var o,s,a,u;return n=n,[r(i)<=r((o=n[0])!==null&&o!==void 0?o:i)?i:(s=n[0])!==null&&s!==void 0?s:i,r(i)>=r((a=n[1])!==null&&a!==void 0?a:i)?i:(u=n[1])!==null&&u!==void 0?u:i]},[void 0,void 0])}function Io(t,e){return Ge(this,void 0,void 0,function*(){let r=e!==void 0?e:n=>n;return yield gt(t,(n,i)=>Ge(this,void 0,void 0,function*(){var o,s,a,u;return n=n,[(yield r(i))<=(yield r((o=n[0])!==null&&o!==void 0?o:i))?i:(s=n[0])!==null&&s!==void 0?s:i,(yield r(i))>=(yield r((a=n[1])!==null&&a!==void 0?a:i))?i:(u=n[1])!==null&&u!==void 0?u:i]}),[void 0,void 0])})}function ea(t){let[e,r]=Ao(Wr(t,n=>Number(n)));return(r??0)-(e??0)}function ta(t){return Ge(this,void 0,void 0,function*(){let[e,r]=yield Io(rr(t,n=>Number(n)));return(r??0)-(e??0)})}function ra(t){return vt(t,(e,r)=>e+Number(r),0)}function na(t){return Ge(this,void 0,void 0,function*(){return yield gt(t,(e,r)=>e+Number(r),0)})}function ia(t){return vt(t,(e,r)=>(e??1)*r)}function oa(t){return Ge(this,void 0,void 0,function*(){return yield gt(t,(e,r)=>(e??1)*r)})}function jn(t){switch(!0){case t instanceof Array:return t.length;case tr(t):return t.length;case t instanceof Set:return t.size;case t instanceof Map:return t.size}return vt(t,e=>e+1,0)}function Ti(t){return Ge(this,void 0,void 0,function*(){switch(!0){case t instanceof Array:case tr(t):case t instanceof Set:case t instanceof Map:return jn(t)}return yield gt(t,e=>e+1,0)})}function sa(t){for(let e of B(t))return e;throw new st("Collection is empty")}function aa(t){var e,r,n,i;return Ge(this,void 0,void 0,function*(){try{for(var o=!0,s=Js(D(t)),a;a=yield s.next(),e=a.done,!e;){i=a.value,o=!1;try{return i}finally{o=!0}}}catch(u){r={error:u}}finally{try{!o&&!e&&(n=s.return)&&(yield n.call(s))}finally{if(r)throw r.error}}throw new st("Collection is empty")})}function ua(t){let e=!0,r;for(let n of B(t))r=n,e=!1;if(e)throw new st("Collection is empty");return r}function ca(t){var e,r,n,i;return Ge(this,void 0,void 0,function*(){let o=!0,s;try{for(var a=!0,u=Js(D(t)),c;c=yield u.next(),e=c.done,!e;){i=c.value,a=!1;try{s=i,o=!1}finally{a=!0}}}catch(l){r={error:l}}finally{try{!a&&!e&&(n=u.return)&&(yield n.call(u))}finally{if(r)throw r.error}}if(o)throw new st("Collection is empty");return s})}function la(t){let e=Te,r=Te;for(let n of B(t))e===Te&&(e=n),r=n;if(e===Te)throw new st("Collection is empty");return[e,r]}function fa(t){var e,r,n,i;return Ge(this,void 0,void 0,function*(){let o=Te,s=Te;try{for(var a=!0,u=Js(D(t)),c;c=yield u.next(),e=c.done,!e;){i=c.value,a=!1;try{let l=i;o===Te&&(o=l),s=l}finally{a=!0}}}catch(l){r={error:l}}finally{try{!a&&!e&&(n=u.return)&&(yield n.call(u))}finally{if(r)throw r.error}}if(o===Te)throw new st("Collection is empty");return[o,s]})}var zt=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{c(n.next(l))}catch(p){s(p)}}function u(l){try{c(n.throw(l))}catch(p){s(p)}}function c(l){l.done?o(l.value):i(l.value).then(a,u)}c((n=n.apply(t,e||[])).next())})},yr=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof __values=="function"?__values(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=t[o]&&function(s){return new Promise(function(a,u){s=t[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(c){o({value:c,done:a})},s)}};function da(t,e){for(let r of B(t))if(!e(r))return!1;return!0}function pa(t,e){var r,n,i,o;return zt(this,void 0,void 0,function*(){try{for(var s=!0,a=yr(D(t)),u;u=yield a.next(),r=u.done,!r;){o=u.value,s=!1;try{if(!(yield e(o)))return!1}finally{s=!0}}}catch(c){n={error:c}}finally{try{!s&&!r&&(i=a.return)&&(yield i.call(a))}finally{if(n)throw n.error}}return!0})}function ha(t){let e=new Set;for(let r of B(t)){if(e.has(r))return!1;e.add(r)}return!0}function ma(t){var e,r,n,i;return zt(this,void 0,void 0,function*(){let o=new Set;try{for(var s=!0,a=yr(D(t)),u;u=yield a.next(),e=u.done,!e;){i=u.value,s=!1;try{let c=i;if(o.has(c))return!1;o.add(c)}finally{s=!0}}}catch(c){r={error:c}}finally{try{!s&&!e&&(n=a.return)&&(yield n.call(a))}finally{if(r)throw r.error}}return!0})}function ya(t,e){for(let r of B(t))if(e(r))return!0;return!1}function _a(t,e){var r,n,i,o;return zt(this,void 0,void 0,function*(){try{for(var s=!0,a=yr(D(t)),u;u=yield a.next(),r=u.done,!r;){o=u.value,s=!1;try{if(yield e(o))return!0}finally{s=!0}}}catch(c){n={error:c}}finally{try{!s&&!r&&(i=a.return)&&(yield i.call(a))}finally{if(n)throw n.error}}return!1})}function va(t,e,r){if(e<0)return!1;r===void 0&&(r=i=>!!i);let n=0;for(let i of B(t))if(r(i)&&(n++,n>e))return!1;return n===e}function ga(t,e,r){var n,i,o,s;return zt(this,void 0,void 0,function*(){if(e<0)return!1;r===void 0&&(r=p=>!!p);let a=0;try{for(var u=!0,c=yr(D(t)),l;l=yield c.next(),n=l.done,!n;){s=l.value,u=!1;try{if((yield r(s))&&(a++,a>e))return!1}finally{u=!0}}}catch(p){i={error:p}}finally{try{!u&&!n&&(o=c.return)&&(yield o.call(c))}finally{if(i)throw i.error}}return a===e})}function vd(t){for(let e of B(t))return!1;return!0}function gd(t){var e,r,n,i;return zt(this,void 0,void 0,function*(){try{for(var o=!0,s=yr(D(t)),a;a=yield s.next(),e=a.done,!e;){i=a.value,o=!1;try{let u=i;return!1}finally{o=!0}}}catch(u){r={error:u}}finally{try{!o&&!e&&(n=s.return)&&(yield n.call(s))}finally{if(r)throw r.error}}return!0})}function at(t){return t==null?!1:typeof t[Symbol.iterator]=="function"}function _r(t){return t==null?!1:typeof t[Symbol.asyncIterator]=="function"}function Mt(t){return t==null?!1:t.next!==void 0&&typeof t.next=="function"}function xa(t){for(let[e,r]of vr(B(t)))if(e<r)return!1;return!0}function ba(t){var e,r,n,i;return zt(this,void 0,void 0,function*(){try{for(var o=!0,s=yr(Dn(D(t))),a;a=yield s.next(),e=a.done,!e;){i=a.value,o=!1;try{let[u,c]=i;if(u<c)return!1}finally{o=!0}}}catch(u){r={error:u}}finally{try{!o&&!e&&(n=s.return)&&(yield n.call(s))}finally{if(r)throw r.error}}return!0})}function wa(t){for(let[e,r]of vr(B(t)))if(e>r)return!1;return!0}function Ea(t){var e,r,n,i;return zt(this,void 0,void 0,function*(){try{for(var o=!0,s=yr(Dn(D(t))),a;a=yield s.next(),e=a.done,!e;){i=a.value,o=!1;try{let[u,c]=i;if(u>c)return!1}finally{o=!0}}}catch(u){r={error:u}}finally{try{!o&&!e&&(n=s.return)&&(yield n.call(s))}finally{if(r)throw r.error}}return!0})}function tr(t){return typeof t=="string"||t instanceof String}function ka(t,e){for(let r of B(t))if(e(r))return!1;return!0}function Ta(t,e){var r,n,i,o;return zt(this,void 0,void 0,function*(){try{for(var s=!0,a=yr(D(t)),u;u=yield a.next(),r=u.done,!r;){o=u.value,s=!1;try{if(yield e(o))return!1}finally{s=!0}}}catch(c){n={error:c}}finally{try{!s&&!r&&(i=a.return)&&(yield i.call(a))}finally{if(n)throw n.error}}return!0})}function Aa(...t){try{for(let e of Ei(...t))for(let[r,n]of vr(e))if(r!==n)return!1}catch{return!1}return!0}function Ia(...t){var e,r,n,i;return zt(this,void 0,void 0,function*(){try{try{for(var o=!0,s=yr(ki(...t)),a;a=yield s.next(),e=a.done,!e;){i=a.value,o=!1;try{let u=i;for(let[c,l]of vr(u))if(c!==l)return!1}finally{o=!0}}}catch(u){r={error:u}}finally{try{!o&&!e&&(n=s.return)&&(yield n.call(s))}finally{if(r)throw r.error}}}catch{return!1}return!0})}function Sa(...t){if(t.length<=1)return!0;let e=t.map(r=>jn(r));return new Set(e).size===1}function $a(...t){return zt(this,void 0,void 0,function*(){if(t.length<=1)return!0;let e=yield rr(t,r=>zt(this,void 0,void 0,function*(){return yield Ti(r)}));return new Set(yield Vt(e)).size===1})}var fl=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{c(n.next(l))}catch(p){s(p)}}function u(l){try{c(n.throw(l))}catch(p){s(p)}}function c(l){l.done?o(l.value):i(l.value).then(a,u)}c((n=n.apply(t,e||[])).next())})},nr=function(t){return this instanceof nr?(this.v=t,this):new nr(t)},ll=function(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(d){n[d]&&(i[d]=function(_){return new Promise(function(v,E){o.push([d,_,v,E])>1||a(d,_)})})}function a(d,_){try{u(n[d](_))}catch(v){p(o[0][3],v)}}function u(d){d.value instanceof nr?Promise.resolve(d.value.v).then(c,l):p(o[0][2],d)}function c(d){a("next",d)}function l(d){a("throw",d)}function p(d,_){d(_),o.shift(),o.length&&a(o[0][0],o[0][1])}},Pa=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof __values=="function"?__values(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=t[o]&&function(s){return new Promise(function(a,u){s=t[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(c){o({value:c,done:a})},s)}};function B(t){if(at(t))return t;if(Mt(t))return{[Symbol.iterator](){return t}};if(typeof t=="object"&&t!==null)return function*(){for(let e in t)Object.prototype.hasOwnProperty.call(t,e)&&(yield[e,t[e]])}();throw new le("Given collection is not iterable or iterator.")}function D(t){if(_r(t))return t;if(Mt(t))return{[Symbol.asyncIterator](){return ll(this,arguments,function*(){for(;;){let r=yield nr(t.next());if(r.done)return yield nr(void 0);yield yield nr(r.value)}})}};if(typeof t=="object"&&t!==null&&(t=B(t)),at(t))return{[Symbol.asyncIterator](){return ll(this,arguments,function*(){for(let r of t)yield yield nr(r)})}};throw new le("Given collection is not async iterable or iterator.")}function wo(t){if(Mt(t))return t;if(at(t))return function*(){for(let e of t)yield e}();throw new le("Given collection is not iterable or iterator.")}function Eo(t){if((Mt(t)||at(t))&&(t=D(t)),_r(t))return function(){return ll(this,arguments,function*(){var e,r,n,i;try{for(var o=!0,s=Pa(t),a;a=yield nr(s.next()),e=a.done,!e;){i=a.value,o=!1;try{yield yield nr(i)}finally{o=!0}}}catch(u){r={error:u}}finally{try{!o&&!e&&(n=s.return)&&(yield nr(n.call(s)))}finally{if(r)throw r.error}}})}();throw new le("Given collection is not iterable or iterator.")}function gr(t){let e=[];for(let r of B(t))e.push(r);return e}function Vt(t){var e,r,n,i;return fl(this,void 0,void 0,function*(){let o=[];try{for(var s=!0,a=Pa(D(t)),u;u=yield a.next(),e=u.done,!e;){i=u.value,s=!1;try{let c=i;o.push(c)}finally{s=!0}}}catch(c){r={error:c}}finally{try{!s&&!e&&(n=a.return)&&(yield n.call(a))}finally{if(r)throw r.error}}return o})}function Ma(t){let e=new Map;for(let[r,n]of B(t))e.set(r,n);return e}function Ca(t){var e,r,n,i;return fl(this,void 0,void 0,function*(){let o=new Map;try{for(var s=!0,a=Pa(D(t)),u;u=yield a.next(),e=u.done,!e;){i=u.value,s=!1;try{let[c,l]=i;o.set(c,l)}finally{s=!0}}}catch(c){r={error:c}}finally{try{!s&&!e&&(n=a.return)&&(yield n.call(a))}finally{if(r)throw r.error}}return o})}function Oa(t){let e=new Set;for(let r of B(t))e.add(r);return e}function Ra(t){var e,r,n,i;return fl(this,void 0,void 0,function*(){let o=new Set;try{for(var s=!0,a=Pa(D(t)),u;u=yield a.next(),e=u.done,!e;){i=u.value,s=!1;try{let c=i;o.add(c)}finally{s=!0}}}catch(c){r={error:c}}finally{try{!s&&!e&&(n=a.return)&&(yield n.call(a))}finally{if(r)throw r.error}}return o})}function Ai(t,e){return new Ds(wo(t),e).getRelatedIterables()}function Ii(t,e){return new Fs(Eo(t),e).getRelatedIterables()}var ey=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{c(n.next(l))}catch(p){s(p)}}function u(l){try{c(n.throw(l))}catch(p){s(p)}}function c(l){l.done?o(l.value):i(l.value).then(a,u)}c((n=n.apply(t,e||[])).next())})},me=function(t){return this instanceof me?(this.v=t,this):new me(t)},Si=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof __values=="function"?__values(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=t[o]&&function(s){return new Promise(function(a,u){s=t[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(c){o({value:c,done:a})},s)}},$i=function(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(d){n[d]&&(i[d]=function(_){return new Promise(function(v,E){o.push([d,_,v,E])>1||a(d,_)})})}function a(d,_){try{u(n[d](_))}catch(v){p(o[0][3],v)}}function u(d){d.value instanceof me?Promise.resolve(d.value.v).then(c,l):p(o[0][2],d)}function c(d){a("next",d)}function l(d){a("throw",d)}function p(d,_){d(_),o.shift(),o.length&&a(o[0][0],o[0][1])}},xd=function(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,o){e[i]=t[i]?function(s){return(r=!r)?{value:me(t[i](s)),done:i==="return"}:o?o(s):s}:o}};function*Fn(t,e){let r=new Set;if(t instanceof Map){e===void 0&&(e=n=>n[1]);for(let n of t){let i=e(n);r.has(i)||(yield n,r.add(i))}}else{e===void 0&&(e=n=>n);for(let n of B(t)){let i=e(n);r.has(i)||(yield n,r.add(i))}}}function Pi(t,e){return $i(this,arguments,function*(){var n,i,o,s;let a=new Set;if(t instanceof Map)for(let p of Fn(t,e))yield yield me(yield me(p));else{e===void 0&&(e=p=>p);try{for(var u=!0,c=Si(D(t)),l;l=yield me(c.next()),n=l.done,!n;){s=l.value,u=!1;try{let p=s,d=e(p);a.has(d)||(yield yield me(p),a.add(d))}finally{u=!0}}}catch(p){i={error:p}}finally{try{!u&&!n&&(o=c.return)&&(yield me(o.call(c)))}finally{if(i)throw i.error}}}})}function*Na(...t){yield*Mi(t.length,...t)}function La(...t){return $i(this,arguments,function*(){yield me(yield*xd(Si(Ci(t.length,...t))))})}function*Mi(t,...e){let r=new Ln,n=Ur(ke.LONGEST,Te,...e);for(let i of n)for(let[o,s]of xr(i))s!==Te&&(r.addUsage(s,`${o}`),r.getOwnersCount(s)===t&&(yield s,r.deleteUsage(s)))}function Ci(t,...e){return $i(this,arguments,function*(){var n,i,o,s;let a=new Ln,u=Zr(ke.LONGEST,Te,...e);try{for(var c=!0,l=Si(u),p;p=yield me(l.next()),n=p.done,!n;){s=p.value,c=!1;try{let d=s;for(let[_,v]of xr(d))v!==Te&&(a.addUsage(v,`${_}`),a.getOwnersCount(v)===t&&(yield yield me(v),a.deleteUsage(v)))}finally{c=!0}}}catch(d){i={error:d}}finally{try{!c&&!n&&(o=l.return)&&(yield me(o.call(l)))}finally{if(i)throw i.error}}})}function*ja(...t){let e=new Ln,r=new Set,n=Ur(ke.LONGEST,Te,...t);for(let i of n)for(let[o,s]of xr(i))s!==Te&&(e.addUsage(s,`${o}`),r.add(s),e.getOwnersCount(s)===t.length&&e.deleteUsage(s));for(let i of r)for(let o of xi.repeat(i,e.getUsagesCount(i)))yield o}function Da(...t){return $i(this,arguments,function*(){var r,n,i,o;let s=new Ln,a=new Set,u=Zr(ke.LONGEST,Te,...t);try{for(var c=!0,l=Si(u),p;p=yield me(l.next()),r=p.done,!r;){o=p.value,c=!1;try{let d=o;for(let[_,v]of xr(d))v!==Te&&(s.addUsage(v,`${_}`),a.add(v),s.getOwnersCount(v)===t.length&&s.deleteUsage(v))}finally{c=!0}}}catch(d){n={error:d}}finally{try{!c&&!r&&(i=l.return)&&(yield me(i.call(l)))}finally{if(n)throw n.error}}for(let d of a)for(let _ of xi.repeat(d,s.getUsagesCount(d)))yield yield me(_)})}function*Fa(...t){yield*Mi(1,...t)}function Ba(...t){return $i(this,arguments,function*(){yield me(yield*xd(Si(Ci(1,...t))))})}function*za(...t){if(t.length===0)return;if(t.length===1){for(let n of B(t[0]))yield[n];return}let r=gr(Wr(t,n=>gr(n))).reduce((n,i)=>n.flatMap(o=>i.map(s=>[...o,s])),[[]]);for(let n of r)yield n}function Va(...t){return $i(this,arguments,function*(){var r,n,i,o;if(t.length===0)return yield me(void 0);if(t.length===1){try{for(var s=!0,a=Si(D(t[0])),u;u=yield me(a.next()),r=u.done,!r;){o=u.value,s=!1;try{yield yield me([o])}finally{s=!0}}}catch(p){n={error:p}}finally{try{!s&&!r&&(i=a.return)&&(yield me(i.call(a)))}finally{if(n)throw n.error}}return yield me(void 0)}let l=(yield me(Vt(rr(t,p=>ey(this,void 0,void 0,function*(){return yield Vt(p)}))))).reduce((p,d)=>p.flatMap(_=>d.map(v=>[..._,v])),[[]]);for(let p of l)yield yield me(p)})}var be=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof __values=="function"?__values(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=t[o]&&function(s){return new Promise(function(a,u){s=t[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(c){o({value:c,done:a})},s)}},I=function(t){return this instanceof I?(this.v=t,this):new I(t)},Ie=function(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(d){n[d]&&(i[d]=function(_){return new Promise(function(v,E){o.push([d,_,v,E])>1||a(d,_)})})}function a(d,_){try{u(n[d](_))}catch(v){p(o[0][3],v)}}function u(d){d.value instanceof I?Promise.resolve(d.value.v).then(c,l):p(o[0][2],d)}function c(d){a("next",d)}function l(d){a("throw",d)}function p(d,_){d(_),o.shift(),o.length&&a(o[0][0],o[0][1])}};function*Wr(t,e){for(let r of B(t))yield e(r)}function rr(t,e){return Ie(this,arguments,function*(){var n,i,o,s;try{for(var a=!0,u=be(D(t)),c;c=yield I(u.next()),n=c.done,!n;){s=c.value,a=!1;try{yield yield I(yield I(e(s)))}finally{a=!0}}}catch(l){i={error:l}}finally{try{!a&&!n&&(o=u.return)&&(yield I(o.call(u)))}finally{if(i)throw i.error}}})}function*qa(t,e){for(let[r,n]of bi(t,e))n&&(yield r)}function Ua(t,e){return Ie(this,arguments,function*(){var n,i,o,s;try{for(var a=!0,u=be(wi(t,e)),c;c=yield I(u.next()),n=c.done,!n;){s=c.value,a=!1;try{let[l,p]=s;p&&(yield yield I(l))}finally{a=!0}}}catch(l){i={error:l}}finally{try{!a&&!n&&(o=u.return)&&(yield I(o.call(u)))}finally{if(i)throw i.error}}})}function*Za(t,e){let r=!0;for(let n of B(t)){if(r){if(!e(n)){r=!1,yield n;continue}continue}yield n}}function Wa(t,e){return Ie(this,arguments,function*(){var n,i,o,s;let a=!0;try{for(var u=!0,c=be(D(t)),l;l=yield I(c.next()),n=l.done,!n;){s=l.value,u=!1;try{let p=s;if(a){if(!(yield I(e(p)))){a=!1,yield yield I(p);continue}continue}yield yield I(p)}finally{u=!0}}}catch(p){i={error:p}}finally{try{!u&&!n&&(o=c.return)&&(yield I(o.call(c)))}finally{if(i)throw i.error}}})}function*Ja(t,e){for(let r of B(t))if(e(r))yield r;else break}function Ha(t,e){return Ie(this,arguments,function*(){var n,i,o,s;try{for(var a=!0,u=be(D(t)),c;c=yield I(u.next()),n=c.done,!n;){s=c.value,a=!1;try{let l=s;if(yield I(e(l)))yield yield I(l);else break}finally{a=!0}}}catch(l){i={error:l}}finally{try{!a&&!n&&(o=u.return)&&(yield I(o.call(u)))}finally{if(i)throw i.error}}})}function*bd(t,e){if(e<0)throw new le(`Number of repetitions cannot be negative: ${e}`);for(let r=e;r>0;--r)yield t}function wd(t,e){return Ie(this,arguments,function*(){if(e<0)throw new le(`Number of repetitions cannot be negative: ${e}`);let n=yield I(t);for(let i=e;i>0;--i)yield yield I(n)})}function*Ga(t,e){for(let r of B(t)){let n=e(r,e);if(at(n))for(let i of B(n))yield i;else yield n}}function Ya(t,e){return Ie(this,arguments,function*(){var n,i,o,s,a,u,c,l;try{for(var p=!0,d=be(D(t)),_;_=yield I(d.next()),n=_.done,!n;){s=_.value,p=!1;try{let A=yield I(e(s,e));if(at(A)||_r(A))try{for(var v=!0,E=(u=void 0,be(D(A))),$;$=yield I(E.next()),a=$.done,!a;){l=$.value,v=!1;try{yield yield I(l)}finally{v=!0}}}catch(R){u={error:R}}finally{try{!v&&!a&&(c=E.return)&&(yield I(c.call(E)))}finally{if(u)throw u.error}}else yield yield I(A)}finally{p=!0}}}catch(b){i={error:b}}finally{try{!p&&!n&&(o=d.return)&&(yield I(o.call(d)))}finally{if(i)throw i.error}}})}function*So(t,e=1/0){if(e<1){for(let r of B(t))t instanceof Map&&(r=r[1]),yield r;return}for(let r of B(t))if(t instanceof Map&&(r=r[1]),(at(r)||Mt(r))&&!tr(r))for(let n of So(r,e-1))yield n;else yield r}function $o(t,e=1/0){return Ie(this,arguments,function*(){var n,i,o,s,a,u,c,l,p,d,_,v;if(e<1){try{for(var E=!0,$=be(D(t)),b;b=yield I($.next()),n=b.done,!n;){s=b.value,E=!1;try{let T=s;t instanceof Map&&(T=T[1]),yield yield I(T)}finally{E=!0}}}catch(T){i={error:T}}finally{try{!E&&!n&&(o=$.return)&&(yield I(o.call($)))}finally{if(i)throw i.error}}return yield I(void 0)}try{for(var A=!0,R=be(D(t)),k;k=yield I(R.next()),a=k.done,!a;){l=k.value,A=!1;try{let T=l;if(t instanceof Map&&(T=T[1]),(_r(T)||at(T)||Mt(T))&&!tr(T))try{for(var C=!0,J=(d=void 0,be($o(T,e-1))),g;g=yield I(J.next()),p=g.done,!p;){v=g.value,C=!1;try{yield yield I(v)}finally{C=!0}}}catch(y){d={error:y}}finally{try{!C&&!p&&(_=J.return)&&(yield I(_.call(J)))}finally{if(d)throw d.error}}else yield yield I(T)}finally{A=!0}}}catch(T){u={error:T}}finally{try{!A&&!a&&(c=R.return)&&(yield I(c.call(R)))}finally{if(u)throw u.error}}})}function*Ka(t,e){for(let r of B(t))e(r)&&(yield r)}function Qa(t,e){return Ie(this,arguments,function*(){var n,i,o,s;try{for(var a=!0,u=be(D(t)),c;c=yield I(u.next()),n=c.done,!n;){s=c.value,a=!1;try{let l=s;(yield I(e(l)))&&(yield yield I(l))}finally{a=!0}}}catch(l){i={error:l}}finally{try{!a&&!n&&(o=u.return)&&(yield I(o.call(u)))}finally{if(i)throw i.error}}})}function*Oi(t,e,r,n=!0){if(e<1)throw new le(`Chunk size must be \u2265 1. Got ${e}`);if(r>=e)throw new le("Overlap size must be less than chunk size");let i=[],o=!1;for(let s of B(t))o=!1,i.push(s),i.length===e&&(yield i,i=i.slice(e-r),o=!0);!o&&i.length>0&&n&&(yield i)}function Ri(t,e,r,n=!0){return Ie(this,arguments,function*(){var o,s,a,u;if(e<1)throw new le(`Chunk size must be \u2265 1. Got ${e}`);if(r>=e)throw new le("Overlap size must be less than chunk size");let c=[],l=!1;try{for(var p=!0,d=be(D(t)),_;_=yield I(d.next()),o=_.done,!o;){u=_.value,p=!1;try{let v=u;l=!1,c.push(v),c.length===e&&(yield yield I(c),c=c.slice(e-r),l=!0)}finally{p=!0}}}catch(v){s={error:v}}finally{try{!p&&!o&&(a=d.return)&&(yield I(a.call(d)))}finally{if(s)throw s.error}}!l&&c.length>0&&n&&(yield yield I(c))})}function*Xa(t,e){for(let r of Oi(t,e,0))yield r}function eu(t,e){return Ie(this,arguments,function*(){var n,i,o,s;try{for(var a=!0,u=be(Ri(t,e,0)),c;c=yield I(u.next()),n=c.done,!n;){s=c.value,a=!1;try{yield yield I(s)}finally{a=!0}}}catch(l){i={error:l}}finally{try{!a&&!n&&(o=u.return)&&(yield I(o.call(u)))}finally{if(i)throw i.error}}})}function*vr(t){let e=Oi(t,2,1,!1);for(let r of e)yield r}function Dn(t){return Ie(this,arguments,function*(){var r,n,i,o;let s=Ri(t,2,1,!1);try{for(var a=!0,u=be(s),c;c=yield I(u.next()),r=c.done,!r;){o=c.value,a=!1;try{yield yield I(o)}finally{a=!0}}}catch(l){n={error:l}}finally{try{!a&&!r&&(i=u.return)&&(yield I(i.call(u)))}finally{if(n)throw n.error}}})}function*tu(t,e){if(e<0)throw new le(`Limit must be \u2265 0. Got ${e}`);let r=0;for(let n of B(t)){if(r>=e)return;yield n,++r}}function ru(t,e){return Ie(this,arguments,function*(){var n,i,o,s;if(e<0)throw new le(`Limit must be \u2265 0. Got ${e}`);let a=0;try{for(var u=!0,c=be(D(t)),l;l=yield I(c.next()),n=l.done,!n;){s=l.value,u=!1;try{let p=s;if(a>=e)return yield I(void 0);yield yield I(p),++a}finally{u=!0}}}catch(p){i={error:p}}finally{try{!u&&!n&&(o=c.return)&&(yield I(o.call(c)))}finally{if(i)throw i.error}}})}function*xr(t){let e=0;for(let r of B(t))yield[e++,r]}function nu(t){return Ie(this,arguments,function*(){var r,n,i,o;let s=0;try{for(var a=!0,u=be(D(t)),c;c=yield I(u.next()),r=c.done,!r;){o=c.value,a=!1;try{let l=o;yield yield I([s++,l])}finally{a=!0}}}catch(l){n={error:l}}finally{try{!a&&!r&&(i=u.return)&&(yield I(i.call(u)))}finally{if(n)throw n.error}}})}function*iu(t,e=0,r,n=1){if(e<0)throw new le("Parameter 'start' cannot be negative");if(r!==void 0&&r<0)throw new le("Parameter 'count' cannot be negative");if(n<=0)throw new le("Parameter 'step' must be positive");let i=0,o=0;for(let s of B(t))if(!(i++<e||(i-e-1)%n!==0)){if(o++===r&&r!==void 0)break;yield s}}function ou(t,e=0,r,n=1){return Ie(this,arguments,function*(){var o,s,a,u;if(e<0)throw new le("Parameter 'start' cannot be negative");if(r!==void 0&&r<0)throw new le("Parameter 'count' cannot be negative");if(n<=0)throw new le("Parameter 'step' must be positive");let c=0,l=0;try{for(var p=!0,d=be(D(t)),_;_=yield I(d.next()),o=_.done,!o;){u=_.value,p=!1;try{let v=u;if(c++<e||(c-e-1)%n!==0)continue;if(l++===r&&r!==void 0)break;yield yield I(v)}finally{p=!0}}}catch(v){s={error:v}}finally{try{!p&&!o&&(a=d.return)&&(yield I(a.call(d)))}finally{if(s)throw s.error}}})}function*su(t){for(let[e]of B(t))yield e}function au(t){return Ie(this,arguments,function*(){var r,n,i,o;try{for(var s=!0,a=be(D(t)),u;u=yield I(a.next()),r=u.done,!r;){o=u.value,s=!1;try{let[c]=o;yield yield I(c)}finally{s=!0}}}catch(c){n={error:c}}finally{try{!s&&!r&&(i=a.return)&&(yield I(i.call(a)))}finally{if(n)throw n.error}}})}function*uu(t,e,r=0){if(e<0||r<0)throw new le;let n=-r;for(let i of B(t))(n<0||n>=e)&&(yield i),++n}function cu(t,e,r=0){return Ie(this,arguments,function*(){var i,o,s,a;if(e<0||r<0)throw new le;let u=-r;try{for(var c=!0,l=be(D(t)),p;p=yield I(l.next()),i=p.done,!i;){a=p.value,c=!1;try{let d=a;(u<0||u>=e)&&(yield yield I(d)),++u}finally{c=!0}}}catch(d){o={error:d}}finally{try{!c&&!i&&(s=l.return)&&(yield I(s.call(l)))}finally{if(o)throw o.error}}})}function*lu(t){for(let[,e]of B(t))yield e}function fu(t){return Ie(this,arguments,function*(){var r,n,i,o;try{for(var s=!0,a=be(D(t)),u;u=yield I(a.next()),r=u.done,!r;){o=u.value,s=!1;try{let[,c]=o;yield yield I(c)}finally{s=!0}}}catch(c){n={error:c}}finally{try{!s&&!r&&(i=a.return)&&(yield I(i.call(a)))}finally{if(n)throw n.error}}})}function*du(t,e,r){let n=new Map,i=o=>{n.has(o)||(r!==void 0?n.set(o,{}):n.set(o,[]))};for(let o of B(t)){let s=e(o),a=r!==void 0?r(o):void 0,u=(at(s)||Mt(s))&&!tr(s)?s:[s];for(let c of Fn(u))i(c),a===void 0?n.get(c).push(o):n.get(c)[a]=o}for(let o of n)yield o}function pu(t,e,r){return Ie(this,arguments,function*(){var i,o,s,a,u,c,l,p;let d=new Map,_=k=>{d.has(k)||(r!==void 0?d.set(k,{}):d.set(k,[]))};try{for(var v=!0,E=be(D(t)),$;$=yield I(E.next()),i=$.done,!i;){a=$.value,v=!1;try{let k=a,C=yield I(e(k)),J=r!==void 0?yield I(r(k)):void 0,g=(_r(C)||at(C)||Mt(C))&&!tr(C)?C:[C];try{for(var b=!0,A=(c=void 0,be(Pi(g))),R;R=yield I(A.next()),u=R.done,!u;){p=R.value,b=!1;try{let T=p;_(T),J===void 0?d.get(T).push(k):d.get(T)[J]=k}finally{b=!0}}}catch(T){c={error:T}}finally{try{!b&&!u&&(l=A.return)&&(yield I(l.call(A)))}finally{if(c)throw c.error}}}finally{v=!0}}}catch(k){o={error:k}}finally{try{!v&&!i&&(s=E.return)&&(yield I(s.call(E)))}finally{if(o)throw o.error}}for(let k of d)yield yield I(k)})}function*hu(t,e){let r=gr(t);e!==void 0?r.sort(e):r.sort();for(let n of r)yield n}function mu(t,e){return Ie(this,arguments,function*(){let n=yield I(Vt(t));e!==void 0?n.sort(e):n.sort();for(let i of n)yield yield I(i)})}var Ed=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof __values=="function"?__values(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=t[o]&&function(s){return new Promise(function(a,u){s=t[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(c){o({value:c,done:a})},s)}},Jr=function(t){return this instanceof Jr?(this.v=t,this):new Jr(t)},ty=function(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,o){e[i]=t[i]?function(s){return(r=!r)?{value:Jr(t[i](s)),done:i==="return"}:o?o(s):s}:o}},ry=function(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(d){n[d]&&(i[d]=function(_){return new Promise(function(v,E){o.push([d,_,v,E])>1||a(d,_)})})}function a(d,_){try{u(n[d](_))}catch(v){p(o[0][3],v)}}function u(d){d.value instanceof Jr?Promise.resolve(d.value.v).then(c,l):p(o[0][2],d)}function c(d){a("next",d)}function l(d){a("throw",d)}function p(d,_){d(_),o.shift(),o.length&&a(o[0][0],o[0][1])}};function*kd(t=1,e=1){for(let r=t;;r+=e)yield r}function*dl(t){let e=[...B(t)];if(e.length!==0)for(;;)for(let r of e)yield r}function Td(t){return ry(this,arguments,function*(){var r,n,i,o;let s=[];try{for(var a=!0,u=Ed(D(t)),c;c=yield Jr(u.next()),r=c.done,!r;){o=c.value,a=!1;try{let l=o;s.push(l),yield yield Jr(l)}finally{a=!0}}}catch(l){n={error:l}}finally{try{!a&&!r&&(i=u.return)&&(yield Jr(i.call(u)))}finally{if(n)throw n.error}}yield Jr(yield*ty(Ed(dl(s))))})}function*Ad(t){for(;;)yield t}var Ni=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof __values=="function"?__values(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=t[o]&&function(s){return new Promise(function(a,u){s=t[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(c){o({value:c,done:a})},s)}},fe=function(t){return this instanceof fe?(this.v=t,this):new fe(t)},Li=function(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(d){n[d]&&(i[d]=function(_){return new Promise(function(v,E){o.push([d,_,v,E])>1||a(d,_)})})}function a(d,_){try{u(n[d](_))}catch(v){p(o[0][3],v)}}function u(d){d.value instanceof fe?Promise.resolve(d.value.v).then(c,l):p(o[0][2],d)}function c(d){a("next",d)}function l(d){a("throw",d)}function p(d,_){d(_),o.shift(),o.length&&a(o[0][0],o[0][1])}};function*yu(t,e){let r=0;for(let n of Po(B(t),e))r++,yield n/r}function _u(t,e){return Li(this,arguments,function*(){var n,i,o,s;let a=0;try{for(var u=!0,c=Ni(Mo(D(t),e)),l;l=yield fe(c.next()),n=l.done,!n;){s=l.value,u=!1;try{let p=s;a++,yield yield fe(p/a)}finally{u=!0}}}catch(p){i={error:p}}finally{try{!u&&!n&&(o=c.return)&&(yield fe(o.call(c)))}finally{if(i)throw i.error}}})}function*vu(t,e){e!==void 0&&(yield e);let r=e??0;for(let n of B(t))r-=Number(n),yield r}function gu(t,e){return Li(this,arguments,function*(){var n,i,o,s;e!==void 0&&(yield yield fe(e));let a=e??0;try{for(var u=!0,c=Ni(D(t)),l;l=yield fe(c.next()),n=l.done,!n;){s=l.value,u=!1;try{a-=Number(s),yield yield fe(a)}finally{u=!0}}}catch(p){i={error:p}}finally{try{!u&&!n&&(o=c.return)&&(yield fe(o.call(c)))}finally{if(i)throw i.error}}})}function*xu(t,e){e!==void 0&&(yield e);let r=e??-1/0;for(let n of B(t))r=Math.max(r,n),yield r}function bu(t,e){return Li(this,arguments,function*(){var n,i,o,s;e!==void 0&&(yield yield fe(e));let a=e??-1/0;try{for(var u=!0,c=Ni(D(t)),l;l=yield fe(c.next()),n=l.done,!n;){s=l.value,u=!1;try{a=Math.max(a,s),yield yield fe(a)}finally{u=!0}}}catch(p){i={error:p}}finally{try{!u&&!n&&(o=c.return)&&(yield fe(o.call(c)))}finally{if(i)throw i.error}}})}function*wu(t,e){e!==void 0&&(yield e);let r=e??1/0;for(let n of B(t))r=Math.min(r,n),yield r}function Eu(t,e){return Li(this,arguments,function*(){var n,i,o,s;e!==void 0&&(yield yield fe(e));let a=e??1/0;try{for(var u=!0,c=Ni(D(t)),l;l=yield fe(c.next()),n=l.done,!n;){s=l.value,u=!1;try{a=Math.min(a,s),yield yield fe(a)}finally{u=!0}}}catch(p){i={error:p}}finally{try{!u&&!n&&(o=c.return)&&(yield fe(o.call(c)))}finally{if(i)throw i.error}}})}function*ku(t,e){e!==void 0&&(yield e);let r=e??1;for(let n of B(t))r*=Number(n),yield r}function Tu(t,e){return Li(this,arguments,function*(){var n,i,o,s;e!==void 0&&(yield yield fe(e));let a=e??1;try{for(var u=!0,c=Ni(D(t)),l;l=yield fe(c.next()),n=l.done,!n;){s=l.value,u=!1;try{a*=Number(s),yield yield fe(a)}finally{u=!0}}}catch(p){i={error:p}}finally{try{!u&&!n&&(o=c.return)&&(yield fe(o.call(c)))}finally{if(i)throw i.error}}})}function*Po(t,e){e!==void 0&&(yield e);let r=e??0;for(let n of B(t))r+=Number(n),yield r}function Mo(t,e){return Li(this,arguments,function*(){var n,i,o,s;e!==void 0&&(yield yield fe(e));let a=e??0;try{for(var u=!0,c=Ni(D(t)),l;l=yield fe(c.next()),n=l.done,!n;){s=l.value,u=!1;try{a+=Number(s),yield yield fe(a)}finally{u=!0}}}catch(p){i={error:p}}finally{try{!u&&!n&&(o=c.return)&&(yield fe(o.call(c)))}finally{if(i)throw i.error}}})}var qr=class t{static of(e){return new t(B(e))}static ofEmpty(){return new t([])}static ofCount(e=1,r=1){return new t(br.count(e,r))}static ofCycle(e){return new t(br.cycle(e))}static ofRepeat(e){return new t(br.repeat(e))}zipWith(...e){return this.data=bi(this.data,...e),this}zipFilledWith(e,...r){return this.data=zs(e,this.data,...r),this}zipLongestWith(...e){return this.data=qs(this.data,...e),this}zipEqualWith(...e){return this.data=Ei(this.data,...e),this}chainWith(...e){return this.data=Zs(this.data,...e),this}chunkwiseOverlap(e,r,n=!0){return this.data=Oi(this.data,e,r,n),this}chunkwise(e){return this.data=Xa(this.data,e),this}compress(e){return this.data=qa(this.data,e),this}dropWhile(e){return this.data=Za(this.data,e),this}filter(e){return this.data=Ka(this.data,e),this}enumerate(){return this.data=xr(this.data),this}keys(){return this.data=su(this.data),this}limit(e){return this.data=tu(this.data,e),this}map(e){return this.data=Wr(this.data,e),this}flatMap(e){return this.data=Ga(this.data,e),this}flatten(e=1/0){return this.data=So(this.data,e),this}groupBy(e,r){return this.data=du(this.data,e,r),this}pairwise(){return this.data=vr(this.data),this}runningAverage(e){return this.data=yu(this.data,e),this}runningDifference(e){return this.data=vu(this.data,e),this}runningMax(e){return this.data=xu(this.data,e),this}runningMin(e){return this.data=wu(this.data,e),this}runningProduct(e){return this.data=ku(this.data,e),this}runningTotal(e){return this.data=Po(this.data,e),this}skip(e,r=0){return this.data=uu(this.data,e,r),this}slice(e=0,r,n=1){return this.data=iu(this.data,e,r,n),this}takeWhile(e){return this.data=Ja(this.data,e),this}values(){return this.data=lu(this.data),this}sort(e){return this.data=hu(this.data,e),this}distinct(e){return this.data=Fn(this.data,e),this}intersectionWith(...e){return this.data=Na(this.data,...e),this}partialIntersectionWith(e,...r){return this.data=Mi(e,this.data,...r),this}symmetricDifferenceWith(...e){return this.data=ja(this.data,...e),this}unionWith(...e){return this.data=Fa(this.data,...e),this}cartesianProductWith(...e){return this.data=za(this.data,...e),this}peek(e){let[r,n]=Ai(this.data,2);this.data=r;for(let i of n)e(i);return this}peekStream(e){let[r,n]=Ai(this.data,2);return this.data=r,e(t.of(n)),this}toValue(e,r){return vt(this,e,r)}toAverage(){return Hs(this)}toCount(){return jn(this)}toMax(e){return Ys(this,e)}toMin(e){return Qs(this,e)}toMinMax(e){return Ao(this,e)}toFirst(){return sa(this)}toFirstAndLast(){return la(this)}toLast(){return ua(this)}toSum(){return ra(this)}toProduct(){return ia(this)}toRange(){return ea(this)}allMatch(e){return da(this,e)}allUnique(){return ha(this)}anyMatch(e){return ya(this,e)}exactlyN(e,r){return va(this,e,r)}isSorted(){return wa(this)}isReversed(){return xa(this)}noneMatch(e){return ka(this,e)}sameWith(...e){return Aa(this.data,...e)}sameCountWith(...e){return Sa(this.data,...e)}tee(e){return Ai(this.data,e).map(r=>new t(r))}toArray(){return gr(this)}toMap(){return Ma(this)}toSet(){return Oa(this)}*[Symbol.iterator](){for(let e of this.data)yield e}constructor(e){this.data=e}};var pe=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{c(n.next(l))}catch(p){s(p)}}function u(l){try{c(n.throw(l))}catch(p){s(p)}}function c(l){l.done?o(l.value):i(l.value).then(a,u)}c((n=n.apply(t,e||[])).next())})},Id=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof __values=="function"?__values(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=t[o]&&function(s){return new Promise(function(a,u){s=t[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(c){o({value:c,done:a})},s)}},ji=function(t){return this instanceof ji?(this.v=t,this):new ji(t)},ny=function(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(d){n[d]&&(i[d]=function(_){return new Promise(function(v,E){o.push([d,_,v,E])>1||a(d,_)})})}function a(d,_){try{u(n[d](_))}catch(v){p(o[0][3],v)}}function u(d){d.value instanceof ji?Promise.resolve(d.value.v).then(c,l):p(o[0][2],d)}function c(d){a("next",d)}function l(d){a("throw",d)}function p(d,_){d(_),o.shift(),o.length&&a(o[0][0],o[0][1])}},Au=class t{static of(e){return new t(D(e))}static ofEmpty(){return new t(D([]))}static ofCount(e=1,r=1){return new t(D(br.count(e,r)))}static ofCycle(e){return new t(br.cycleAsync(e))}static ofRepeat(e){return new t(D(br.repeat(e)))}zipWith(...e){return this.data=wi(this.data,...e),this}zipFilledWith(e,...r){return this.data=Vs(e,this.data,...r),this}zipLongestWith(...e){return this.data=Us(this.data,...e),this}zipEqualWith(...e){return this.data=ki(this.data,...e),this}chainWith(...e){return this.data=Ws(this.data,...e),this}chunkwiseOverlap(e,r,n=!0){return this.data=Ri(this.data,e,r,n),this}chunkwise(e){return this.data=eu(this.data,e),this}compress(e){return this.data=Ua(this.data,e),this}dropWhile(e){return this.data=Wa(this.data,e),this}filter(e){return this.data=Qa(this.data,e),this}enumerate(){return this.data=nu(this.data),this}keys(){return this.data=au(this.data),this}limit(e){return this.data=ru(this.data,e),this}map(e){return this.data=rr(this.data,e),this}flatMap(e){return this.data=Ya(this.data,e),this}flatten(e=1/0){return this.data=$o(this.data,e),this}groupBy(e,r){return this.data=pu(this.data,e,r),this}pairwise(){return this.data=Dn(this.data),this}runningAverage(e){return this.data=_u(this.data,e),this}runningDifference(e){return this.data=gu(this.data,e),this}runningMax(e){return this.data=bu(this.data,e),this}runningMin(e){return this.data=Eu(this.data,e),this}runningProduct(e){return this.data=Tu(this.data,e),this}runningTotal(e){return this.data=Mo(this.data,e),this}skip(e,r=0){return this.data=cu(this.data,e,r),this}slice(e=0,r,n=1){return this.data=ou(this.data,e,r,n),this}takeWhile(e){return this.data=Ha(this.data,e),this}values(){return this.data=fu(this.data),this}sort(e){return this.data=mu(this.data,e),this}distinct(e){return this.data=Pi(this.data,e),this}intersectionWith(...e){return this.data=La(this.data,...e),this}partialIntersectionWith(e,...r){return this.data=Ci(e,this.data,...r),this}symmetricDifferenceWith(...e){return this.data=Da(this.data,...e),this}unionWith(...e){return this.data=Ba(this.data,...e),this}cartesianProductWith(...e){return this.data=Va(this.data,...e),this}peek(e){let[r,n]=Ii(this.data,2);return this.data=r,pe(this,void 0,void 0,function*(){var i,o,s,a;try{for(var u=!0,c=Id(n),l;l=yield c.next(),i=l.done,!i;){a=l.value,u=!1;try{e(a)}finally{u=!0}}}catch(p){o={error:p}}finally{try{!u&&!i&&(s=c.return)&&(yield s.call(c))}finally{if(o)throw o.error}}}),this}peekStream(e){let[r,n]=Ii(this.data,2);return this.data=r,e(t.of(n)),this}toValue(e,r){return pe(this,void 0,void 0,function*(){return yield gt(this,e,r)})}toAverage(){return pe(this,void 0,void 0,function*(){return yield Gs(this)})}toCount(){return pe(this,void 0,void 0,function*(){return yield Ti(this)})}toMax(e){return pe(this,void 0,void 0,function*(){return yield Ks(this,e)})}toMin(e){return pe(this,void 0,void 0,function*(){return yield Xs(this,e)})}toMinMax(e){return pe(this,void 0,void 0,function*(){return yield Io(this,e)})}toFirst(){return pe(this,void 0,void 0,function*(){return yield aa(this)})}toFirstAndLast(){return pe(this,void 0,void 0,function*(){return yield fa(this)})}toLast(){return pe(this,void 0,void 0,function*(){return yield ca(this)})}toSum(){return pe(this,void 0,void 0,function*(){return yield na(this)})}toProduct(){return pe(this,void 0,void 0,function*(){return yield oa(this)})}toRange(){return pe(this,void 0,void 0,function*(){return yield ta(this)})}allMatch(e){return pe(this,void 0,void 0,function*(){return yield pa(this,e)})}allUnique(){return pe(this,void 0,void 0,function*(){return yield ma(this)})}anyMatch(e){return pe(this,void 0,void 0,function*(){return yield _a(this,e)})}exactlyN(e,r){return pe(this,void 0,void 0,function*(){return ga(this,e,r)})}isSorted(){return pe(this,void 0,void 0,function*(){return yield Ea(this)})}isReversed(){return pe(this,void 0,void 0,function*(){return yield ba(this)})}noneMatch(e){return pe(this,void 0,void 0,function*(){return yield Ta(this,e)})}sameWith(...e){return pe(this,void 0,void 0,function*(){return yield Ia(this.data,...e)})}sameCountWith(...e){return pe(this,void 0,void 0,function*(){return yield $a(this.data,...e)})}tee(e){return Ii(this.data,e).map(r=>new t(r))}toArray(){return pe(this,void 0,void 0,function*(){return yield Vt(this)})}toMap(){return pe(this,void 0,void 0,function*(){return yield Ca(this)})}toSet(){return pe(this,void 0,void 0,function*(){return yield Ra(this)})}[Symbol.asyncIterator](){return ny(this,arguments,function*(){var r,n,i,o;try{for(var s=!0,a=Id(this.data),u;u=yield ji(a.next()),r=u.done,!r;){o=u.value,s=!1;try{yield yield ji(o)}finally{s=!0}}}catch(c){n={error:c}}finally{try{!s&&!r&&(i=a.return)&&(yield ji(i.call(a)))}finally{if(n)throw n.error}}})}constructor(e){this.data=e}};var xi={chunkwise:Xa,chunkwiseOverlap:Oi,compress:qa,dropWhile:Za,enumerate:xr,filter:Ka,flatMap:Ga,flatten:So,groupBy:du,keys:su,limit:tu,map:Wr,pairwise:vr,repeat:bd,skip:uu,slice:iu,sort:hu,takeWhile:Ja,values:lu,chunkwiseAsync:eu,chunkwiseOverlapAsync:Ri,compressAsync:Ua,dropWhileAsync:Wa,enumerateAsync:nu,filterAsync:Qa,flatMapAsync:Ya,flattenAsync:$o,groupByAsync:pu,keysAsync:au,limitAsync:ru,mapAsync:rr,pairwiseAsync:Dn,repeatAsync:wd,skipAsync:cu,sliceAsync:ou,sortAsync:mu,takeWhileAsync:Ha,valuesAsync:fu},br={count:kd,cycle:dl,cycleAsync:Td,repeat:Ad},iy={runningAverage:yu,runningDifference:vu,runningMax:xu,runningMin:wu,runningProduct:ku,runningTotal:Po,runningAverageAsync:_u,runningDifferenceAsync:gu,runningMaxAsync:bu,runningMinAsync:Eu,runningProductAsync:Tu,runningTotalAsync:Mo},oy={chain:Zs,zip:bi,zipFilled:zs,zipLongest:qs,zipEqual:Ei,chainAsync:Ws,zipAsync:wi,zipFilledAsync:Vs,zipLongestAsync:Us,zipEqualAsync:ki},sy={distinct:Fn,intersection:Na,partialIntersection:Mi,symmetricDifference:ja,union:Fa,cartesianProduct:za,distinctAsync:Pi,intersectionAsync:La,partialIntersectionAsync:Ci,symmetricDifferenceAsync:Da,unionAsync:Ba,cartesianProductAsync:Va},Bs={toAverage:Hs,toCount:jn,toFirst:sa,toFirstAndLast:la,toLast:ua,toMax:Ys,toMin:Qs,toMinMax:Ao,toProduct:ia,toRange:ea,toSum:ra,toValue:vt,toAverageAsync:Gs,toCountAsync:Ti,toFirstAsync:aa,toFirstAndLastAsync:fa,toLastAsync:ca,toMaxAsync:Ks,toMinAsync:Xs,toMinMaxAsync:Io,toProductAsync:oa,toRangeAsync:ta,toSumAsync:na,toValueAsync:gt},ay={allMatch:da,allUnique:ha,anyMatch:ya,exactlyN:va,isEmpty:vd,isAsyncIterable:_r,isIterable:at,isIterator:Mt,isReversed:xa,isSorted:wa,isString:tr,noneMatch:ka,same:Aa,sameCount:Sa,allMatchAsync:pa,allUniqueAsync:ma,anyMatchAsync:_a,exactlyNAsync:ga,isEmptyAsync:gd,isReversedAsync:ba,isSortedAsync:Ea,noneMatchAsync:Ta,sameAsync:Ia,sameCountAsync:$a},uy={tee:Ai,toArray:gr,toAsyncIterable:D,toAsyncIterator:Eo,toIterable:B,toIterator:wo,toMap:Ma,toSet:Oa,teeAsync:Ii,toArrayAsync:Vt,toMapAsync:Ca,toSetAsync:Ra};var Iu=class{apiInstance;constructor(e){this.apiInstance=e}parsinom(){return{P:Md.P,P_UTILS:Pd.P_UTILS,Parser:Sd.Parser,createParsingErrorMessage:Su.createParsingErrorMessage,ParsingError:Su.ParsingError,ParserContext:$d.ParserContext}}itertools(){return pl}};var $u=class{apiInstance;constructor(e){this.apiInstance=e}createBuilder(){return new Rn(this.apiInstance)}create(e){return L(m.object({markdown:m.string()}),{markdown:e}),new mr(this.apiInstance,e)}createText(e){return L(m.object({text:m.string()}),{text:e}),new yt(this.apiInstance,e,!1,!1,!1,!1)}createBoldText(e){return L(m.object({text:m.string()}),{text:e}),new yt(this.apiInstance,e,!0,!1,!1,!1)}createCursiveText(e){return L(m.object({text:m.string()}),{text:e}),new yt(this.apiInstance,e,!1,!0,!1,!1)}createUnderlinedText(e){return L(m.object({text:m.string()}),{text:e}),new yt(this.apiInstance,e,!1,!1,!0,!1)}createHighlightedText(e){return L(m.object({text:m.string()}),{text:e}),new yt(this.apiInstance,e,!1,!1,!1,!0)}createCode(e){return L(m.object({text:m.string()}),{text:e}),new po(this.apiInstance,e)}createParagraph(e){return L(m.object({content:m.string()}),{content:e}),new yo(this.apiInstance,e)}createHeading(e,r){return L(m.object({level:m.number(),content:m.string()}),{level:e,content:r}),new mo(this.apiInstance,e,r)}createBlockQuote(){return new vo(this.apiInstance)}createCallout(e,r,n=""){return L(m.object({title:m.string(),type:m.string(),args:m.string()}),{title:e,type:r,args:n}),new Cn(this.apiInstance,e,r,n)}createCollapsibleCallout(e,r,n="",i=!1){return L(m.object({title:m.string(),type:m.string(),args:m.string(),collapsed:m.boolean()}),{title:e,type:r,args:n,collapsed:i}),new Cn(this.apiInstance,e,r,n,!0,i)}createCodeBlock(e,r){return L(m.object({language:m.string(),content:m.string()}),{language:e,content:r}),new _o(this.apiInstance,e,r)}createTable(e,r){return L(m.object({header:m.array(m.string()),body:m.array(m.array(m.string()))}),{header:e,body:r}),new ho(this.apiInstance,e,r)}createList(e=!1){return L(m.object({ordered:m.boolean()}),{ordered:e}),new On(this.apiInstance,e)}createOrderedList(){return new On(this.apiInstance,!0)}};var Pu=class{apiInstance;messageManager;constructor(e){this.apiInstance=e,this.messageManager=e.plugin.messageManager}createMessage(e,r,n,i=""){return L(m.object({type:this.apiInstance.validators.messageType,title:m.string(),content:m.string(),code:m.string()}),{type:e,title:r,content:n,code:i}),this.messageManager.addMessage(new _s(e,r,n,i),this.apiInstance.instanceId)}getMessageById(e){return L(m.object({id:m.string()}),{id:e}),this.messageManager.messages.get().find(r=>r.uuid===e)}getMessagesForInstance(){return this.messageManager.getMessagesFromSource(this.apiInstance.instanceId)}};var cy=de('<p> </p> <div class="modal-button-container"></div>',1);function hl(t,e){Ze(e,!0);let r;function n(c){let l=r.querySelector("button:focus");if(l){let p=parseInt(l.getAttribute("data-index")??"0",10),d=td(p+(c?1:-1),e.options.buttons.length),_=r.querySelector(`button[data-index="${d}"]`);_&&_ instanceof HTMLElement&&_.focus()}}function i(c){c.key==="ArrowRight"&&(c.preventDefault(),n(!0)),c.key==="ArrowLeft"&&(c.preventDefault(),n(!0))}var o=cy(),s=Wt(o),a=ee(s,!0);K(s);var u=oe(s,2);Rr(u,21,()=>e.options.buttons,ro,(c,l,p)=>{var d=jt(()=>V(l).variant??"default"),_=jt(()=>({"data-index":p,onkeydown:v=>i(v)}));Lr(c,{get variant(){return V(d)},onclick:()=>e.modal.submit(V(l).value),get other(){return V(_)},children:(v,E)=>{Mr();var $=Cr();ye(()=>Ee($,V(l).label)),ie(v,$)},$$slots:{default:!0}})}),K(u),jc(u,c=>r=c,()=>r),ye(()=>Ee(a,e.options.content)),ie(t,o),We()}function ml(t,e,r){t.key==="Enter"&&e.inputType!=="textarea"&&(t.stopPropagation(),t.preventDefault(),e.modal.submit(V(r))),t.key==="Enter"&&t.ctrlKey&&e.inputType==="textarea"&&(t.stopPropagation(),t.preventDefault(),e.modal.submit(V(r))),t.key==="Escape"&&(t.stopPropagation(),t.preventDefault(),e.modal.submit(void 0))}var ly=de('<textarea style="width: 100%; resize: vertical; height: 200px"></textarea>'),fy=de('<input style="width: 100%;" type="text">'),dy=de('<input style="width: 100%;" type="number">'),py=de('<p> </p> <!> <div class="modal-button-container"><!> <!></div>',1);function Co(t,e){Ze(e,!0);let r=an(dt(e.options.initialValue));var n=py(),i=Wt(n),o=ee(i,!0);K(i);var s=oe(i,2);Ht(s,()=>e.inputType==="textarea",l=>{var p=ly();Pc(p),p.__keydown=[ml,e,r],ye(()=>Ft(p,"placeholder",e.options.placeholder??"Text here...")),io(p,()=>V(r),d=>ce(r,d)),ie(l,p)},l=>{var p=wc(),d=Wt(p);Ht(d,()=>e.inputType==="text",_=>{var v=fy();ls(v),v.__keydown=[ml,e,r],ye(()=>Ft(v,"placeholder",e.options.placeholder??"Text here...")),io(v,()=>V(r),E=>ce(r,E)),ie(_,v)},_=>{var v=dy();ls(v),v.__keydown=[ml,e,r],ye(()=>Ft(v,"placeholder",e.options.placeholder??"Number here...")),io(v,()=>V(r),E=>ce(r,E)),ie(_,v)},!0),ie(l,p)});var a=oe(s,2),u=ee(a);Lr(u,{get variant(){return"primary"},onclick:()=>e.modal.submit(V(r)),children:(l,p)=>{Mr();var d=Cr("Submit");ie(l,d)},$$slots:{default:!0}});var c=oe(u,2);Lr(c,{get variant(){return"default"},onclick:()=>e.modal.submit(void 0),children:(l,p)=>{Mr();var d=Cr("Cancel");ie(l,d)},$$slots:{default:!0}}),K(a),ye(()=>Ee(o,e.options.content)),ie(t,n),We()}mn(["keydown"]);var Cd=require("obsidian"),Mu=class extends Cd.FuzzySuggestModal{options;onSubmit;selectedValue;constructor(e,r,n){super(e),this.options=r,this.onSubmit=n,r.placeholder&&this.setPlaceholder(r.placeholder)}getItems(){return this.options.options}getItemText(e){return e.label}onChooseItem(e,r){this.selectedValue=e.value}onOpen(){super.onOpen(),this.selectedValue=void 0}onClose(){super.onClose(),queueMicrotask(()=>{this.onSubmit(this.selectedValue)})}};var Od=require("obsidian");var Bn=class extends Od.Modal{component;options;createComponent;onSubmit;submitted;constructor(e,r,n,i){super(e),this.options=r,this.createComponent=n,this.onSubmit=i,this.submitted=!1}onOpen(){this.submitted=!1,this.setTitle(this.options.title),this.containerEl.addClasses(this.options.classes??[]),this.createComponent(this,this.contentEl)}onClose(){this.submitted||(this.submitted=!0,this.onSubmit(void 0)),this.component&&pt(this.component),this.contentEl.empty()}submit(e){this.submitted=!0,this.onSubmit(e),this.close()}};var Cu=class{apiInstance;constructor(e){this.apiInstance=e}button(e){return L(m.object({options:this.apiInstance.validators.buttonModalPromptOptions}),{options:e}),new Promise((r,n)=>{try{new Bn(this.apiInstance.app,e,(i,o)=>Je(hl,{target:o,props:{options:e,modal:i}}),r).open()}catch(i){n(i)}})}async confirm(e){return L(m.object({options:this.apiInstance.validators.confirmPromptOptions}),{options:e}),await this.button({...e,buttons:[{label:"Confirm",value:!0,variant:"primary"},{label:"Cancel",value:!1,variant:"default"}]})??!1}async yesNo(e){return L(m.object({options:this.apiInstance.validators.yesNoPromptOptions}),{options:e}),await this.button({...e,buttons:[{label:"Yes",value:!0,variant:"primary"},{label:"No",value:!1,variant:"default"}]})}suggester(e){return L(m.object({options:this.apiInstance.validators.suggesterPromptOptions}),{options:e}),new Promise((r,n)=>{try{new Mu(this.apiInstance.app,e,r).open()}catch(i){n(i)}})}text(e){return L(m.object({options:this.apiInstance.validators.inputPromptOptions}),{options:e}),e.initialValue=e.initialValue??"",new Promise((r,n)=>{try{new Bn(this.apiInstance.app,e,(i,o)=>Je(Co,{target:o,props:{options:e,modal:i,inputType:"text"}}),r).open()}catch(i){n(i)}})}textarea(e){return L(m.object({options:this.apiInstance.validators.inputPromptOptions}),{options:e}),e.initialValue=e.initialValue??"",new Promise((r,n)=>{try{new Bn(this.apiInstance.app,e,(i,o)=>Je(Co,{target:o,props:{options:e,modal:i,inputType:"textarea"}}),r).open()}catch(i){n(i)}})}number(e){return L(m.object({options:this.apiInstance.validators.numberInputPromptOptions}),{options:e}),e.initialValue=e.initialValue??0,new Promise((r,n)=>{try{new Bn(this.apiInstance.app,e,(i,o)=>Je(Co,{target:o,props:{options:e,modal:i,inputType:"number"}}),r).open()}catch(i){n(i)}})}};var Rd=require("obsidian");var Ou=class{apiInstance;constructor(e){this.apiInstance=e}files(e){return L(m.object({query:m.function().args(this.apiInstance.validators.tFile).returns(m.unknown())}),{query:e}),this.apiInstance.app.vault.getMarkdownFiles().map(r=>e(r)).filter(r=>r!==void 0)}filesWithMetadata(e){return L(m.object({query:m.function().args(this.apiInstance.validators.tFile,this.apiInstance.validators.cachedMetadata.nullable(),m.string().array()).returns(m.unknown())}),{query:e}),this.apiInstance.app.vault.getMarkdownFiles().map(r=>{let n=this.apiInstance.app.metadataCache.getFileCache(r),i=n?(0,Rd.getAllTags)(n)??[]:[];return e(r,n,i)}).filter(r=>r!==void 0)}};var ut=Ar(bo()),hy=ut.P.manyNotOf("{}[]#^|:?").box("file path"),my=ut.P.sequence(hy,ut.P.string("#").then(ut.P.manyNotOf("[]#|^:")).optional(),ut.P.string("|").then(ut.P.manyNotOf("[]")).optional()),yy=ut.P.or(ut.P.sequenceMap((t,e)=>new Di(t!==void 0,e[0],e[1],e[2],!0),ut.P.string("!").optional(),my.wrapString("[[","]]")),ut.P.sequenceMap((t,e,r)=>{let n=!_y(r);return new Di(t!==void 0,r,void 0,e,n)},ut.P.string("!").optional(),ut.P.manyNotOf("[]").wrapString("[","]"),ut.P.manyNotOf("()").wrapString("(",")")));function _y(t){try{return new URL(t),!0}catch{return!1}}var Di=class t{isEmbed;target;block;alias;internal;constructor(e,r,n,i,o){this.isEmbed=e,this.target=r,this.block=n,this.alias=i,this.internal=o??!0}static fromUrl(e){return new t(!1,e.href,void 0,e.hostname,!1)}static fromString(e){return yy.thenEof().tryParse(e).value}fullTarget(){return this.block?`${this.target}#${this.block}`:this.target}toTFile(e,r){return e.metadataCache.getFirstLinkpathDest(this.target,r)??void 0}};var vy=Ar(require("obsidian"));var Vr=class{app;plugin;instanceId;validators;markdown;message;lib;query;prompt;internal;constructor(e,r,n){this.app=e,this.plugin=r,this.instanceId=n,this.validators=r.validators,this.markdown=new $u(this),this.message=new Pu(this),this.lib=new Iu(this),this.query=new Ou(this),this.prompt=new Cu(this),this.internal=new $s(this)}async importJs(e){L(m.object({path:m.string()}),{path:e});let r=this.app.vault.adapter.getResourcePath(e);return r=r.split("?")[0],import(r)}getPlugin(e){return L(m.object({pluginId:m.string()}),{pluginId:e}),this.app.plugins.getPlugin(e)??void 0}getObsidianModule(){return vy}reactive(e,...r){return L(m.object({fn:m.function(),initialArgs:m.array(m.unknown())}),{fn:e,initialArgs:r}),new yi(this,e,r)}getLinkTarget(e,r){return L(m.object({link:m.string()}),{link:e}),Di.fromString(e)?.toTFile(this.app,r)}};var Fi=class t{name;id;constructor(e,r){this.name=e,this.id=r}toString(){return`plugin:js-engine:${this.name}:${this.id}`}static create(e){return new t(e,self.crypto.randomUUID())}};var Ru=class{app;plugin;context;apiInstance;messages;func;globals;uuid;code;result;functionBuildError;functionRunError;functionBuildTime;functionRunTime;constructor(e){this.app=e.app,this.plugin=e.plugin,this.code=e.code,this.context=Object.assign({},e.context,e.contextOverrides),this.uuid=self.crypto.randomUUID(),this.apiInstance=new Vr(this.app,this.plugin,new Fi("JS_EXECUTION",this.uuid)),this.messages=[],this.func=void 0,this.globals=this.apiInstance.internal.createExecutionGlobals({component:e.component,context:this.context,container:e.container})}buildFunction(){let e=performance.now();try{this.func=window.eval(`(async function anonymous(${Object.keys(this.globals).join(", ")}) {

${this.code}

})
 //# sourceURL=${encodeURIComponent(this.apiInstance.instanceId.toString())}`)}catch(r){console.warn("failed to parse JS",r),r instanceof Error&&(this.functionBuildError=r,this.result=this.plugin.api?.message.createMessage("error","Failed to parse JS",`Failed to parse JS during execution "${this.uuid}"`,r.stack))}this.functionBuildTime=performance.now()-e}async runFunction(){if(this.functionBuildError)throw new Error("can not run function, function construction failed");if(!this.func)throw new Error("can not run function, function has not been constructed yet");let e=performance.now();try{this.result=await Promise.resolve(this.func(...Object.values(this.globals)))}catch(r){console.warn("failed to execute JS",r),r instanceof Error&&(this.functionRunError=r,this.result=this.apiInstance.message.createMessage("error","Failed to execute JS",`Failed to execute JS during execution "${this.uuid}"`,r.stack))}this.messages=this.apiInstance.message.getMessagesForInstance(),this.functionRunTime=performance.now()-e}isSuccessful(){return!this.functionBuildError&&!this.functionRunError}getMessages(){return this.messages}openStatsModal(){this.plugin.jsEngine.openExecutionStatsModal(this)}};var xy=de("<tr><td> </td><td> </td></tr>"),by=de("<tr><td>none</td><td>-</td></tr>"),wy=de("<p>None</p>"),Ey=de('<div><h2>JS Execution Stats</h2> <p> </p> <h3>Code</h3> <pre class="language-js"><code class="language-js"><!></code></pre> <h3>Time</h3> <p> </p> <p> </p> <h3>Arguments</h3> <div class="markdown-rendered"><table><thead><tr><th>Argument Name</th><th>Value Type</th></tr></thead><tbody></tbody></table></div> <h3>Messages</h3> <div></div></div>');function yl(t,e){Ze(e,!0);function r(b){let A=window.Prism;try{return A.highlight(b,A.languages.javascript,"javascript")}catch(R){return console.warn("js-engine | failed to highlight code",R),b}}var n=Ey(),i=oe(ee(n),2),o=ee(i);K(i);var s=oe(i,4),a=ee(s),u=ee(a);Ic(u,()=>r(e.execution.code),!1,!1),K(a),K(s);var c=oe(s,4),l=ee(c);ye(()=>Ee(l,`Build Time: ${Math.round(e.execution.functionBuildTime??0)??""} ms`)),K(c);var p=oe(c,2),d=ee(p);ye(()=>Ee(d,`Execution Time: ${Math.round(e.execution.functionRunTime??0)??""} ms`)),K(p);var _=oe(p,4),v=ee(_),E=oe(ee(v));Rr(E,21,()=>Object.entries(e.execution.globals),b=>b[0],(b,A)=>{var R=xy(),k=ee(R),C=ee(k,!0);K(k);var J=oe(k),g=ee(J,!0);K(J),K(R),ye(()=>{Ee(C,V(A)[0]),Ee(g,typeof V(A)[1])}),ie(b,R)},b=>{var A=by();ie(b,A)}),K(E),K(v),K(_);var $=oe(_,4);Rr($,21,()=>e.execution.getMessages(),ro,(b,A)=>{yn(b,{get messageWrapper(){return V(A)},get messageManager(){return e.execution.plugin.messageManager},showDeleteButton:!1,showMessageSource:!1})},b=>{var A=wy();ie(b,A)}),K($),K(n),ye(()=>Ee(o,`Execution ID: ${e.execution.uuid??""}`)),ie(t,n),We()}var Nd=require("obsidian");var Nu=class extends Nd.Modal{plugin;component;execution;constructor(e,r){super(e),this.plugin=r}setExecution(e){this.execution=e}onOpen(){if(this.contentEl.empty(),this.component&&pt(this.component),this.contentEl.hasClass("js-engine-execution-stats-modal")||this.contentEl.addClass("js-engine-execution-stats-modal"),this.execution===void 0){this.contentEl.createEl("p",{cls:"mod-warning",text:"No execution data available."});return}this.component=Je(yl,{target:this.contentEl,props:{execution:this.execution}})}onClose(){this.contentEl.empty(),this.component&&pt(this.component)}};var Lu=class{app;plugin;executionStatsModal;activeExecutions;constructor(e,r){this.app=e,this.plugin=r,this.executionStatsModal=new Nu(this.app,this.plugin),this.activeExecutions=new Map}async execute(e){let r=new Ru({app:this.app,plugin:this.plugin,...e});return this.activeExecutions.set(r.uuid,r),r.buildFunction(),r.functionBuildError||await r.runFunction(),this.activeExecutions.delete(r.uuid),r}openExecutionStatsModal(e){this.executionStatsModal.setExecution(e),this.executionStatsModal.open()}};var Du=require("obsidian"),ju=class extends Du.FuzzySuggestModal{plugin;selectCallback;constructor(e,r){super(e.app),this.plugin=e,this.selectCallback=r}getItems(){return this.app.vault.getAllLoadedFiles().filter(r=>r instanceof Du.TFile).filter(r=>r.extension==="js")}getItemText(e){return e.path}onChooseItem(e,r){this.selectCallback(e)}};var Hr=require("obsidian"),Fu=class extends Hr.MarkdownRenderChild{plugin;content;ctx;jsExecution;constructor(e,r,n,i){super(e),this.plugin=r,this.content=n,this.ctx=i}getExecutionFile(){if(!this.ctx.sourcePath)return;let e=this.plugin.app.vault.getAbstractFileByPath(this.ctx.sourcePath);if(e&&e instanceof Hr.TFile)return e}buildExecutionContext(){let e=this.getExecutionFile();return{file:e,metadata:e===void 0?void 0:this.plugin.app.metadataCache.getFileCache(e)??void 0,block:void 0}}async tryRun(e){return this.plugin.jsEngine.execute({code:this.content,context:e,contextOverrides:{},component:this,container:this.containerEl})}async renderResults(e){let r=this.buildExecutionContext();this.jsExecution=await this.tryRun(r);let n=this.jsExecution.result;await new _i(this.plugin,e,this.ctx.sourcePath,this).render(n)}renderExecutionStats(e){let r=new Hr.Menu;r.addItem(i=>{i.setTitle("Info"),i.setIcon("info"),i.onClick(()=>{this.jsExecution?.openStatsModal()})}),r.addItem(i=>{i.setTitle("Rerun"),i.setIcon("rotate-ccw"),i.onClick(()=>{this.render()})});let n=e.createDiv();n.addClass("js-engine-execution-stats-button"),n.addEventListener("click",i=>{r.showAtMouseEvent(i)}),(0,Hr.setIcon)(n,"info")}async render(){this.containerEl.empty(),this.containerEl.hasClass("js-engine-execution-render-child")||this.containerEl.addClass("js-engine-execution-render-child");try{await this.renderResults(this.containerEl),this.renderExecutionStats(this.containerEl)}catch(e){this.containerEl.innerText=e instanceof Error?e.stack?.toString()??"":e,this.containerEl.addClass("mod-warning")}}onload(){this.render()}onunload(){}};var ky=require("obsidian"),Ld={};var jd=require("obsidian"),Bu=class extends jd.Plugin{settings;messageManager;jsEngine;api;validators;constructor(e,r){super(e,r),this.validators=new Is,this.messageManager=new vs(this.app,this),this.jsEngine=new Lu(this.app,this),this.api=new Vr(this.app,this,Fi.create("PLUGIN"))}async onload(){await this.loadSettings(),this.messageManager.initStatusBarItem(),this.registerMarkdownCodeBlockProcessor("js-engine",(e,r,n)=>{n.addChild(new Fu(r,this,e,n))}),this.addCommand({id:"execute-js-file",name:"Execute JS File",callback:()=>{new ju(this,async e=>{await this.api.internal.executeFileSimple(e.path)}).open()}}),await this.registerCodeMirrorMode()}onunload(){}async loadSettings(){let e=await this.loadData();this.settings=Object.assign({},Ld,e)}async saveSettings(){await this.saveData(this.settings)}async registerCodeMirrorMode(){window.CodeMirror.defineMode("js-engine",e=>({startState:()=>qi.startState?.(4),blankLine:n=>qi.blankLine?.(n,4),copyState:n=>qi.startState?.(4),token:(n,i)=>`line-HyperMD-codeblock ${qi.token?.(n,i)}`}))}};

/* nosourcemap */