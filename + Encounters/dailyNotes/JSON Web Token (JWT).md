---
aliases: 
<<<<<<< HEAD
theme: 
priority: false
=======
categories: 
high_priority: false
>>>>>>> 93a933e (refactor(dailyNotes): update metadata structure for daily notes)
tags:
---
JSON Web Token (JWT) 是一种开放标准 (RFC 7519)，用于在网络应用环境间安全地将信息作为JSON对象传输。JWT通常用于身份验证和信息交换，尤其是在单点登录（SSO）系统中。下面是JWT身份验证系统的基本工作原理和组成部分：

### JWT的结构

一个JWT由三部分组成，并以`.`分隔：

1. **Header（头部）**：包含令牌类型（即JWT）和使用的签名算法（如HMAC SHA256或RSA）。
2. **Payload（载荷）**：包含声明（claims）。声明是关于实体（通常是用户）和其他数据的声明。这些可以是注册的声明、公共声明或私有声明。
3. **Signature（签名）**：用于验证消息在此过程中没有被更改，并且对于使用私钥签名的令牌，它还可以验证JWT的发送方是否为它所声称的身份。

### 工作流程

1. **用户登录**：
   - 用户通过用户名和密码或其他认证方式向服务器发送登录请求。
   - 服务器验证用户的凭据。

2. **生成JWT**：
   - 如果凭据有效，服务器会创建一个新的JWT，其中包含用户的标识符（例如用户ID）、过期时间等信息。
   - 服务器使用密钥对这个JWT进行签名，确保其完整性和真实性。

3. **返回JWT**：
   - 服务器将JWT返回给客户端。这通常通过HTTP响应头中的`Authorization`字段来完成，格式为`Bearer <token>`。

4. **存储JWT**：
   - 客户端收到JWT后，通常会将其存储在本地存储（如localStorage或sessionStorage）或Cookie中。

5. **访问受保护资源**：
   - 当客户端需要访问受保护的API资源时，它会在每个请求的`Authorization`头中附带JWT。
   - 服务器接收到请求后，会验证JWT的有效性，包括检查签名和过期时间。

6. **验证JWT**：
   - 服务器使用相同的密钥解码JWT并验证其签名。
   - 如果JWT有效且未过期，服务器将允许访问请求的资源；否则，将拒绝请求。

7. **刷新JWT**：
   - 为了提高安全性，JWT通常设置较短的过期时间（如1小时）。
   - 在JWT即将过期时，客户端可以请求一个新的JWT而不必让用户重新登录。这通常通过发送一个特殊的“刷新”请求来实现，该请求携带另一个长期有效的刷新令牌。

### 安全考虑

- **不要在JWT中存储敏感信息**：因为JWT的Payload是可解码的，即使签名保证了它的完整性，但内容本身并不加密。
- **使用HTTPS**：始终使用HTTPS协议来防止中间人攻击。
- **合理的过期时间**：设置适当的过期时间，既不过于短暂也不过于长久。
- **刷新令牌的安全管理**：如果使用刷新令牌机制，确保它们的安全存储，并且在不再需要时能够被撤销。

JWT提供了一种轻量级、自包含的方式来处理身份验证，适用于分布式系统和服务间的通信。

这些第三方库在Node.js和React项目中有着不同的用途。下面是每个库的功能简介：

1. **globals**:
   - **版本**: `^15.9.0`
   - **功能**: 这个包通常不是直接使用的库，而是在一些工具（如ESLint）配置中使用，用于定义全局变量。它提供了一组常见的全局变量，这些变量可以在JavaScript代码中使用，但不会被标记为未定义的警告或错误。这对于设置开发环境中的代码检查非常有用。

2. **chart.js**:
   - **版本**: `^4.4.4`
   - **功能**: Chart.js 是一个简单、灵活且强大的JavaScript图表库。它可以用来创建各种类型的图表，包括线形图、条形图、饼图、雷达图等。Chart.js易于集成到Web应用中，并且可以通过配置选项进行高度自定义。它非常适合需要可视化数据的应用程序。

3. **jwt-decode**:
   - **版本**: `^4.0.0`
   - **功能**: JWT (JSON Web Token) 是一种开放标准 (RFC 7519)，用于在网络应用间安全地传输信息作为JSON对象。`jwt-decode` 库提供了一个方法来解码JWT，使你能够读取其中包含的信息，例如用户ID、过期时间等。这个库对于处理认证和授权相关的逻辑非常有用，特别是在基于JWT的身份验证系统中。

4. **react-google-recaptcha**:
   - **版本**: `^3.1.0`
   - **功能**: 这是一个React组件，简化了Google reCAPTCHA v3 和 v2 的集成过程。reCAPTCHA 是Google提供的服务，旨在保护网站免受垃圾邮件和滥用行为的影响。通过使用 `react-google-recaptcha`，开发者可以很容易地将reCAPTCHA添加到React应用中，以提高表单提交或其他交互的安全性。

这些库共同作用于增强应用程序的不同方面，从安全性和用户体验到数据可视化。根据你的具体需求，你可以选择适合的库来实现特定的功能。如果你有更多关于如何使用这些库的具体问题或需要示例代码，请告诉我！