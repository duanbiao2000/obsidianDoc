---
title: 好的代码就像一封写给下一个维护它的开发人员的情书。 --- Good code is like a love letter to the next developer who will maintain it.
categories: []
date: 2024-11-21T13:35:52 (UTC +08:00)
tags: []
source: https://addyo.substack.com/p/good-code-is-like-a-love-letter-to
author: Addy Osmani
---


# 好的代码就像一封写给下一个维护它的开发人员的情书。 --- Good code is like a love letter to the next developer who will maintain it.

> ## Excerpt
> Code, in its essence, is communication.

---
<!--more-->

We often romanticize the notion of programming, presenting it as an abstract form of art, a science, or even a form of magic. The truth, however, is much more practical and grounded. Code, in its essence, is communication. At the start of my book, [Learning JavaScript Design Patterns](https://patterns.addy.ie/), I say "good code is like a love letter to the next developer who will maintain it". It is an intimate correspondence, from one developer to another, spanning time and space.  
我们经常将编程的概念浪漫化，将其呈现为一种抽象的艺术形式、一门科学，甚至一种魔法。然而，事实更为实际和有根据。代码本质上就是沟通。在我的[《学习 JavaScript 设计模式》](https://patterns.addy.ie/)一书的开头，我说“好的代码就像一封写给下一个维护它的开发人员的情书”。这是一种跨越时空、从一个开发者到另一个开发者的亲密通信。

_I just updated my [recent essay](https://addyosmani.com/blog/good-code) above on “Good code” to be more visual and nuanced  
我刚刚更新了我[最近关于“好代码”的文章，](https://addyosmani.com/blog/good-code)使其更加直观和细致_

## The Language of Love 爱的语言

A love letter is personal, sincere, and considerate. It's a poetic testament of feelings, often meticulously crafted, with the intent to convey emotions accurately. Good code shares these characteristics. It's personal, as it mirrors the logic and approach of the coder. **Good code is sincere and unadorned with unnecessary complexity**. It's considerate, mindful of the next developer who will decipher it. And above all, it's meticulously crafted to solve a problem with utmost efficiency.  
情书是私人的、真诚的、体贴的。这是一种诗意的情感见证，通常是精心制作的，旨在准确地传达情感。好的代码具有这些特征。它是个人的，因为它反映了编码器的逻辑和方法。**好的代码是真诚的、朴素的，没有不必要的复杂性**。它很体贴，考虑到下一个将破译它的开发人员。最重要的是，它经过精心设计，能够以最高效率解决问题。

**"Simple code is the hardest kind of code to write. You know you've achieved perfection when you don't have to add anything but take things away."  
“简单的代码是最难编写的代码。当你不需要添加任何东西而只需删除一些东西时，你就知道你已经达到了完美。”**

> What do I mean by unnecessary complexity?  
> 不必要的复杂性是什么意思？
> 
> -   **Simplicity:** The code is written in the most straightforward way possible, avoiding overly clever or intricate solutions unless truly justified.  
>     **简单性：**代码以最直接的方式编写，避免过于聪明或复杂的解决方案，除非真正合理。
>     
> -   **Directness:** It follows clear and logical paths, avoiding excessive abstraction or indirection.  
>     **直接性：**遵循清晰且符合逻辑的路径，避免过度抽象或间接。
>     
> -   **Minimalism:** It uses only the necessary elements to achieve its purpose, avoiding redundancy and excessive features.  
>     **极简主义：**只使用实现其目的所必需的元素，避免冗余和过多的功能。
>     

## Patterns and Principles 模式和原则

Just like we have grammar rules and linguistic structures to frame our words and feelings into comprehensible sentences, we have design patterns and principles to shape our code.  
就像我们有语法规则和语言结构来将我们的单词和感受构建成可理解的句子一样，我们也有设计模式和原则来塑造我们的代码。

Patterns don't just make code scalable, maintainable, and efficient, but also readable and understandable. **Patterns provide a shared vocabulary for developers, enabling them to express intricate software designs with universally recognized structures.**  
模式不仅使代码可扩展、可维护和高效，而且还具有可读性和可理解性。**模式为开发人员提供了共享词汇表，使他们能够用普遍认可的结构来表达复杂的软件设计。**

**"Design patterns are not a silver bullet. They are like spices in a kitchen; a pinch here and there can enhance the flavor, but too much can ruin the dish."  
“设计图案并不是灵丹妙药。它们就像厨房里的香料；这里捏一下，那里捏一下可以增强味道，但太多就会毁掉这道菜。”**

Good code, therefore, leverages these patterns strategically, just like a seasoned poet would use poetic devices to create resonance. It does not apply patterns just for the sake of it, but because they add value to the solution, they make the code more comprehensible, and they ensure the longevity of the codebase.  
因此，好的代码会策略性地利用这些模式，就像经验丰富的诗人会使用诗意的手段来产生共鸣一样。它并不是仅仅为了模式而应用模式，而是因为它们为解决方案增加了价值，使代码更易于理解，并确保了代码库的寿命。

SOLID, DRY, KISS, and YAGNI are not merely principles but are cornerstones of crafting good code. They guide a developer to make wise decisions, balance between under and over-engineering, and ultimately, write a 'love letter' that the receiver cherishes.  
SOLID、DRY、KISS 和 YAGNI 不仅是原则，而且是编写优秀代码的基石。它们引导开发人员做出明智的决定，在设计不足和过度设计之间取得平衡，并最终写出一封令接收者珍视的“情书”。

## Best Practices 最佳实践

Good code also adheres to established best practices, much like a love letter would follow certain social etiquettes. **Proper naming conventions, modularization, and thorough commenting are all part of this.**  
好的代码还遵循既定的最佳实践，就像情书遵循某些社交礼仪一样。正确的命名约定、模块化和彻底的注释都是其中的一部分。

> What do I mean by good social etiquettes?  
> 良好的社交礼仪是什么意思？
> 
> -   **Consistent formatting:** Maintaining consistent indentation, spacing, and style is like using clean handwriting and beautiful stationery in your love letter – it enhances readability and aesthetics.  
>     **一致的格式：**保持一致的缩进、间距和风格就像在情书中使用干净的笔迹和漂亮的信纸——它增强了可读性和美观性。
>     
> -   **Error handling:** Anticipating and gracefully handling potential problems like a mature partner shows responsibility and reliability in your code.  
>     **错误处理：**像成熟的合作伙伴一样预测并优雅地处理潜在问题，显示出代码的责任感和可靠性。
>     
> -   **Testing:** Ensuring your code functions as intended, like verifying its accuracy before sending your love letter, fosters trust and confidence.  
>     **测试：**确保您的代码按预期运行，例如在发送情书之前验证其准确性，从而培养信任和信心。
>     

They are not just rules to be followed, but they are the norms that define how considerate the code (or coder) is towards the next developer. They are there to make sure the intent of the coder is not lost in translation.  
它们不仅仅是要遵循的规则，而且是定义代码（或编码器）对下一个开发人员的考虑程度的规范。他们的作用是确保编码人员的意图不会在翻译中丢失。

## Embracing Tests 拥抱考验

Just as a writer proofreads their letter, so should a developer with their code. Rigorous testing and the practice of Test-Driven Development (TDD) are indicators of a carefully crafted 'love letter'. Tests validate the performance of code under various scenarios, uncovering potential flaws and blind spots. The presence of a robust testing framework is often a testament to the quality of the code.  
正如作家校对他们的信件一样，开发人员也应该校对他们的代码。严格的测试和测试驱动开发 (TDD) 的实践是一封精心制作的“情书”的标志。测试验证代码在各种场景下的性能，发现潜在的缺陷和盲点。强大的测试框架的存在通常是代码质量的证明。

## Empathy and Respect 同理心和尊重

Above all, the core of a love letter is **empathy and respect for the reader**, and so it is with good code. Writing code that others can read, understand, and maintain, is a form of professional respect.  
最重要的是，情书的核心是**对读者的同理心和尊重**，好的代码也是如此。编写其他人可以阅读、理解和维护的代码是一种职业尊重。

It signals the coder's understanding that their work is part of a larger, ongoing effort, that software is a living entity that evolves, and that many hands will shape its destiny over time.  
它标志着编码人员的理解，他们的工作是更大的、持续的努力的一部分，软件是一个不断发展的生命实体，随着时间的推移，许多人的手将塑造它的命运。

## **Refactoring 重构**

In the world of love letters, one doesn't always get it right on the first draft. There's a beauty in revisiting and refining your words, ensuring they convey the right message. Similarly, in coding, refactoring is an art.  
在情书的世界里，人们并不总是能在初稿上写出正确的内容。重新审视和完善你的言语，确保它们传达正确的信息是一种美妙的感觉。同样，在编码中，重构也是一门艺术。

It’s about revisiting existing code and improving its structure, readability, and performance without changing its behavior.  
它涉及重新审视现有代码并改进其结构、可读性和性能而不改变其行为。

**Good developers understand that code, like a love letter, is a living document, evolving and improving over time.  
优秀的开发人员明白，代码就像情书一样，是一个活生生的文档，会随着时间的推移而不断发展和改进。**

They embrace refactoring as a vital part of the software development lifecycle, ensuring their ‘love letter’ remains relevant and resonant.  
他们将重构视为软件开发生命周期的重要组成部分，确保他们的“情书”保持相关性和共鸣。

## JavaScript Design Patterns  
JavaScript 设计模式

In 2023, I wrote "Learning JavaScript Design Patterns: The Second Edition". The book focuses on how to write beautiful, structured, and maintainable JavaScript and React code by applying modern (pragmatic) design patterns to the language. You also learn about performance and rendering patterns such as the different kinds of server-side rendering and islands architecture. The First Edition of the book was read over 5 million times online over a decade and I hope the second physical edition is an interesting follow-up.  
2023年，我写了《学习JavaScript设计模式：第二版》。本书重点介绍如何通过将现代（实用）设计模式应用于语言来编写美观、结构化且可维护的 JavaScript 和 React 代码。您还可以了解性能和渲染模式，例如不同类型的服务器端渲染和岛架构。十多年来，这本书的第一版在网上的阅读量超过 500 万次，我希望第二版实体版是一个有趣的后续。

### A Pragmatic Perspective 务实的视角

Design patterns, as conceptualized in the seminal _"Design Patterns: Elements of Reusable Object-Oriented Software"_ by the "Gang of Four" (GoF), are generalized, reusable solutions to common problems encountered in software design. They provide a vocabulary for developers to discuss, critique, and improve software architecture.  
正如“四人帮”(GoF)在开创性的_“设计模式：可重用面向对象软件的元素”_中所概念化的，设计模式是针对软件设计中遇到的常见问题的通用的、可重用的解决方案。它们为开发人员提供了讨论、批评和改进软件架构的词汇表。

#### The Evolution of Language Features  
语言特征的演变

One argument against traditional design patterns is the evolution of programming languages. For instance, the adoption of higher-order functions in JavaScript and React may reduce the need for complex strategies to manage behavior variation, a role traditionally filled by patterns like Strategy or Command. Even in languages with advanced features, the need for structured ways to address common architectural problems persists.  
反对传统设计模式的争论之一是编程语言的演变。例如，在 JavaScript 和 React 中采用高阶函数可能会减少对管理行为变化的复杂策略的需求，而管理行为变化的角色传统上由策略或命令等模式来填补。即使在具有高级功能的语言中，仍然需要结构化的方法来解决常见的架构问题。

#### Functional Programming and New Patterns  
函数式编程和新模式

Functional programming has indeed introduced new patterns and best practices. Concepts like immutability, pure functions, and higher-order functions are now integral to modern software design. These concepts can coexist with, and sometimes enhance, traditional design patterns.  
函数式编程确实引入了新的模式和最佳实践。不变性、纯函数和高阶函数等概念现在已成为现代软件设计不可或缺的一部分。这些概念可以与传统设计模式共存，有时甚至可以增强传统设计模式。

#### Pragmatism in Applying Design Patterns  
应用设计模式的实用主义

The key to effective use of design patterns lies in pragmatism. Developers should avoid over-engineering and the temptation to fit a problem into a predefined pattern. Instead, focus on the specific problem at hand and consider if a pattern genuinely adds clarity and value to the solution. The goal should not be to use patterns for their own sake, but to write clearer, more maintainable code.  
有效使用设计模式的关键在于实用主义。开发人员应避免过度设计和将问题纳入预定义模式的诱惑。相反，应关注手头的具体问题，并考虑模式是否真正为解决方案增加了清晰度和价值。目标不应该是为了模式本身而使用模式，而是为了编写更清晰、更易于维护的代码。

## Trade-offs 权衡

### **Avoid dogma 避免教条**

While design patterns offer undeniable advantages, it's crucial to avoid their dogmatic application. Over-engineering complex solutions for simple problems can lead to unnecessary bloat and hinder performance. The key lies in pragmatism. Approach design patterns as a toolbox, not a rulebook. Choose the right tool for the job, considering the project's specific needs, complexity, and resource constraints.  
虽然设计模式提供了不可否认的优势，但避免教条式应用至关重要。针对简单问题过度设计复杂的解决方案可能会导致不必要的膨胀并阻碍性能。关键在于务实。将设计模式视为工具箱，而不是规则手册。考虑项目的特定需求、复杂性和资源限制，为工作选择正确的工具。

### Design Patterns: Cons 设计模式：缺点

One could argue that design patterns have become obsolete due to the following reasons:  
有人可能会说，由于以下原因，设计模式已经过时：

-   **Overhype and Misuse:** Design patterns were once overhyped and often applied indiscriminately, leading to overly complex and convoluted code.  
    **过度炒作和滥用：**设计模式曾经被过度炒作，并且经常不加区别地应用，导致代码过于复杂和令人费解。
    
-   **Functional Programming Features:** Modern languages like JavaScript offer powerful functional programming features like higher-order functions and immutability, potentially eliminating the need for traditional design patterns.  
    **函数式编程功能：** JavaScript 等现代语言提供了强大的函数式编程功能，例如高阶函数和不变性，可能消除对传统设计模式的需求。
    
-   **Cargo-Culting and Political Games:** Some organizations enforce the rigid application of design patterns, leading to cargo-culting and prioritizing patterns over solving actual problems.  
    **货物崇拜和政治游戏：**一些组织强制执行设计模式的严格应用，导致货物崇拜和优先考虑模式而不是解决实际问题。
    

### Design Patterns: Pros 设计模式：优点

Despite the criticisms, design patterns can still hold significant value:  
尽管受到批评，设计模式仍然具有重要的价值：

-   **Reusable Solutions:** Design patterns represent proven solutions to common problems encountered in software architecture and design.  
    **可重用的解决方案：**设计模式代表了软件架构和设计中遇到的常见问题的经过验证的解决方案。
    
-   **Improved Communication:** They provide a common vocabulary for developers to discuss design decisions and architecture, facilitating collaboration and understanding.  
    **改进的沟通：**它们为开发人员提供了讨论设计决策和架构的通用词汇，从而促进协作和理解。
    
-   **Enhanced Maintainability:** Well-chosen and applied design patterns can lead to cleaner, more modular, and easier-to-maintain code bases.  
    **增强的可维护性：**精心选择和应用的设计模式可以带来更干净、更模块化且更易于维护的代码库。
    

## Move Forward with Nuance 与 Nuance 一起前进

Rather than adopting a binary stance, a more nuanced approach to design patterns is necessary:  
与其采用二元立场，不如对设计模式采取更细致的方法：

-   Understand the problem: Before applying any pattern, clearly define the problem you are trying to solve.  
    了解问题：在应用任何模式之前，请明确定义您要解决的问题。
    
-   Evaluate the benefits and drawbacks: Analyze how the pattern might impact your code's complexity, flexibility, and maintainability in the specific context.  
    评估优点和缺点：分析该模式如何影响特定上下文中代码的复杂性、灵活性和可维护性。
    
-   Modern alternatives: Explore alternative solutions offered by modern language features like functional programming before resorting to traditional patterns.  
    现代替代方案：在诉诸传统模式之前，探索现代语言功能（例如函数式编程）提供的替代解决方案。
    

## Writing Code for Two Audiences: Machine and Human  
为两种受众编写代码：机器和人类

For generations, software engineers have toiled with the dual task of crafting code that both the machine and another human could understand. This delicate balancing act between precision and clarity has been at the heart of good software design. Today, with the rise of AI-powered tools like code generation and large language models (LLMs), the landscape is shifting. While these tools promise increased productivity and efficiency, they also raise questions about the future of software design principles like design patterns.  
几代人以来，软件工程师一直致力于编写机器和其他人都能理解的代码的双重任务。精确性和清晰度之间的微妙平衡一直是优秀软件设计的核心。如今，随着代码生成和大型语言模型 ( LLMs ) 等人工智能驱动工具的兴起，情况正在发生变化。虽然这些工具有望提高生产力和效率，但它们也引发了关于设计模式等软件设计原则的未来的问题。

### The Human Element: A Legacy of Readability  
人的因素：可读性的遗产

The core tenets of good code have always prioritized human understanding. Techniques like descriptive variable names, proper indentation, and clear comments aim to make code more legible and maintainable for future developers. This focus on human readability ensures smoother collaboration, faster debugging, and easier code reuse.  
优秀代码的核心原则始终优先考虑人类理解。描述性变量名称、适当缩进和清晰注释等技术旨在使代码对于未来的开发人员来说更加清晰和可维护。对人类可读性的关注确保了更顺畅的协作、更快的调试和更轻松的代码重用。

While AI tools can generate code quickly and efficiently, they often prioritize functionality over readability. This can lead to code that is difficult to understand and maintain, ultimately negating the initial gain in productivity.  
虽然人工智能工具可以快速有效地生成代码，但它们通常优先考虑功能而不是可读性。这可能会导致代码难以理解和维护，最终抵消最初的生产力提升。

### The Role of Design Patterns in the Age of AI  
设计模式在人工智能时代的作用

Design patterns have long been considered cornerstones of good software design. They offer proven solutions to recurring problems, promoting code reuse and maintainability. However, with AI-powered tools capable of suggesting or even generating code that implements these patterns, their relevance might appear diminished.  
设计模式长期以来一直被认为是良好软件设计的基石。他们为重复出现的问题提供经过验证的解决方案，促进代码重用和可维护性。然而，随着人工智能工具能够建议甚至生成实现这些模式的代码，它们的相关性可能会减弱。

This, however, is a misinterpretation. AI tools, while capable of generating code based on design patterns, cannot replace the human understanding and decision-making required to apply these patterns effectively. More importantly, AI cannot yet grasp the nuances of context, intent, and future development needs that are crucial for choosing the right pattern and adapting it to specific situations.  
然而，这是一种误解。人工智能工具虽然能够根据设计模式生成代码，但无法取代有效应用这些模式所需的人类理解和决策。更重要的是，人工智能尚无法掌握背景、意图和未来发展需求的细微差别，而这些细微差别对于选择正确的模式并使其适应特定情况至关重要。

### The Future: Collaboration, not Replacement  
未来：协作，而不是替代

The rise of AI in software development is not a cause for alarm, but rather an opportunity for evolution. Instead of replacing the human developer, AI tools should be viewed as collaborators, capable of automating tedious tasks and freeing up time for higher-level thinking.  
人工智能在软件开发中的兴起并不是一个令人担忧的原因，而是一个进化的机会。人工智能工具不应取代人类开发人员，而应被视为协作者，能够自动执行繁琐的任务并腾出时间进行更高层次的思考。

Instead of obsessing over whether AI will render design patterns obsolete, we should focus on how AI can enhance their implementation and application. For example, AI can help us discover new patterns, tailor existing ones to specific contexts, and generate code that adheres to specific design principles.  
我们不应该沉迷于人工智能是否会让设计模式变得过时，而应该关注人工智能如何增强其实现和应用。例如，人工智能可以帮助我们发现新模式，根据特定环境定制现有模式，并生成符合特定设计原则的代码。

This collaboration between human and machine holds immense potential for improving the quality, efficiency, and maintainability of software. The future belongs to developers who can leverage AI tools while remaining grounded in the principles of good design, human readability, and a deep understanding of software architecture.  
人与机器之间的协作对于提高软件的质量、效率和可维护性具有巨大的潜力。未来属于那些能够利用人工智能工具，同时坚持良好设计、人类可读性和对软件架构深刻理解的原则的开发人员。

### AI may augment how we write good code  
人工智能可能会增强我们编写优秀代码的方式

While AI tools are revolutionizing the way we write code, they should not be seen as a replacement for the human element in software development. The ability to write code that is both readable and efficient remains a critical skill for developers. By embracing AI as a collaborator and focusing on understanding the nuances of software design, we can create code that is both powerful and enduring.  
虽然人工智能工具正在彻底改变我们编写代码的方式，但它们不应被视为软件开发中人为因素的替代品。编写可读且高效的代码的能力仍然是开发人员的一项关键技能。通过将人工智能作为合作者并专注于理解软件设计的细微差别，我们可以创建既强大又持久的代码。

This future is not about surrendering to AI, but rather about embracing a new era of human-machine collaboration, where developers can focus on creativity, innovation, and problem-solving, leaving the tedious tasks to their AI partners. Together, humans and AI have the potential to unlock a new chapter of software development, one that is more efficient, more productive, and more human-centered than ever before.  
这个未来不是屈服于人工智能，而是拥抱人机协作的新时代，开发者可以专注于创造力、创新和解决问题，把繁琐的任务留给人工智能伙伴。人类和人工智能共同有潜力开启软件开发的新篇章，这一章比以往任何时候都更加高效、生产力更高、更加以人为本。

## Conclusion 结论

In the end, coding is an act of creation, not unlike writing a poem or painting a picture. The beauty of our creations, however, is not judged solely by the elegance of our algorithms or the efficiency of our code, but by the joy and ease with which others can build upon our work.  
最后，编码是一种创造行为，就像写诗或画画一样。然而，我们的创作之美不仅仅取决于我们算法的优雅或代码的效率，还取决于其他人可以在我们的工作基础上构建的快乐和轻松。

**"The mark of a good programmer is not the absence of bugs, but the presence of clear intentions."  
“优秀程序员的标志不是没有错误，而是有明确的意图。”**

As developers, our task is not just to solve today's problems but also to ensure we do not become tomorrow's problem.  
作为开发人员，我们的任务不仅仅是解决今天的问题，还要确保我们不会成为明天的问题。

**Good code, therefore, is not just a love letter, but it is our lasting legacy to those who follow us.  
因此，好的代码不仅仅是一封情书，更是我们留给追随者的永久遗产。**

[

![](https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F050e71aa-f083-446b-9a52-3ab5324bbbb8_6072x6072.jpeg)

](https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F050e71aa-f083-446b-9a52-3ab5324bbbb8_6072x6072.jpeg)
