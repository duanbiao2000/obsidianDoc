---
view-count: 4
related:
  - "[[视频质量评定手册]]"
  - "[[剪辑技能核心技术栈]]"
  - "[[Prompt管理科学]]"

tags: ["Domain/Cognitive/Tools", "Type/Reference"]

---
# FFmpeg 视频压缩 · 无脑上手一页清

## 0. 只记这一条就够了（通用压缩）

```bash
ffmpeg -i input.mp4 -c:v libx264 -crf 23 -preset medium -c:a aac -b:a 128k output.mp4
```

- `-c:v libx264`：最常用 H.264 编码器  
- `-crf 23`：画质好 + 体积小，日常推荐  
- 一般能压掉 60%–80% 体积，画质肉眼几乎无差

---

## 1. CRF 快速心法（越大越糊，文件越小）

| 场景       | 命令里用的 CRF |
|------------|----------------|
| 质量优先（存档） | 18–20         |
| 日常使用     | 23（默认用它） |
| 只求小（发朋友圈） | 28           |

示例：  
```bash
# 高质量
ffmpeg -i in.mp4 -c:v libx264 -crf 18 -c:a aac out_high.mp4

# 极致压缩
ffmpeg -i in.mp4 -c:v libx264 -crf 28 -c:a aac -b:a 64k out_small.mp4
```

---

## 2. 三个最常用场景命令

### 2.1 压缩视频（最常用）

```bash
ffmpeg -i in.mp4 -c:v libx264 -crf 23 -preset medium -c:a aac -b:a 128k out.mp4
```

### 2.2 无损裁剪一段（快，剪片段用）

```bash
# 从 1分30秒 开始，截 30 秒
ffmpeg -ss 00:01:30 -i in.mp4 -t 30 -c copy out_clip.mp4
```

### 2.3 提取音频（做播客 / 语音）

```bash
ffmpeg -i in.mp4 -vn -c:a libmp3lame -q:a 2 out.mp3
```

---

## 3. 提速：有独显就开硬件加速（可选）

```bash
# NVIDIA 显卡
ffmpeg -hwaccel cuda -i in.mp4 -c:v h264_nvenc -preset p7 -c:a copy out.mp4
```

- 同等体积下速度可快数倍，画质略差一点，一般够用

---

## 4. 避坑指南（少走弯路版）

| 别这么干                    | 改成这样                         | 为什么                    |
|-----------------------------|----------------------------------|---------------------------|
| 上各种在线压缩 / GIF 网站     | 本地用 FFmpeg                   | 隐私风险 + 广告 + 不可控      |
| 为压缩打开大型剪辑软件（PR 等） | 直接一行 FFmpeg 命令             | 只压缩不剪辑，用 FFmpeg 最快  |
| 手动一张张压图片             | 用 FFmpeg 批量处理              | 一行命令搞定几十张，省时间     |
| 只会 GUI 工具不懂参数         | 固定用上面几条模板命令 + 改文件名 | 够用就行，不必记全参数        |

---

## 5. 核心参数速查（只记这 4 个）

| 参数       | 作用             | 记法                        |
|------------|------------------|-----------------------------|
| `-c:v`     | 视频编码器       | 日常用 `libx264` 或 `h264_nvenc` |
| `-crf`     | 控制画质 & 体积  | 数值越大越糊，23 万金油        |
| `-preset`  | 编码速度 vs 体积 | `medium` 通用，`fast` 更快点  |
| `-ss`/`-t` | 起始时间 / 时长  | 剪片段用                     |

---

## 6. 一句话心法

> 不用学 FFmpeg 全家桶。  
> 先把「压缩一条」「裁剪一段」「提取音频」这三条命令用熟，  
> 你已经超过 90% 用户的效率。