## 技术组合方案
![[assets/img/覆盖全端业务的大前端技术/IMG-覆盖全端业务的大前端技术-20240714145113630.png]]
工具集成工具Hub Cli:   前端统一开发工具平台
  - 云构建
  - 自带用户识别接口

工具服务平台Hub Service:  前段统一开发服务平台
  - 工具灰度控制: 快速实现对人/系统/特定环境的快速灰度(对云构建同样生效)

Hub Cli -> Hub Service -> DEF service & other

工程生命周期:
1) 初始化项目: hub init
2) 将代码部署至日常: hub daily
3) 将代码部署至线上: hub publish
4) 构建项目: hub build
5) 启动开发服务: hub server
6) 启动代码测试: hub test

自动化发布流程:
```bash
git add.
git commit -m '提交信息'
git push origin daily/0.0.1
```
通过流程编排,将操作自动化:
```bash
hub daily -q
```
```
//请选择当前Commit类型
feat: 新功能
fix: 修补bug
docs: 文档相关改动
style: 代码格式化改动,代码逻辑并未产生任何变化
refactor: 重构代码或其他优化措施
test: 增加测试
chore: 构建过程或辅助工具的变动
```

- 首先渲染布局;
- 核心: 渲染首屏, 对于播放页重点是播放器和剧集内容;
- 其他: 看不到可以偷偷加载,不及时展示也没问题;

#### 播放页的服务支持两种渲染方式
- 当服务端有渲染压力时或集群不稳定时,可以切换为客户端渲染,服务端只负责页面的SEO数据获取,渲染工作交给浏览器.
- 当数据源服务出现问题时,可以使用CDN数据兜底进行页面容灾
#### 组件: 多模块升级配合改造
播放页的页面组件包括: 首屏,分发区,弹幕,播放器,评论等等一系列的组件,此次播放页升级对应的组件也做了重构,其中弹幕,评论已随新版播放页一起[[灰度上线]].